!function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=0,c=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={5:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({}[e]||e)+"-bundle-release-a7bb971.js"}(e);var u=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/__assets/",i.oe=function(e){throw console.error(e),e};var o=window.talkjsWebpackJsonp=window.talkjsWebpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var u=s;i(i.s=278)}([function(e,t,n){"use strict";e.exports=n(160)},,function(e,t,n){"use strict";var r=n(33);function i(e,t){if(!e()){if(!t){t=e.toString().replace(/^function\s*\(\)\s*\{\s*return\s*(.*);\s*\}\s*$/,"`$1`")+" was not true"}o(t)}}!function(e){function t(e){null==e&&o(`Expected val to be defined, is ${e}`)}function n(e,t){if(!function(e,t){switch(t){case"undefined":return void 0===e;case String:return"string"==typeof e||e instanceof String;case Boolean:return"boolean"==typeof e||e instanceof Boolean;case Number:return"number"==typeof e||e instanceof Number;default:return e instanceof t}}(e,t)){o("Expected "+t.name+", got "+String(e))}}e.defined=t,e.has=function(e,n){t(e),t(e[n])},e.is=n,e.equals=function(e,t){if(e!==t){o("Expected "+String(t)+", got "+String(e))}},e.oneOf=function(e,t){if(!t.includes(e)){o(`Expected ${e} to be one of ${JSON.stringify(t)}`)}},e.isArray=function(e,t){n(e,Array),e&&e.length>0&&n(e[0],t)},e.optional=function(e,t){void 0!==e&&n(e,t)},e.falsy=function(e){if(e){o("Expected undefined, got "+String(e))}},e.never=function(){o("Should've been unreachable")}}(i||(i={}));t.a=i;function o(e){r.a.error(e)}},function(e,t,n){"use strict";n.d(t,"F",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"H",(function(){return l})),n.d(t,"w",(function(){return h})),n.d(t,"r",(function(){return d})),n.d(t,"u",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"A",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"z",(function(){return v})),n.d(t,"f",(function(){return A})),n.d(t,"B",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"E",(function(){return S})),n.d(t,"x",(function(){return b})),n.d(t,"q",(function(){return D})),n.d(t,"y",(function(){return T})),n.d(t,"p",(function(){return C})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return I})),n.d(t,"s",(function(){return N})),n.d(t,"C",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"G",(function(){return x})),n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return M})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return F})),n.d(t,"c",(function(){return j}));var r=n(36);n.d(t,"e",(function(){return r.c})),n.d(t,"h",(function(){return r.d})),n.d(t,"t",(function(){return r.e})),n.d(t,"v",(function(){return r.g})),n.d(t,"D",(function(){return r.h}));n(2);var i=n(8),o=n(21),s=n(0),a=n.n(s);function u(e){return i.g(e,(e=>e.match(/px$/)?parseInt(e):e))}function c(...e){return(e=e.filter((e=>e)).map((e=>Array.isArray(e)?c.apply(null,e):e))).join(" ")}function l(e,t=!0){const n=Object(s.useCallback)((t=>{27===t.keyCode&&e()}),[e]);Object(s.useEffect)((()=>{if(t)return window.addEventListener("keydown",n,!0),()=>window.removeEventListener("keydown",n,!0)}),[t])}function h(e){return 13===e.keyCode&&!e.shiftKey}function d(e){return 27===e.keyCode&&!e.shiftKey}function f(e){return e&&window.IntersectionObserver?new Promise((t=>{const n=new IntersectionObserver((r=>{t(r[0].isIntersecting),n.unobserve(e)}),{threshold:.9});n.observe(e)})):Promise.resolve(!1)}function p(e,t,n){const r=document.getElementById(e);if(r&&r.value){const[i,o]=[r.selectionStart,r.selectionEnd];return n({[t]:r.value},(()=>document.getElementById(e).setSelectionRange(i,o))),r.value}return""}function m(e){return decodeURIComponent(escape(atob(e)))}function g(e){return null!==e}function E(e){return e?JSON.parse(m(e)):{}}function _(){try{return new WeakMap}catch(e){const t={has:()=>!1,get:()=>{},set:()=>t};return t}}function v(){const e=_();return{getOrCompute(t,n,r){if(e.has(t)){const r=e.get(t);if(function(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}(r.subkeys,n))return r.value}const i=r();return e.set(t,{value:i,subkeys:n}),i}}}function A(e){if(e<1024)return"1 KB";const t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";const n=parseInt(Math.floor(Math.log(e)/Math.log(1024))+"",10);return 0===n?`${e} ${t[n]})`:`${(e/1024**n).toFixed(0)} ${t[n]}`}function y(e){return e.isFirstRender?e.timeOfFirstRender:O(e.serverTimeOffset)}function O(e){return function(e,t){return e-t}(Date.now(),e)}function S(e,t){const n=new Date(e);return n.setHours(0,0,0,0),n.getTime()}function b(e){return/\.(mp4|ts|mov|webm|ogv)$/i.test(e)}function D(e){return/\.(mp3|m4a|ogg|oga|opus|flac|wav)$/i.test(e)}function T(e){return/(?:^|\/)talkjs_audio_message_[0-9]+_([0-9]+)[.](?:mp3|webm)$/.test(e)}function C(e){var t;return Number(null===(t=/(?:^|\/)talkjs_audio_message_[0-9]+_([0-9]+)[.](?:mp3|webm)$/.exec(e))||void 0===t?void 0:t[1])||0}function R(e){e=Math.floor(e);const t=Math.floor(e/3600);e%=3600;const n=Math.floor(e/60);e%=60;const r=e=>e.toString().padStart(2,"0");let i=`${r(n)}:${r(e)}`;return t>0&&(i=`${r(t)}:${i}`),i}function I(e){const t=`${e[0]},${e[1]}`;return{imageUrl:`https://maps.googleapis.com/maps/api/staticmap?center=${t}&zoom=15&size=300x200&scale=2&maptype=roadmap&markers=${t}&key=${o.a.GOOGLE_MAPS_API_KEY}`,linkUrl:`https://maps.google.com/maps?q=${t}&z=15`}}function N(e){return null!=e}function w(e){const t=e.lastIndexOf(".");return e.slice(0,t)}function k(e){return"undefined"!=typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}function x(e,t){const n=a.a.useRef(null);return a.a.useEffect((()=>{const r=n.current;return n.current=t,e(r)}),t)}const L=Symbol(),M=Symbol();function P(e,t){const n=e.indexOf(t);return-1===n?L:n===e.length-1?M:e[n+1]}function F(e,t){const n=e.indexOf(t);return-1===n?L:0===n?M:e[n-1]}function j(e,t){return JSON.stringify(e)===JSON.stringify(t)}},function(e,t,n){e.exports=n(161)()},function(e,t,n){"use strict";function r(e){this.content=e}n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return ae})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return q})),n.d(t,"i",(function(){return f})),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,o=i.find(e),s=i.content.slice();return-1==o?s.push(n||e,t):(s[o+1]=t,n&&(s[o]=n)),new r(s)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),o=i.content.slice(),s=i.find(e);return o.splice(-1==s?o.length:s,0,t,n),new r(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var i=r;function o(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let e=0;i.text[e]==s.text[e];e++)n++;return n}if(i.content.size||s.content.size){let e=o(i.content,s.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function s(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let a=e.child(--i),u=t.child(--o),c=a.nodeSize;if(a!=u){if(!a.sameMarkup(u))return{a:n,b:r};if(a.isText&&a.text!=u.text){let e=0,t=Math.min(a.text.length,u.text.length);for(;e<t&&a.text[a.text.length-e-1]==u.text[u.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(a.content.size||u.content.size){let e=s(a.content,u.content,n-1,r-1);if(e)return e}n-=c,r-=c}else n-=c,r-=c}}class a{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,i){for(let o=0,s=0;s<t;o++){let a=this.content[o],u=s+a.nodeSize;if(u>e&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,e-i),Math.min(a.content.size,t-i),n,r+i)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,((s,a)=>{let u=s.isText?s.text.slice(Math.max(e,a)-a,t-a):s.isLeaf?r?"function"==typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&n&&(o?o=!1:i+=n),i+=u}),0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new a(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let s=this.content[i],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),r+=s.nodeSize),o=a}return new a(n,r)}cutByIndex(e,t){return e==t?a.empty:0==e&&t==this.content.length?this:new a(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new a(r,i)}addToStart(e){return new a([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new a(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return o(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return s(this,e,t,n)}findIndex(e,t=-1){if(0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=e)return i==e||t>0?c(n+1,i):c(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return a.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return a.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new a(t||e,n)}static from(e){if(!e)return a.empty;if(e instanceof a)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new a([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);const u={index:0,offset:0};function c(e,t){return u.index=e,u.offset=t,u}function l(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!l(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class h{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return h.none;if(e instanceof h)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}h.none=[];class d extends Error{}class f{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=m(this.content,e+this.openStart,t);return n&&new f(n,this.openStart,this.openEnd)}removeBetween(e,t){return new f(p(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return f.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new f(e,n,r)}}function p(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(p(o.content,t-i-1,n-i-1)))}function m(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=m(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function g(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return E(e,t,n,0)}function E(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=E(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(a.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return O(o,S(e,i,s,t,r))}{let r=e.parent,i=r.content;return O(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return O(o,b(e,t,r))}function _(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function v(e,t,n){let r=e.node(n);return _(r,t.node(n)),r}function A(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function y(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(A(e.nodeAfter,r),o++));for(let e=o;e<s;e++)A(i.child(e),r);t&&t.depth==n&&t.textOffset&&A(t.nodeBefore,r)}function O(e,t){return e.type.checkContent(t),e.copy(t)}function S(e,t,n,r,i){let o=e.depth>i&&v(e,t,i+1),s=r.depth>i&&v(n,r,i+1),u=[];return y(null,e,i,u),o&&s&&t.index(i)==n.index(i)?(_(o,s),A(O(o,S(e,t,n,r,i+1)),u)):(o&&A(O(o,b(e,t,i+1)),u),y(t,n,i,u),s&&A(O(s,b(n,r,i+1)),u)),y(r,null,i,u),new a(u)}function b(e,t,n){let r=[];if(y(null,e,n,r),e.depth>n){A(O(v(e,t,n+1),b(e,t,n+1)),r)}return y(t,null,n,r),new a(r)}f.empty=new f(a.empty,0,0);class D{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return h.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new I(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let t=e;;){let{index:e,offset:o}=t.content.findIndex(i),s=i-o;if(n.push(t,e,r+o),!s)break;if(t=t.child(e),t.isText)break;i=s-1,r+=o+1}return new D(t,n,i)}static resolveCached(e,t){for(let n=0;n<T.length;n++){let r=T[n];if(r.pos==t&&r.doc==e)return r}let n=T[C]=D.resolve(e,t);return C=(C+1)%R,n}}let T=[],C=0,R=12;class I{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const N=Object.create(null);class w{constructor(e,t,n,r=h.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||a.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&l(this.attrs,t||e.defaultAttrs||N)&&h.sameSet(this.marks,n||h.none)}copy(e=null){return e==this.content?this:new w(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new w(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return f.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new f(a,r.depth-o,i.depth-o)}replace(e,t,n){return g(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return D.resolveCached(this,e)}resolveNoCache(e){return D.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),x(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=a.empty,r=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=r;e<i;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=h.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!h.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=a.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}w.prototype.text=void 0;class k extends w{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):x(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new k(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new k(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function x(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class L{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new M(e,t);if(null==n.next)return L.empty;let r=P(n);n.next&&n.err("Unexpected trailing text");let i=function(e){let t=Object.create(null);return n(z(e,0));function n(r){let i=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);z(e,n).forEach((e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let o=t[r.join(",")]=new L(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(H);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}}(function(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((e=>e.to=t))}function o(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(o(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),i(o(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return i(o(e.expr,t),s),i(o(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();i(o(e.expr,s),t),s=t}if(-1==e.max)i(o(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),i(o(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(e.exprs[r],t);if(r==e.exprs.length-1)return s;i(s,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function i(o,s){let u=o.matchFragment(e,n);if(u&&(!t||u.validEnd))return a.from(s.map((e=>e.createAndFill())));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:s}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}L.empty=new L(!0);class M{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function P(e){let t=[];do{t.push(F(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function F(e){let t=[];do{t.push(j(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function j(e){let t=function(e){if(e.eat("(")){let t=P(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&i.push(r)}0==i.length&&e.err("No node type or group '"+t+"' found");return i}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=U(e,t)}return t}function B(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function U(e,t){let n=B(e),r=n;return e.eat(",")&&(r="}"!=e.next?B(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function H(e,t){return t-e}function z(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:o}=i[e];r||-1!=n.indexOf(o)||t(o)}}(t),n.sort(H)}function V(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function G(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function $(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new W(e[n]);return t}class Y{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=$(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==L.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:G(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new w(this,this.computeAttrs(e),a.from(t),h.setFrom(n))}createChecked(e=null,t,n){return t=a.from(t),this.checkContent(t),new w(this,this.computeAttrs(e),t,h.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=a.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(a.empty,!0);return i?new w(this,e,t.append(i),h.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:h.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new Y(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class W{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class K{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=$(r.attrs),this.excluded=null;let i=V(this.attrs);this.instance=i?new h(this,i):null}create(e=null){return!e&&this.instance?this.instance:new h(this,G(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,i)=>n[e]=new K(e,r++,t,i))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class q{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=i.from(e.nodes),t.marks=i.from(e.marks||{}),this.nodes=Y.compile(this.spec.nodes,this),this.marks=K.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",i=t.spec.marks;t.contentMatch=n[r]||(n[r]=L.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.markSet="_"==i?null:i?X(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:X(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Y))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new k(n,n.defaultAttrs,e,h.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return w.fromJSON(this,e)}markFromJSON(e){return h.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function X(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class J{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new re(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new re(this,t,!0);return n.addAll(e,t.from,t.to),f.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ie(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=oe(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=oe(e)),e.node||e.ignore||e.mark||(e.node=t)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new J(e,J.schemaRules(e)))}}const Z={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Q={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ee={ol:!0,ul:!0};function te(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class ne{constructor(e,t,n,r,i,o,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=h.none,this.stashMarks=[],this.match=o||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(a.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=a.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):se(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Z.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class re{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,i=t.topNode,o=te(null,t.preserveWhitespace,0)|(n?4:0);r=i?new ne(i.type,i.attrs,h.none,h.none,!0,t.topMatch||i.type.contentMatch,o):new ne(n?null:e.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}withStyleRules(e,t){let n=e.getAttribute("style");if(!n)return t();let r=this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(n));if(!r)return;let[i,o]=r,s=this.top;for(let e=0;e<o.length;e++)this.removePendingMark(o[e],s);for(let e=0;e<i.length;e++)this.addPendingMark(i[e]);t();for(let e=0;e<i.length;e++)this.removePendingMark(i[e],s);for(let e=0;e<o.length;e++)this.addPendingMark(o[e])}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();ee.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ee.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:Q.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let t,n=this.top,o=this.needsBlock;if(Z.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);i&&i.skip?this.addAll(e):this.withStyleRules(e,(()=>this.addAll(e))),t&&this.sync(n),this.needsBlock=o}else this.withStyleRules(e,(()=>{this.addElementByRule(e,i,!1===i.consuming?n:void 0)}))}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=h.none,n=h.none;for(let r=0;r<e.length;r+=2)for(let i;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach((e=>{o.clearMark(e)&&(n=e.addToSet(n))})):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;i=o}return[t,n]}addElementByRule(e,t,n){let r,i,o;if(t.node)i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace);else{o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o)}let s=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(e,t,n){let r=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=te(e,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new ne(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=i;s--)if(o(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function ie(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function oe(e){let t={};for(let n in e)t[n]=e[n];return t}function se(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class ae{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=ce(t).createDocumentFragment());let r=n,i=[];return e.forEach((e=>{if(i.length||e.marks.length){let n=0,o=0;for(;n<i.length&&o<e.marks.length;){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],s=this.serializeMark(n,e.isInline,t);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=ae.renderSpec(ce(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&ae.renderSpec(ce(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s=n?e.createElementNS(n,i):e.createElement(i),a=t[1],u=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){u=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let i=u;i<t.length;i++){let o=t[i];if(0===o){if(i<t.length-1||i>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:i}=ae.renderSpec(e,o,n);if(s.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ae(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ue(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return ue(e.marks)}}function ue(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ce(e){return e.document||window.document}},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"n",(function(){return h})),n.d(t,"m",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return _})),n.d(t,"i",(function(){return v})),n.d(t,"a",(function(){return A})),n.d(t,"h",(function(){return y})),n.d(t,"l",(function(){return O}));var r=n(103);const i=/[^a-zA-Z\u00C0-\u024F\u1E00-\u1EFF\u0400-\u044f\u0300-\u036e]+/,o=e=>e.split(i).filter((e=>e)).map((e=>e[0])).join("")||(e[Symbol.iterator]().next().value||""),s=()=>!!globalThis.HermesInternal;function a(e,t){const n=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">\n            <rect x="0" y="0" width="100" height="100" fill="${u(e)}"/>\n            <text x="50%" y="54%" dominant-baseline="middle" font-size="34" font-family="San Francisco, Segoe UI, Helvetica Neue, Arial, Helvetica, sans-serif" fill="#fff" text-anchor="middle">${t}</text> \n        </svg>`.replace(/\s+/g," ");return"data:image/svg+xml;base64,"+r.encode(n)}function u(e){const t=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)}(e)%S.length;return S[t]}function c(e,t){const n=t.lastIndex;let r;const i=[];for(;null!==(r=t.exec(e));)i.push(r),""===r[0]&&(t.lastIndex+=1);return t.lastIndex=n,i}function l(e){const t=RegExp(`[^${e}]+${e}?|${e}`,"g");return e=>Array.from(e.match(t)||[])}function h(e,t,n){let r=0;const i=[];for(const o of t)o.offset<r||(o.offset>r&&i.push(e.substring(r,o.offset)),i.push(...n(o)),r=o.offset+o.matchedText.length);return r<e.length&&i.push(e.substring(r)),i}function d(e){try{return new URL(e).hostname}catch(e){return}}function f(e){return e.replace(/^\s*\n/m,"").replace(/\n\s*$/m,"")}function p(){try{return new WeakMap}catch(e){const t={has:()=>!1,get:()=>{},set:()=>t};return t}}function m(){const e=p();return{getOrCompute(t,n){if(e.has(t))return e.get(t);const r=n();return e.set(t,r),r}}}async function g(e){if(!("permissions"in navigator))return!1;const t=e;try{return"prompt"===(await navigator.permissions.query({name:t})).state}catch(e){return!1}}function E(e){const t=e.replace(/%2F/g,"/").replace(/^.*?\/([^/]+?)(?:\?.*)?$/,"$1");return decodeURIComponent(t)}function _(e,t,n){return Math.max(e,Math.min(t,n))}function v(e,t){return 0===e.localeCompare(t,void 0,{usage:"search",sensitivity:"base"})}function A(e,t){return v(e.substring(0,t.length),t)}function y(e){return[...e.matchAll(/^|\s+/g)].map((e=>e.index+e[0].length)).map((t=>e.substring(t)))}function O(e,t){const n=t.findIndex((t=>t.id===e));if(n>-1){const e=t[n];t.splice(n,1),t.push(e)}return t}const S=["#996666","#9A6E61","#8D7662","#8E775E","#948771","#8A8360","#888D65","#6F8E63","#749378","#678975","#779E86","#639A8F","#6D92A1","#65869F","#697E9A","#736C9F","#8C6495","#956387","#B05D54","#B16D52","#AF8751","#AC8A56","#B7A458","#B5B35C","#83AA5D","#4F9D5D","#5FA777","#66B58F","#5FB3AC","#589AAF","#4E7F9E","#456CAC","#6456B7","#714AB2","#9771B5","#C154C1","#B05E81","#B04C6A","#B94E48","#AF593E","#C5994B","#B8C25D","#87AB39","#4FA83D","#40A860","#41AA78","#3AB09E","#3FC1AA","#56B4BE","#3EABBF","#4682B4","#7A58C1","#9966CC","#C54B8C","#B44668","#AE4560","#A3807B","#AB917A","#ACA586","#A8AF8E","#9EA587","#8BA690","#7DA98D","#7CB0A1","#8BA9A5","#7CA1A6","#859FAF","#8D90A1","#A397B4","#AE809E","#C08081","#BB8983","#B19461","#B5A27F","#B8B56A","#9AB973","#7AC488","#7CB7BB","#80B3C4","#788BBA","#7A89B8","#9678B6","#CB8FA9","#B57281","#C6726B","#C88A65","#C2955D","#C8B568","#B9C46A","#74C365","#6FD0C5","#6093D1","#7666C6","#D06DA1"]},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(0),i=n.n(r);const o=i.a.createContext(void 0),s=i.a.createContext(void 0)},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.a})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return p}));n(52),n(67);var r=n(31);function i(e,t){return f(e,(([e,n])=>[e,t(n,e)]))}function o(e,...t){let n={};return Object(r.a)(e,((e,r)=>{-1===t.indexOf(r)&&(n[r]=e)})),n}function s(e,t){let n={};return Object(r.a)(e,((e,r)=>{t(e,r)&&(n[r]=e)})),n}function a(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=[n,e[n]];if(t(e[n],n))return r}}function u(e,t){const n=a(e,t);return n&&n[1]}function c(e){return Object.keys(e).length}function l(e){for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}function h(e,t,n){const[r,...i]=t;if(!r)return n(e);const o=e[r]||(i[0]?{}:void 0);return Object.assign(Object.assign({},e),{[r]:h(o,i,n)})}function d(e,t,n){return h(e,t,(()=>n))}function f(e,t){let n={},i=0;return Object(r.a)(e,((e,r)=>{const[o,s]=t([r,e],i++);n[o]=s})),n}function p(e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){const n=t?Object.assign(Object.assign({},t.values),e.values):e.values;this.values=n,this.meta=e.meta,this.t=(e,t)=>t?function(e,t){for(let n in t)e=e.replace("$"+n,t[n]);return e}(n[e],t):n[e]}static decide(e,t="en",n){const r=o(e,n);if(r)return r;const s=o(e,t);if(s)return i(s,n);return i(e.en,n)}}function i(e,t){return t?Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{requestedCode:t})}):e}function o(e,t){if(!t)return;const n=e[t=t.replace(/_/g,"-").toLowerCase()];if(n)return n;return e[t.substring(0,2)]}},function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return p})),n.d(t,"EditorState",(function(){return S})),n.d(t,"NodeSelection",(function(){return d})),n.d(t,"Plugin",(function(){return D})),n.d(t,"PluginKey",(function(){return R})),n.d(t,"Selection",(function(){return s})),n.d(t,"SelectionRange",(function(){return a})),n.d(t,"TextSelection",(function(){return l})),n.d(t,"Transaction",(function(){return _}));var r=n(5),i=n(27);const o=Object.create(null);class s{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new a(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=r.i.empty){let n=t.content.lastChild,i=null;for(let e=0;e<t.openEnd;e++)i=n,n=n.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:u,$to:c}=s[a],l=e.mapping.slice(o);e.replaceRange(l.map(u.pos),l.map(c.pos),a?r.i.empty:t),0==a&&E(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n),u=a.map(o.pos),c=a.map(s.pos);i?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),E(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new l(e):g(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let i=t<0?g(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):g(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new p(e.node(0))}static atStart(e){return g(e,e,0,0,1)||new p(e)}static atEnd(e){return g(e,e,e.content.size,e.childCount,-1)||new p(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=o[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in o)throw new RangeError("Duplicate use of selection JSON ID "+e);return o[e]=t,t.prototype.jsonID=e,t}getBookmark(){return l.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class a{constructor(e,t){this.$from=e,this.$to=t}}let u=!1;function c(e){u||e.parent.inlineContent||(u=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class l extends s{constructor(e,t=e){c(e),c(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=e.resolve(t.map(this.anchor));return new l(r.parent.inlineContent?r:n,n)}replace(e,t=r.i.empty){if(super.replace(e,t),t==r.i.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof l&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new l(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=s.findFrom(t,n,!0)||s.findFrom(t,-n,!0);if(!e)return s.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(s.findFrom(e,-n,!0)||s.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new l(e,t)}}s.jsonID("text",l);class h{constructor(e,t){this.anchor=e,this.head=t}map(e){return new h(e.map(this.anchor),e.map(this.head))}resolve(e){return l.between(e.resolve(this.anchor),e.resolve(this.head))}}class d extends s{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?s.near(i):new d(i)}content(){return new r.i(r.c.from(this.node),0,0)}eq(e){return e instanceof d&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new f(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new d(e.resolve(t.anchor))}static create(e,t){return new d(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}d.prototype.visible=!1,s.jsonID("node",d);class f{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new h(n,n):new f(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):s.near(t)}}class p extends s{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=r.i.empty){if(t==r.i.empty){e.delete(0,e.doc.content.size);let t=s.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new p(e)}map(e){return new p(e)}eq(e){return e instanceof p}getBookmark(){return m}}s.jsonID("all",p);const m={map(){return this},resolve:e=>new p(e)};function g(e,t,n,r,i,o=!1){if(t.inlineContent)return l.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let r=t.child(s);if(r.isAtom){if(!o&&d.isSelectable(r))return d.create(e,n-(i<0?r.nodeSize:0))}else{let t=g(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function E(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,a=e.steps[r];(a instanceof i.c||a instanceof i.b)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==o&&(o=r)})),e.setSelection(s.near(e.doc.resolve(o),n)))}class _ extends i.d{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return r.d.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.d.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function v(e,t){return t&&e?e.bind(t):e}class A{constructor(e,t,n){this.name=e,this.init=v(t.init,n),this.apply=v(t.apply,n)}}const y=[new A("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new A("selection",{init:(e,t)=>e.selection||s.atStart(t.doc),apply:e=>e.selection}),new A("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new A("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class O{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=y.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new A(e.key,e.spec.state,e))}))}}class S{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let a=r?r[o].n:0,u=r?r[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new S(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new _(this)}static create(e){let t=new O(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new S(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new O(this.schema,e.plugins),n=t.fields,r=new S(t);for(let t=0;t<n.length;t++){let i=n[t].name;r[i]=this.hasOwnProperty(i)?this[i]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new O(e.schema,e.plugins),o=new S(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=r.f.fromJSON(e.schema,t.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,r))return void(o[i.name]=a.fromJSON.call(s,e,t[r],o))}o[i.name]=i.init(e,o)}})),o}}function b(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=b(i,t,{})),n[r]=i}return n}class D{constructor(e){this.spec=e,this.props={},e.props&&b(e.props,this,this.props),this.key=e.key?e.key.key:C("plugin")}getState(e){return e[this.key]}}const T=Object.create(null);function C(e){return e in T?e+"$"+ ++T[e]:(T[e]=0,e+"$")}class R{constructor(e="key"){this.key=C(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return s(e)?e:W(e)}function r(e){return a(e)?e:K(e)}function i(e){return u(e)?e:q(e)}function o(e){return s(e)&&!c(e)?e:X(e)}function s(e){return!(!e||!e[h])}function a(e){return!(!e||!e[d])}function u(e){return!(!e||!e[f])}function c(e){return a(e)||u(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=s,n.isKeyed=a,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var h="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",f="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m="delete",g=5,E=1<<g,_=E-1,v={},A={value:!1},y={value:!1};function O(e){return e.value=!1,e}function S(e){e&&(e.value=!0)}function b(){}function D(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function T(e){return void 0===e.size&&(e.size=e.__iterate(R)),e.size}function C(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?T(e)+t:t}function R(){return!0}function I(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function N(e,t){return k(e,t,0)}function w(e,t){return k(e,t,t)}function k(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var x=0,L=1,M=2,P="function"==typeof Symbol&&Symbol.iterator,F="@@iterator",j=P||F;function B(e){this.next=e}function U(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function H(){return{value:void 0,done:!0}}function z(e){return!!$(e)}function V(e){return e&&"function"==typeof e.next}function G(e){var t=$(e);return t&&t.call(e)}function $(e){var t=e&&(P&&e[P]||e[F]);if("function"==typeof t)return t}function Y(e){return e&&"number"==typeof e.length}function W(e){return null==e?se():s(e)?e.toSeq():ce(e)}function K(e){return null==e?se().toKeyedSeq():s(e)?a(e)?e.toSeq():e.fromEntrySeq():ae(e)}function q(e){return null==e?se():s(e)?a(e)?e.entrySeq():e.toIndexedSeq():ue(e)}function X(e){return(null==e?se():s(e)?a(e)?e.entrySeq():e:ue(e)).toSetSeq()}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=x,B.VALUES=L,B.ENTRIES=M,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[j]=function(){return this},t(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(e,t){return he(this,e,t,!0)},W.prototype.__iterator=function(e,t){return de(this,e,t,!0)},t(K,W),K.prototype.toKeyedSeq=function(){return this},t(q,W),q.of=function(){return q(arguments)},q.prototype.toIndexedSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq [","]")},q.prototype.__iterate=function(e,t){return he(this,e,t,!1)},q.prototype.__iterator=function(e,t){return de(this,e,t,!1)},t(X,W),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},W.isSeq=oe,W.Keyed=K,W.Set=X,W.Indexed=q;var J,Z,Q,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function se(){return J||(J=new te([]))}function ae(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():V(e)?new ie(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ue(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ce(e){var t=le(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function le(e){return Y(e)?new te(e):V(e)?new ie(e):z(e)?new re(e):void 0}function he(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[n?o-s:s];if(!1===t(a[1],r?a[0]:s,e))return s+1}return s}return e.__iterateUncached(t,n)}function de(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,s=0;return new B((function(){var e=i[n?o-s:s];return s++>o?H():U(t,r?e[0]:s-1,e[1])}))}return e.__iteratorUncached(t,n)}function fe(e,t){return t?pe(t,e,"",{"":e}):me(e)}function pe(e,t,n,r){return Array.isArray(t)?e.call(r,n,q(t).map((function(n,r){return pe(e,n,r,t)}))):ge(t)?e.call(r,n,K(t).map((function(n,r){return pe(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?q(e).map(me).toList():ge(e)?K(e).map(me).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Ee(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function _e(e,t){if(e===t)return!0;if(!s(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&Ee(i[1],e)&&(n||Ee(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var h=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):i?!Ee(t,e.get(r,v)):!Ee(e.get(r,v),t))return h=!1,!1}));return h&&e.size===d}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function Ae(e,t){if(!e)throw new Error(t)}function ye(e,t,n){if(!(this instanceof ye))return new ye(e,t,n);if(Ae(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function Oe(){throw TypeError("Abstract")}function Se(){}function be(){}function De(){}W.prototype[ee]=!0,t(te,q),te.prototype.get=function(e,t){return this.has(e)?this._array[C(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new B((function(){return i>r?H():U(e,i,n[t?r-i++:i++])}))},t(ne,K),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var s=r[t?i-o:o];if(!1===e(n[s],s,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new B((function(){var s=r[t?i-o:o];return o++>i?H():U(e,s,n[s])}))},ne.prototype[p]=!0,t(re,q),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=G(this._iterable),r=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=G(this._iterable);if(!V(n))return new B(H);var r=0;return new B((function(){var t=n.next();return t.done?t:U(e,r++,t.value)}))},t(ie,q),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var s=n.value;if(i[o]=s,!1===e(s,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new B((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return U(e,i,r[i++])}))},t(ve,q),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return Ee(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:new ve(this._value,w(t,n)-N(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return Ee(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return Ee(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new B((function(){return r<n.size?U(e,r++,n._value):H()}))},ve.prototype.equals=function(e){return e instanceof ve?Ee(this._value,e._value):_e(e)},t(ye,q),ye.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ye.prototype.get=function(e,t){return this.has(e)?this._start+C(this,e)*this._step:t},ye.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ye.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=N(e,this.size),(t=w(t,this.size))<=e?new ye(0,0):new ye(this.get(e,this._end),this.get(t,this._end),this._step))},ye.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ye.prototype.lastIndexOf=function(e){return this.indexOf(e)},ye.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},ye.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new B((function(){var s=i;return i+=t?-r:r,o>n?H():U(e,o++,s)}))},ye.prototype.equals=function(e){return e instanceof ye?this._start===e._start&&this._end===e._end&&this._step===e._step:_e(this,e)},t(Oe,n),t(Se,Oe),t(be,Oe),t(De,Oe),Oe.Keyed=Se,Oe.Indexed=be,Oe.Set=De;var Te="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ce(e){return e>>>1&1073741824|3221225471&e}function Re(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ce(n)}if("string"===t)return e.length>Be?Ie(e):Ne(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return we(e);if("function"==typeof e.toString)return Ne(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ie(e){var t=ze[e];return void 0===t&&(t=Ne(e),He===Ue&&(He=0,ze={}),He++,ze[e]=t),t}function Ne(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ce(t)}function we(e){var t;if(Pe&&void 0!==(t=Me.get(e)))return t;if(void 0!==(t=e[je]))return t;if(!xe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[je]))return t;if(void 0!==(t=Le(e)))return t}if(t=++Fe,1073741824&Fe&&(Fe=0),Pe)Me.set(e,t);else{if(void 0!==ke&&!1===ke(e))throw new Error("Non-extensible objects are not allowed as keys.");if(xe)Object.defineProperty(e,je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[je]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[je]=t}}return t}var ke=Object.isExtensible,xe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Le(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Me,Pe="function"==typeof WeakMap;Pe&&(Me=new WeakMap);var Fe=0,je="__immutablehash__";"function"==typeof Symbol&&(je=Symbol(je));var Be=16,Ue=255,He=0,ze={};function Ve(e){Ae(e!==1/0,"Cannot perform this action with an infinite size.")}function Ge(e){return null==e?it():$e(e)&&!l(e)?e:it().withMutations((function(t){var n=r(e);Ve(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function $e(e){return!(!e||!e[We])}t(Ge,Se),Ge.of=function(){var t=e.call(arguments,0);return it().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Ge.prototype.toString=function(){return this.__toString("Map {","}")},Ge.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ge.prototype.set=function(e,t){return ot(this,e,t)},Ge.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},Ge.prototype.remove=function(e){return ot(this,e,v)},Ge.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},Ge.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ge.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,On(e),t,n);return r===v?void 0:r},Ge.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},Ge.prototype.merge=function(){return dt(this,void 0,arguments)},Ge.prototype.mergeWith=function(t){return dt(this,t,e.call(arguments,1))},Ge.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ge.prototype.mergeDeep=function(){return dt(this,ft,arguments)},Ge.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return dt(this,pt(t),n)},Ge.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ge.prototype.sort=function(e){return zt(hn(this,e))},Ge.prototype.sortBy=function(e,t){return zt(hn(this,t,e))},Ge.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ge.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new b)},Ge.prototype.asImmutable=function(){return this.__ensureOwner()},Ge.prototype.wasAltered=function(){return this.__altered},Ge.prototype.__iterator=function(e,t){return new et(this,e,t)},Ge.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ge.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ge.isMap=$e;var Ye,We="@@__IMMUTABLE_MAP__@@",Ke=Ge.prototype;function qe(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Je(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return U(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ke);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return Ye||(Ye=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=O(A),s=O(y);if(r=st(e._root,e.__ownerID,0,void 0,t,n,o,s),!s.value)return e;i=e.size+(o.value?n===v?-1:1:0)}else{if(n===v)return e;i=1,r=new qe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function st(e,t,n,r,i,o,s,a){return e?e.update(t,n,r,i,o,s,a):o===v?e:(S(a),S(s),new Qe(t,r,[i,o]))}function at(e){return e.constructor===Qe||e.constructor===Ze}function ut(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o,s=(0===n?e.keyHash:e.keyHash>>>n)&_,a=(0===n?r:r>>>n)&_;return new Xe(t,1<<s|1<<a,s===a?[ut(e,t,n+g,r,i)]:(o=new Qe(t,r,i),s<a?[e,o]:[o,e]))}function ct(e,t,n,r){e||(e=new b);for(var i=new Qe(e,Re(n),[n,r]),o=0;o<t.length;o++){var s=t[o];i=i.update(e,0,void 0,s[0],s[1])}return i}function lt(e,t,n,r){for(var i=0,o=0,s=new Array(n),a=0,u=1,c=t.length;a<c;a++,u<<=1){var l=t[a];void 0!==l&&a!==r&&(i|=u,s[o++]=l)}return new Xe(e,i,s)}function ht(e,t,n,r,i){for(var o=0,s=new Array(E),a=0;0!==n;a++,n>>>=1)s[a]=1&n?t[o++]:void 0;return s[r]=i,new Je(e,o+1,s)}function dt(e,t,n){for(var i=[],o=0;o<n.length;o++){var a=n[o],u=r(a);s(a)||(u=u.map((function(e){return fe(e)}))),i.push(u)}return mt(e,t,i)}function ft(e,t,n){return e&&e.mergeDeep&&s(t)?e.mergeDeep(t):Ee(e,t)?e:t}function pt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&s(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return Ee(t,i)?t:i}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var i=e===v,o=t.next();if(o.done){var s=i?n:e,a=r(s);return a===s?e:a}Ae(i||e&&e.set,"invalid keyPath");var u=o.value,c=i?v:e.get(u,v),l=gt(c,t,n,r);return l===c?e:l===v?e.remove(u):(i?it():e).set(u,l)}function Et(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function _t(e,t,n,r){var i=r?e:D(e);return i[t]=n,i}function vt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),s=0,a=0;a<i;a++)a===t?(o[a]=n,s=-1):o[a]=e[a+s];return o}function At(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,s=0;s<r;s++)s===t&&(o=1),i[s]=e[s+o];return i}Ke[We]=!0,Ke[m]=Ke.remove,Ke.removeIn=Ke.deleteIn,qe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(Ee(n,i[o][0]))return i[o][1];return r},qe.prototype.update=function(e,t,n,r,i,o,s){for(var a=i===v,u=this.entries,c=0,l=u.length;c<l&&!Ee(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:a)return this;if(S(s),(a||!h)&&S(o),!a||1!==u.length){if(!h&&!a&&u.length>=yt)return ct(e,u,r,i);var d=e&&e===this.ownerID,f=d?u:D(u);return h?a?c===l-1?f.pop():f[c]=f.pop():f[c]=[r,i]:f.push([r,i]),d?(this.entries=f,this):new qe(e,f)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Re(n));var i=1<<((0===e?t:t>>>e)&_),o=this.bitmap;return 0==(o&i)?r:this.nodes[Et(o&i-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=Re(r));var a=(0===t?n:n>>>t)&_,u=1<<a,c=this.bitmap,l=0!=(c&u);if(!l&&i===v)return this;var h=Et(c&u-1),d=this.nodes,f=l?d[h]:void 0,p=st(f,e,t+g,n,r,i,o,s);if(p===f)return this;if(!l&&p&&d.length>=Ot)return ht(e,d,c,a,p);if(l&&!p&&2===d.length&&at(d[1^h]))return d[1^h];if(l&&p&&1===d.length&&at(p))return p;var m=e&&e===this.ownerID,E=l?p?c:c^u:c|u,A=l?p?_t(d,h,p,m):At(d,h,m):vt(d,h,p,m);return m?(this.bitmap=E,this.nodes=A,this):new Xe(e,E,A)},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=Re(n));var i=(0===e?t:t>>>e)&_,o=this.nodes[i];return o?o.get(e+g,t,n,r):r},Je.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=Re(r));var a=(0===t?n:n>>>t)&_,u=i===v,c=this.nodes,l=c[a];if(u&&!l)return this;var h=st(l,e,t+g,n,r,i,o,s);if(h===l)return this;var d=this.count;if(l){if(!h&&--d<St)return lt(e,c,d,a)}else d++;var f=e&&e===this.ownerID,p=_t(c,a,h,f);return f?(this.count=d,this.nodes=p,this):new Je(e,d,p)},Ze.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(Ee(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=Re(r));var a=i===v;if(n!==this.keyHash)return a?this:(S(s),S(o),ut(this,e,t,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!Ee(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:a)return this;if(S(s),(a||!h)&&S(o),a&&2===l)return new Qe(e,this.keyHash,u[1^c]);var d=e&&e===this.ownerID,f=d?u:D(u);return h?a?c===l-1?f.pop():f[c]=f.pop():f[c]=[r,i]:f.push([r,i]),d?(this.entries=f,this):new Ze(e,this.keyHash,f)},Qe.prototype.get=function(e,t,n,r){return Ee(n,this.entry[0])?this.entry[1]:r},Qe.prototype.update=function(e,t,n,r,i,o,s){var a=i===v,u=Ee(r,this.entry[0]);return(u?i===this.entry[1]:a)?this:(S(s),a?void S(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new Qe(e,this.keyHash,[r,i]):(S(o),ut(this,e,t,Re(r),[r,i])))},qe.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Xe.prototype.iterate=Je.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Qe.prototype.iterate=function(e,t){return e(this.entry)},t(et,B),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return H()};var yt=E/4,Ot=E/2,St=E/4;function bt(e){var t=Lt();if(null==e)return t;if(Dt(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ve(r),r>0&&r<E?xt(0,r,g,null,new Rt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function Dt(e){return!(!e||!e[Tt])}t(bt,be),bt.of=function(){return this(arguments)},bt.prototype.toString=function(){return this.__toString("List [","]")},bt.prototype.get=function(e,t){if((e=C(this,e))>=0&&e<this.size){var n=jt(this,e+=this._origin);return n&&n.array[e&_]}return t},bt.prototype.set=function(e,t){return Mt(this,e,t)},bt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},bt.prototype.insert=function(e,t){return this.splice(e,0,t)},bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Lt()},bt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Bt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},bt.prototype.pop=function(){return Bt(this,0,-1)},bt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Bt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},bt.prototype.shift=function(){return Bt(this,1)},bt.prototype.merge=function(){return Ut(this,void 0,arguments)},bt.prototype.mergeWith=function(t){return Ut(this,t,e.call(arguments,1))},bt.prototype.mergeDeep=function(){return Ut(this,ft,arguments)},bt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ut(this,pt(t),n)},bt.prototype.setSize=function(e){return Bt(this,0,e)},bt.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:Bt(this,N(e,n),w(t,n))},bt.prototype.__iterator=function(e,t){var n=0,r=kt(this,t);return new B((function(){var t=r();return t===wt?H():U(e,n++,t)}))},bt.prototype.__iterate=function(e,t){for(var n,r=0,i=kt(this,t);(n=i())!==wt&&!1!==e(n,r++,this););return r},bt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},bt.isList=Dt;var Tt="@@__IMMUTABLE_LIST__@@",Ct=bt.prototype;function Rt(e,t){this.array=e,this.ownerID=t}Ct[Tt]=!0,Ct[m]=Ct.remove,Ct.setIn=Ke.setIn,Ct.deleteIn=Ct.removeIn=Ke.removeIn,Ct.update=Ke.update,Ct.updateIn=Ke.updateIn,Ct.mergeIn=Ke.mergeIn,Ct.mergeDeepIn=Ke.mergeDeepIn,Ct.withMutations=Ke.withMutations,Ct.asMutable=Ke.asMutable,Ct.asImmutable=Ke.asImmutable,Ct.wasAltered=Ke.wasAltered,Rt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&_;if(r>=this.array.length)return new Rt([],e);var i,o=0===r;if(t>0){var s=this.array[r];if((i=s&&s.removeBefore(e,t-g,n))===s&&o)return this}if(o&&!i)return this;var a=Ft(this,e);if(!o)for(var u=0;u<r;u++)a.array[u]=void 0;return i&&(a.array[r]=i),a},Rt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&_;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-g,n))===o&&i===this.array.length-1)return this}var s=Ft(this,e);return s.array.splice(i+1),r&&(s.array[i]=r),s};var It,Nt,wt={};function kt(e,t){var n=e._origin,r=e._capacity,i=Ht(r),o=e._tail;return s(e._root,e._level,0);function s(e,t,n){return 0===t?a(e,n):u(e,t,n)}function a(e,s){var a=s===i?o&&o.array:e&&e.array,u=s>n?0:n-s,c=r-s;return c>E&&(c=E),function(){if(u===c)return wt;var e=t?--c:u++;return a&&a[e]}}function u(e,i,o){var a,u=e&&e.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>E&&(l=E),function(){for(;;){if(a){var e=a();if(e!==wt)return e;a=null}if(c===l)return wt;var n=t?--l:c++;a=s(u&&u[n],i-g,o+(n<<i))}}}}function xt(e,t,n,r,i,o,s){var a=Object.create(Ct);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function Lt(){return It||(It=xt(0,0,g))}function Mt(e,t,n){if((t=C(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Bt(e,t).set(0,n):Bt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=O(y);return t>=Ht(e._capacity)?r=Pt(r,e.__ownerID,0,t,n,o):i=Pt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):xt(e._origin,e._capacity,e._level,i,r):e}function Pt(e,t,n,r,i,o){var s,a=r>>>n&_,u=e&&a<e.array.length;if(!u&&void 0===i)return e;if(n>0){var c=e&&e.array[a],l=Pt(c,t,n-g,r,i,o);return l===c?e:((s=Ft(e,t)).array[a]=l,s)}return u&&e.array[a]===i?e:(S(o),s=Ft(e,t),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function Ft(e,t){return t&&e&&t===e.ownerID?e:new Rt(e?e.array.slice():[],t)}function jt(e,t){if(t>=Ht(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&_],r-=g;return n}}function Bt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new b,i=e._origin,o=e._capacity,s=i+t,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return e;if(s>=a)return e.clear();for(var u=e._level,c=e._root,l=0;s+l<0;)c=new Rt(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=g);l&&(s+=l,i+=l,a+=l,o+=l);for(var h=Ht(o),d=Ht(a);d>=1<<u+g;)c=new Rt(c&&c.array.length?[c]:[],r),u+=g;var f=e._tail,p=d<h?jt(e,a-1):d>h?new Rt([],r):f;if(f&&d>h&&s<o&&f.array.length){for(var m=c=Ft(c,r),E=u;E>g;E-=g){var v=h>>>E&_;m=m.array[v]=Ft(m.array[v],r)}m.array[h>>>g&_]=f}if(a<o&&(p=p&&p.removeAfter(r,0,a)),s>=d)s-=d,a-=d,u=g,c=null,p=p&&p.removeBefore(r,0,s);else if(s>i||d<h){for(l=0;c;){var A=s>>>u&_;if(A!==d>>>u&_)break;A&&(l+=(1<<u)*A),u-=g,c=c.array[A]}c&&s>i&&(c=c.removeBefore(r,u,s-l)),c&&d<h&&(c=c.removeAfter(r,u,d-l)),l&&(s-=l,a-=l)}return e.__ownerID?(e.size=a-s,e._origin=s,e._capacity=a,e._level=u,e._root=c,e._tail=p,e.__hash=void 0,e.__altered=!0,e):xt(s,a,u,c,p)}function Ut(e,t,n){for(var r=[],o=0,a=0;a<n.length;a++){var u=n[a],c=i(u);c.size>o&&(o=c.size),s(u)||(c=c.map((function(e){return fe(e)}))),r.push(c)}return o>e.size&&(e=e.setSize(o)),mt(e,t,r)}function Ht(e){return e<E?0:e-1>>>g<<g}function zt(e){return null==e?$t():Vt(e)?e:$t().withMutations((function(t){var n=r(e);Ve(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Vt(e){return $e(e)&&l(e)}function Gt(e,t,n,r){var i=Object.create(zt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function $t(){return Nt||(Nt=Gt(it(),Lt()))}function Yt(e,t,n){var r,i,o=e._map,s=e._list,a=o.get(t),u=void 0!==a;if(n===v){if(!u)return e;s.size>=E&&s.size>=2*o.size?(r=(i=s.filter((function(e,t){return void 0!==e&&a!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(n===s.get(a)[1])return e;r=o,i=s.set(a,[t,n])}else r=o.set(t,s.size),i=s.set(s.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Gt(r,i)}function Wt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Kt(e){this._iter=e,this.size=e.size}function qt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Jt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=An,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===M){var r=e.__iterator(t,n);return new B((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===L?x:L,n)},t}function Zt(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,v);return o===v?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,s){return!1!==r(t.call(n,e,i,s),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(M,i);return new B((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return U(r,a,t.call(n,s[1],a,e),i)}))},r}function Qt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Jt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=An,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=vn(e);return r&&(i.has=function(r){var i=e.get(r,v);return i!==v&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,v);return o!==v&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return e.__iterate((function(e,o,u){if(t.call(n,e,o,u))return a++,i(e,r?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=e.__iterator(M,o),a=0;return new B((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return U(i,r?c:a++,l,o)}}))},i}function tn(e,t,n){var r=Ge().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=a(e),i=(l(e)?zt():Ge()).asMutable();e.__iterate((function(o,s){i.update(t.call(n,o,s,e),(function(e){return(e=e||[]).push(r?[s,o]:o),e}))}));var o=_n(e);return i.map((function(t){return mn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),I(t,n,i))return e;var o=N(t,i),s=w(n,i);if(o!=o||s!=s)return rn(e.toSeq().cacheResult(),t,n,r);var a,u=s-o;u==u&&(a=u<0?0:u);var c=vn(e);return c.size=0===a?a:e.size&&a||void 0,!r&&oe(e)&&a>=0&&(c.get=function(t,n){return(t=C(this,t))>=0&&t<a?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var s=0,u=!0,c=0;return e.__iterate((function(e,n){if(!u||!(u=s++<o))return c++,!1!==t(e,r?n:c-1,i)&&c!==a})),c},c.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);var i=0!==a&&e.__iterator(t,n),s=0,u=0;return new B((function(){for(;s++<o;)i.next();if(++u>a)return H();var e=i.next();return r||t===L?e:U(t,u-1,t===x?void 0:e.value[1],e)}))},c}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return e.__iterate((function(e,i,a){return t.call(n,e,i,a)&&++s&&r(e,i,o)})),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=e.__iterator(M,i),a=!0;return new B((function(){if(!a)return H();var e=s.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(n,c,u,o)?r===M?e:U(r,u,c,e):(a=!1,H())}))},r}function sn(e,t,n,r){var i=vn(e);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return e.__iterate((function(e,o,c){if(!a||!(a=t.call(n,e,o,c)))return u++,i(e,r?o:u-1,s)})),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(M,o),u=!0,c=0;return new B((function(){var e,o,l;do{if((e=a.next()).done)return r||i===L?e:U(i,c++,i===x?void 0:e.value[1],e);var h=e.value;o=h[0],l=h[1],u&&(u=t.call(n,l,o,s))}while(u);return i===M?e:U(i,o,l,e)}))},i}function an(e,t){var n=a(e),i=[e].concat(t).map((function(e){return s(e)?n&&(e=r(e)):e=n?ae(e):ue(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&a(o)||u(e)&&u(o))return o}var c=new te(i);return n?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}function un(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=0,a=!1;function u(e,c){var l=this;e.__iterate((function(e,i){return(!t||c<t)&&s(e)?u(e,c+1):!1===r(e,n?i:o++,l)&&(a=!0),!a}),i)}return u(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),a=[],u=0;return new B((function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(r===M&&(c=c[1]),t&&!(a.length<t)||!s(c))return n?e:U(r,u++,c,e);a.push(o),o=c.__iterator(r,i)}else o=a.pop()}return H()}))},r}function cn(e,t,n){var r=_n(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function ln(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(L,r),s=0;return new B((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?U(n,s++,t):U(n,s++,i.value,i)}))},n}function hn(e,t,n){t||(t=yn);var r=a(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?K(o):u(e)?q(o):X(o)}function dn(e,t,n){if(t||(t=yn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return fn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return fn(t,e,n)?n:e}))}function fn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function pn(e,t,r){var i=vn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(L,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),G(i?e.reverse():e)})),s=0,a=!1;return new B((function(){var n;return a||(n=o.map((function(e){return e.next()})),a=n.some((function(e){return e.done}))),a?H():U(e,s++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function mn(e,t){return oe(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function En(e){return Ve(e.size),T(e)}function _n(e){return a(e)?r:u(e)?i:o}function vn(e){return Object.create((a(e)?K:u(e)?q:X).prototype)}function An(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function yn(e,t){return e>t?1:e<t?-1:0}function On(e){var t=G(e);if(!t){if(!Y(e))throw new TypeError("Expected iterable or array-like: "+e);t=G(n(e))}return t}function Sn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(e);Cn(i,s),i.size=s.length,i._name=t,i._keys=s,i._defaultValues=e}this._map=Ge(o)},i=r.prototype=Object.create(bn);return i.constructor=r,r}t(zt,Ge),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):$t()},zt.prototype.set=function(e,t){return Yt(this,e,t)},zt.prototype.remove=function(e){return Yt(this,e,v)},zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},zt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Gt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},zt.isOrderedMap=Vt,zt.prototype[p]=!0,zt.prototype[m]=zt.prototype.remove,t(Wt,K),Wt.prototype.get=function(e,t){return this._iter.get(e,t)},Wt.prototype.has=function(e){return this._iter.has(e)},Wt.prototype.valueSeq=function(){return this._iter.valueSeq()},Wt.prototype.reverse=function(){var e=this,t=Qt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Wt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Wt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?En(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Wt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(L,t),r=t?En(this):0;return new B((function(){var i=n.next();return i.done?i:U(e,t?--r:r++,i.value,i)}))},Wt.prototype[p]=!0,t(Kt,q),Kt.prototype.includes=function(e){return this._iter.includes(e)},Kt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Kt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(L,t),r=0;return new B((function(){var t=n.next();return t.done?t:U(e,r++,t.value,t)}))},t(qt,X),qt.prototype.has=function(e){return this._iter.includes(e)},qt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},qt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(L,t);return new B((function(){var t=n.next();return t.done?t:U(e,t.value,t.value,t)}))},t(Xt,K),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=s(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(L,t);return new B((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var i=s(r);return U(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Kt.prototype.cacheResult=Wt.prototype.cacheResult=qt.prototype.cacheResult=Xt.prototype.cacheResult=An,t(Sn,Se),Sn.prototype.toString=function(){return this.__toString(Tn(this)+" {","}")},Sn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Sn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Sn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Dn(this,it()))},Sn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Tn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Dn(this,n)},Sn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Dn(this,t)},Sn.prototype.wasAltered=function(){return this._map.wasAltered()},Sn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Sn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Dn(this,t,e):(this.__ownerID=e,this._map=t,this)};var bn=Sn.prototype;function Dn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Tn(e){return e._name||e.constructor.name||"Record"}function Cn(e,t){try{t.forEach(Rn.bind(void 0,e))}catch(e){}}function Rn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Ae(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function In(e){return null==e?Pn():Nn(e)&&!l(e)?e:Pn().withMutations((function(t){var n=o(e);Ve(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return!(!e||!e[kn])}bn[m]=bn.remove,bn.deleteIn=bn.removeIn=Ke.removeIn,bn.merge=Ke.merge,bn.mergeWith=Ke.mergeWith,bn.mergeIn=Ke.mergeIn,bn.mergeDeep=Ke.mergeDeep,bn.mergeDeepWith=Ke.mergeDeepWith,bn.mergeDeepIn=Ke.mergeDeepIn,bn.setIn=Ke.setIn,bn.update=Ke.update,bn.updateIn=Ke.updateIn,bn.withMutations=Ke.withMutations,bn.asMutable=Ke.asMutable,bn.asImmutable=Ke.asImmutable,t(In,De),In.of=function(){return this(arguments)},In.fromKeys=function(e){return this(r(e).keySeq())},In.prototype.toString=function(){return this.__toString("Set {","}")},In.prototype.has=function(e){return this._map.has(e)},In.prototype.add=function(e){return Ln(this,this._map.set(e,!0))},In.prototype.remove=function(e){return Ln(this,this._map.remove(e))},In.prototype.clear=function(){return Ln(this,this._map.clear())},In.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},In.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},In.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},In.prototype.merge=function(){return this.union.apply(this,arguments)},In.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},In.prototype.sort=function(e){return Fn(hn(this,e))},In.prototype.sortBy=function(e,t){return Fn(hn(this,t,e))},In.prototype.wasAltered=function(){return this._map.wasAltered()},In.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},In.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},In.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},In.isSet=Nn;var wn,kn="@@__IMMUTABLE_SET__@@",xn=In.prototype;function Ln(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Mn(e,t){var n=Object.create(xn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Pn(){return wn||(wn=Mn(it()))}function Fn(e){return null==e?zn():jn(e)?e:zn().withMutations((function(t){var n=o(e);Ve(n.size),n.forEach((function(e){return t.add(e)}))}))}function jn(e){return Nn(e)&&l(e)}xn[kn]=!0,xn[m]=xn.remove,xn.mergeDeep=xn.merge,xn.mergeDeepWith=xn.mergeWith,xn.withMutations=Ke.withMutations,xn.asMutable=Ke.asMutable,xn.asImmutable=Ke.asImmutable,xn.__empty=Pn,xn.__make=Mn,t(Fn,In),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(e){return this(r(e).keySeq())},Fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fn.isOrderedSet=jn;var Bn,Un=Fn.prototype;function Hn(e,t){var n=Object.create(Un);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zn(){return Bn||(Bn=Hn($t()))}function Vn(e){return null==e?qn():Gn(e)?e:qn().unshiftAll(e)}function Gn(e){return!(!e||!e[Yn])}Un[p]=!0,Un.__empty=zn,Un.__make=Hn,t(Vn,be),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(e,t){var n=this._head;for(e=C(this,e);n&&e--;)n=n.next;return n?n.value:t},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Kn(e,t)},Vn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ve(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Kn(t,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(e){return this.pushAll(e)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):qn()},Vn.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var n=N(e,this.size);if(w(t,this.size)!==this.size)return be.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Kn(r,i)},Vn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Kn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Vn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Vn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new B((function(){if(r){var t=r.value;return r=r.next,U(e,n++,t)}return H()}))},Vn.isStack=Gn;var $n,Yn="@@__IMMUTABLE_STACK__@@",Wn=Vn.prototype;function Kn(e,t,n,r){var i=Object.create(Wn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function qn(){return $n||($n=Kn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Wn[Yn]=!0,Wn.withMutations=Ke.withMutations,Wn.asMutable=Ke.asMutable,Wn.asImmutable=Ke.asImmutable,Wn.wasAltered=Ke.wasAltered,n.Iterator=B,Xn(n,{toArray:function(){Ve(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Kt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Wt(this,!0)},toMap:function(){return Ge(this.toKeyedSeq())},toObject:function(){Ve(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return zt(this.toKeyedSeq())},toOrderedSet:function(){return Fn(a(this)?this.valueSeq():this)},toSet:function(){return In(a(this)?this.valueSeq():this)},toSetSeq:function(){return new qt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(a(this)?this.valueSeq():this)},toList:function(){return bt(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,an(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return Ee(t,e)}))},entries:function(){return this.__iterator(M)},every:function(e,t){Ve(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ve(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ve(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(x)},map:function(e,t){return mn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,i;return Ve(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,s){i?(i=!1,r=t):r=e.call(n,r,t,o,s)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,Qt(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,hn(this,e))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return T(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return _e(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(R)},flatMap:function(e,t){return mn(this,cn(this,e,t))},flatten:function(e){return mn(this,un(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return Ee(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=On(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return Ee(t,e)}))},keySeq:function(){return this.toSeq().map(Qn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return dn(this,e)},maxBy:function(e,t){return dn(this,t,e)},min:function(e){return dn(this,e?nr(e):or)},minBy:function(e,t){return dn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,sn(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,hn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sr(this))}});var Jn=n.prototype;Jn[h]=!0,Jn[j]=Jn.values,Jn.__toJS=Jn.toArray,Jn.__toStringMapper=rr,Jn.inspect=Jn.toSource=function(){return this.toString()},Jn.chain=Jn.flatMap,Jn.contains=Jn.includes,Xn(r,{flip:function(){return mn(this,Jt(this))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Zn=r.prototype;function Qn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function ir(){return D(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function sr(e){if(e.size===1/0)return 0;var t=l(e),n=a(e),r=t?1:0;return ar(e.__iterate(n?t?function(e,t){r=31*r+ur(Re(e),Re(t))|0}:function(e,t){r=r+ur(Re(e),Re(t))|0}:t?function(e){r=31*r+Re(e)|0}:function(e){r=r+Re(e)|0}),r)}function ar(e,t){return t=Te(t,3432918353),t=Te(t<<15|t>>>-15,461845907),t=Te(t<<13|t>>>-13,5),t=Te((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ce((t=Te(t^t>>>13,3266489909))^t>>>16)}function ur(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[d]=!0,Zn[j]=Jn.entries,Zn.__toJS=Jn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(i,{toKeyedSeq:function(){return new Wt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,Qt(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=N(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(D(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return mn(this,un(this,e,!1))},get:function(e,t){return(e=C(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=C(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,ln(this,e))},interleave:function(){var e=[this].concat(D(arguments)),t=pn(this.toSeq(),q.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},keySeq:function(){return ye(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,sn(this,e,t,!1))},zip:function(){return mn(this,pn(this,ir,[this].concat(D(arguments))))},zipWith:function(e){var t=D(arguments);return t[0]=this,mn(this,pn(this,e,t))}}),i.prototype[f]=!0,i.prototype[p]=!0,Xn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Jn.includes,o.prototype.contains=o.prototype.includes,Xn(K,r.prototype),Xn(q,i.prototype),Xn(X,o.prototype),Xn(Se,r.prototype),Xn(be,i.prototype),Xn(De,o.prototype),{Iterable:n,Seq:W,Collection:Oe,Map:Ge,OrderedMap:zt,List:bt,Stack:Vn,Set:In,OrderedSet:Fn,Record:Sn,Range:ye,Repeat:ve,is:Ee,fromJS:fe}}()},function(e,t,n){"use strict";function r(e){return e<=0?Promise.resolve():new Promise((t=>setTimeout(t,e)))}async function i(e,t,n){const i=Symbol("timed out"),o=r(t).then((()=>i)),s=await Promise.race([e,o]);return s===i?n():s}function o(e,t){return e*(1-t+2*Math.random()*t)}n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));const s=()=>!0;async function a(e,t,{initialDelay:n,maxDelay:i,log:u,shouldRetry:c=s}){return t().catch((async s=>{if(u&&u(`[TalkJS] Retries left: ${e}. Error: ${JSON.stringify(s)}.`),0===e)throw s;if(!await c(s))throw s;const l=1e3*n*1.2,h=o(i?Math.min(1e3*i,l):l,.05);return r(h).then((()=>a(e-1,t,{initialDelay:h/1e3,maxDelay:i,log:u,shouldRetry:c})))}))}function u(){const e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}class c{get running(){return void 0!==this.timerId}constructor(e,t){this.intervalMs=e,this.callback=t,this.timerId=void 0}start(){this.running||this.trigger()}stop(){this.running&&(clearTimeout(this.timerId),this.timerId=void 0)}async trigger(){this.timerId=setTimeout((async()=>{this.running&&(await this.callback(),this.running&&this.trigger())}),this.intervalMs)}}},function(e,t,n){"use strict";var r,i=n(4),o=n.n(i),s=n(0),a=n.n(s),u=n(3);class c extends a.a.PureComponent{className(...e){const t=this.constructor;return u.g(t.displayName,this.props.className,...e)}}c.stringOrArray=o.a.oneOfType([o.a.string,o.a.array]),c.DivWithAClass=((r=class extends c{render(){return a.a.createElement("div",Object.assign({},this.props,{className:this.className()}),this.props.children)}}).propTypes={children:o.a.any.isRequired,className:c.stringOrArray,style:o.a.any},r),t.a=c},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return u}));function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;function u(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.a})),n.d(t,"f",(function(){return i.a})),n.d(t,"g",(function(){return o.a})),n.d(t,"a",(function(){return s.a})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return c.a})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return m.a})),n.d(t,"i",(function(){return m.c})),n.d(t,"h",(function(){return m.b}));var r=n(92),i=n(87),o=n(81),s=n(93),a=n(141);var u={make:n.n(a).a},c=n(73),l=n(29),h=n(11);Object(l.a)("AppSettings",{name:null,configs:h.Map()});const d=h.Record({general:h.Map(),theme:h.Record({version:"v1",mode:"default",raw:null,name:"default"}),suppressContactInfo:"",locale:{nymLocale:void 0,appLocale:void 0}},"Config");class f extends d{}f.ThemeMode={Default:"default",Custom:"custom"};var p=f;Object(l.a)("Presence",{isTyping:!1,hasFocus:!1});var m=n(68)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n(61),i=n(6);const o=(e,t,n)=>Object(r.b)(e,(e=>{if("string"==typeof e)return t(e,n);switch(e.type){case"bold":case"italic":case"strikethrough":case"blockquote":case"bulletlist":case"bulletList":case"bulletpoint":case"bulletPoint":return[{type:e.type,children:o(e.children,t,e.type)}];case"link":return[{type:e.type,url:e.url,children:o(e.children,t,e.type)}];case"actionlink":case"actionLink":case"actionbutton":case"actionButton":return[{type:e.type,action:e.action,params:e.params,children:o(e.children,t,e.type)}];case"mention":return[e];case"autolink":case"autoLink":case"codeblock":case"codeBlock":case"codespan":case"codeSpan":case"suppressed":case"emoji":case"customemoji":case"customEmoji":return[e]}}));function s(e,t){return n=>{const r=n;let o=0;const s=[];for(const a of Object(i.c)(n,e)){a.index-o>0&&s.push(r.substring(o,a.index));const e=t(a);Array.isArray(e)?s.push(...e):s.push(e),o=a.index+a[0].length}return o<n.length&&s.push(n.substring(o)),s}}function a(e){return e.replace(/<!!mention:.*?\|([^>]*)>/gim,"@$1").replace(/<!!customemoji:(.*?)>/gim,"$1")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(114),i=n(82);const o=Object.prototype.hasOwnProperty;var s=function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!o.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0};class a extends i.a{constructor(e,t,{storeName:n,makeEventData:r,compareBy:i,skipFirst:o=!1}){super(e,t,[n],{}),this._makeEventData=r,this._skipFirst=o,this._isEqual=i?(e,t)=>i(e)===i(t):s}onChange(e,t,n){const r=this._makeEventData(n);return this._isEqual(e,r)||(this._skipFirst?this._skipFirst=!1:t(r)),r}}a.Trigger=class extends a{constructor(e,t,{storeName:n}){super(e,t,{storeName:n,makeEventData:e=>e.get(),compareBy:()=>NaN})}};var u=a,c=n(76),l=n(2),h=n(55);class d{constructor(e,t,n){this._controller=e,this._fetcher=t,this._stores=n,this._subscriptions={},this.router=()=>{},this.nav=async(e,t)=>{null===e&&(e=void 0);const n=this._controller.nav.location.clone({relativePath:e,search:t});l.a.is(this._controller.nav,h.a),this._navPromise=this._controller.nav.go(n.toSafeString()),await this._navPromise},this.pingIframe=()=>"pong iframe",this.patchQueryString=e=>(l.a.is(this._controller.nav,h.a),this._controller.nav.replaceLocation((t=>{for(let n in e)if("localSettings"===n){const r=e[n];t.patchLocalSettings(r),r.tokenRefreshFailed&&this._fetcher.setTokenRefreshFailed()}else if("authToken"===n){const r=e[n];this._fetcher.setAuthToken(r),t.searchParams.set("authToken",r)}else t.searchParams.set(n,e[n])}))),this.windowVisibleChanged=e=>{this._controller.onWindowVisibleChange(e)},this.setPresence=e=>{this._controller.setPresence(e)},this.focusMessageField=()=>{var e;null===(e=window.__chatBox)||void 0===e||e.focusMessageField()},this.setText=e=>{var t;null===(t=window.__chatBox)||void 0===t||t.setText(e)},this.typeText=e=>{var t;null===(t=window.__chatBox)||void 0===t||t.typeText(e)},this.getText=()=>{var e,t;return null!==(t=null===(e=window.__chatBox)||void 0===e?void 0:e.getText())&&void 0!==t?t:""},this.sendFile=async e=>{var t;return null===(t=window.__chatBox)||void 0===t?void 0:t.onSendFile(e)},this.sendLocation=()=>{var e;return null===(e=window.__chatBox)||void 0===e?void 0:e.onShareLocation()},this.scrollToMessage=e=>{var t;this._navPromise?this._navPromise.then((()=>{var t;return null===(t=window.__chatBox)||void 0===t?void 0:t.jumpToMessage(e)})):null===(t=window.__chatBox)||void 0===t||t.jumpToMessage(e)},d.messageChannel=new MessageChannel,this.router=c.a(d.port,{nav:this.nav,patchQueryString:this.patchQueryString,windowVisibleChanged:this.windowVisibleChanged,setPresence:this.setPresence,focusMessageField:this.focusMessageField,setText:this.setText,typeText:this.typeText,getText:this.getText,sendFile:this.sendFile,sendLocation:this.sendLocation,scrollToMessage:this.scrollToMessage,pingIframe:this.pingIframe,jumpToNextHighlight:this.jumpToNextHighlight}),d.port.addEventListener("message",this.router),d.port.start(),window.addEventListener("message",this.router),this.startPostingChanges()}startPostingChanges(){this.postDesktopNotifyChanges(),this.postSelectedConversationChanges()}async jumpToNextHighlight(e){var t,n;return null!==(n=null===(t=window.__chatBox)||void 0===t?void 0:t.jumpToNextHighlight(e))&&void 0!==n&&n}_subscribeAndPost(e,t,...n){if(this._subscriptions[e])throw new Error(`Already listening for '${e}'`);return this._subscriptions[e]=new t(((...t)=>d.request(e,...t)),this._stores,...n),e}postSelectedConversationChanges(){return this._subscribeAndPost("selectedConversationChanged",r.a)}postDesktopNotifyChanges(){return this._subscribeAndPost("desktopNotifyChanged",u,{storeName:"SettingsStore",compareBy:e=>e.isEnabled,skipFirst:!0,makeEventData:e=>({isEnabled:e.isDesktopNotifyEnabled(),appName:e.getAppName()})})}static get port(){return d.messageChannel.port1}static request(e,...t){return Object(l.a)((()=>!0)),c.b(e,t,(async()=>d.port))}static initialise(){d.messageChannel.port2||console.error("[TalkJS] message channel port is undefined in iframe"),window.parent.postMessage("__talkjs:xdmready","*",[d.messageChannel.port2]),window.parent.postMessage("__talkjs:appready","*")}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,i,o=n(8);function s(e,t){return t.filter((t=>!0===e.participants[t.id].canRead)).map((e=>l(e)))}function a(e,t){return 1===t.length?[e]:t.filter((t=>t.id!==e.id))}function u(e,t){const n=o.b(e.participants,(e=>e.canRead)),r=o.h(n,(([e,n])=>{const r=h(n);return[t[e],{access:r}]}));return{custom:e.custom,id:e.externalId,photoUrl:e.photoUrl,subject:e.subject,topicId:e.topicId,welcomeMessages:e.welcomeMessages,participants:r}}function c(e,t,n,r,i){var o;return{id:e.externalId,type:d(e),conversation:u(t,i),senderId:null!==(o=null==n?void 0:n.id)&&void 0!==o?o:null,sender:n,isByMe:!!n&&n.id===r,body:e.text,location:e.location,attachment:e.attachment,timestamp:e.createdAt,read:e.senderId===r||!!e.received[r],custom:e.custom,origin:e.origin}}function l(e){if(null===e)return null;const t={id:e.externalId,name:e.name,custom:e.custom,locale:e.locale,photoUrl:e.photoUrl,role:e.configuration,welcomeMessage:e.welcomeMessage};return Object.assign(Object.assign({},t),{availabilityText:e.availabilityText,configuration:t.role,email:"<suppressed>",phone:"<suppressed>"})}function h({canWrite:e,canRead:t}){return e?"ReadWrite":t?"Read":"None"}function d(e){return e.attachment?"media":e.location?"location":"text"}!function(e){e[e.Inbox=0]="Inbox",e[e.Chatbox=1]="Chatbox",e[e.Popup=2]="Popup"}(r||(r={})),function(e){e[e.Widget=0]="Widget",e[e.Popover=1]="Popover"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"f",(function(){return se})),n.d(t,"i",(function(){return ae})),n.d(t,"g",(function(){return ue})),n.d(t,"h",(function(){return ce})),n.d(t,"b",(function(){return le})),n.d(t,"a",(function(){return he})),n.d(t,"d",(function(){return fe})),n.d(t,"e",(function(){return pe})),n.d(t,"j",(function(){return me})),n.d(t,"c",(function(){return ge}));var r=n(16);function i(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function o(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)}function s(e){throw new Error("Unhandled case for value: '"+e+"'")}var a=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,o=n?n.split(r):[],s=e.split(r);t=s.shift();)-1===i(o,t)&&o.push(t);return this.getAttrs().class=o.join(" "),this},e.prototype.removeClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,o=n?n.split(r):[],s=e.split(r);o.length&&(t=s.shift());){var a=i(o,t);-1!==a&&o.splice(a,1)}return this.getAttrs().class=o.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")},e}();var u=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new a({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var n=[t],r=e.getCssClassSuffixes(),i=0,o=r.length;i<o;i++)n.push(t+"-"+r[i]);return n.join(" ")}return""},e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var n=t.length,r=t.location;return"smart"===r?function(e,t,n){var r,i;null==n?(n="&hellip;",i=3,r=8):(i=n.length,r=n.length);var o=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},s=function(e,t){var r=t/2,i=Math.ceil(r),o=-1*Math.floor(r),s="";return o<0&&(s=e.substr(o)),e.substr(0,i)+n+s};if(e.length<=t)return e;var a=t-i,u=function(e){var t={},n=e,r=n.match(/^([a-z]+):\/\//i);return r&&(t.scheme=r[1],n=n.substr(r[0].length)),(r=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=r[1],n=n.substr(r[0].length)),(r=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=r[1],n=n.substr(r[0].length)),(r=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=r[1],n=n.substr(r[0].length)),(r=n.match(/^#(.*?)$/i))&&(t.fragment=r[1]),t}(e);if(u.query){var c=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(u.query=u.query.substr(0,c[1].length),e=o(u))}if(e.length<=t)return e;if(u.host&&(u.host=u.host.replace(/^www\./,""),e=o(u)),e.length<=t)return e;var l="";if(u.host&&(l+=u.host),l.length>=a)return u.host.length==t?(u.host.substr(0,t-i)+n).substr(0,a+r):s(l,a).substr(0,a+r);var h="";if(u.path&&(h+="/"+u.path),u.query&&(h+="?"+u.query),h){if((l+h).length>=a)return(l+h).length==t?(l+h).substr(0,t):(l+s(h,a-l.length)).substr(0,a+r);l+=h}if(u.fragment){var d="#"+u.fragment;if((l+d).length>=a)return(l+d).length==t?(l+d).substr(0,t):(l+s(d,a-l.length)).substr(0,a+r);l+=d}if(u.scheme&&u.host){var f=u.scheme+"://";if((l+f).length<a)return(f+l).substr(0,t)}if(l.length<=t)return l;var p="";return a>0&&(p=l.substr(-1*Math.floor(a/2))),(l.substr(0,Math.ceil(a/2))+n+p).substr(0,a+r)}(e,n):"middle"===r?function(e,t,n){if(e.length<=t)return e;var r,i;null==n?(n="&hellip;",r=8,i=3):(r=n.length,i=n.length);var o=t-i,s="";return o>0&&(s=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+n+s).substr(0,o+r)}(e,n):function(e,t,n){return function(e,t,n){var r;return e.length>t&&(null==n?(n="&hellip;",r=3):r=n.length,e=e.substring(0,t-r)+n),e}(e,t,n)}(e,n)},e}(),c=function(){function e(e){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.getType()]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var f,p=function(e){function t(t){var n=e.call(this,t)||this;return n.email="",n.email=t.email,n}return h(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(c),m=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="",n.hashtag="",n.serviceName=t.serviceName,n.hashtag=t.hashtag,n}return h(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}(c),g=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.mention="",n.mention=t.mention,n.serviceName=t.serviceName,n}return h(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t},t}(c),E=function(e){function t(t){var n=e.call(this,t)||this;return n.number="",n.plusSign=!1,n.number=t.number,n.plusSign=t.plusSign,n}return h(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(c),_=function(e){function t(t){var n=e.call(this,t)||this;return n.url="",n.urlMatchType="scheme",n.protocolUrlMatch=!1,n.protocolRelativeMatch=!1,n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.schemePrefixRegex=/^(https?:\/\/)?/i,n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,n.protocolRelativeRegex=/^\/\//,n.protocolPrepended=!1,n.urlMatchType=t.urlMatchType,n.url=t.url,n.protocolUrlMatch=t.protocolUrlMatch,n.protocolRelativeMatch=t.protocolRelativeMatch,n.stripPrefix=t.stripPrefix,n.stripTrailingSlash=t.stripTrailingSlash,n.decodePercentEncoding=t.decodePercentEncoding,n}return h(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}},t}(c),v=function(e){this.__jsduckDummyDocProp=null,this.tagBuilder=e.tagBuilder},A=/[A-Za-z]/,y=/[\d]/,O=/[\D]/,S=/\s/,b=/['"]/,D=/[\x00-\x1F\x7F]/,T=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,C=T+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,R=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,I=C+R,N=C+R,w="(?:["+R+"]{1,3}\\.){3}["+R+"]{1,3}",k="["+N+"](?:["+N+"\\-]{0,61}["+N+"])?",x=function(e){return"(?=("+k+"))\\"+e},L=function(e){return"(?:"+x(e)+"(?:\\."+x(e+1)+"){0,126}|"+w+")"},M=(new RegExp("["+N+".\\-]*["+N+"\\-]"),new RegExp("["+N+"]")),P=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|||||||||abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|||||||||||||aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)/,F=new RegExp("["+N+"!#$%&'*+/=?^_`{|}~-]"),j=new RegExp("^"+P.source+"$"),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPartCharRegex=F,t.strictTldRegex=j,t}return h(t,e),t.prototype.parseMatches=function(e){for(var t=this.tagBuilder,n=this.localPartCharRegex,r=this.strictTldRegex,i=[],o=e.length,a=new U,u={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},c=0,l=0,h=a;c<o;){var f=e.charAt(c);switch(l){case 0:m(f);break;case 1:g(e.charAt(c-1),f);break;case 2:E(f);break;case 3:_(f);break;case 4:v(f);break;case 5:A(f);break;case 6:y(f);break;case 7:O(f);break;default:s(l)}c++}return D(),i;function m(e){"m"===e?S(1):n.test(e)&&S()}function g(e,t){":"===e?n.test(t)?(l=2,h=new U(d(d({},h),{hasMailtoPrefix:!0}))):b():u[e]===t||(n.test(t)?l=2:"."===t?l=3:"@"===t?l=4:b())}function E(e){"."===e?l=3:"@"===e?l=4:n.test(e)||b()}function _(e){"."===e||"@"===e?b():n.test(e)?l=2:b()}function v(e){M.test(e)?l=5:b()}function A(e){"."===e?l=7:"-"===e?l=6:M.test(e)||D()}function y(e){"-"===e||"."===e?D():M.test(e)?l=5:D()}function O(e){"."===e||"-"===e?D():M.test(e)?(l=5,h=new U(d(d({},h),{hasDomainDot:!0}))):D()}function S(e){void 0===e&&(e=2),l=e,h=new U({idx:c})}function b(){l=0,h=a}function D(){if(h.hasDomainDot){var n=e.slice(h.idx,c);/[-.]$/.test(n)&&(n=n.slice(0,-1));var o=h.hasMailtoPrefix?n.slice("mailto:".length):n;(function(e){var t=(e.split(".").pop()||"").toLowerCase();return r.test(t)})(o)&&i.push(new p({tagBuilder:t,matchedText:n,offset:h.idx,email:o}))}b()}},t}(v),U=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.hasMailtoPrefix=!!e.hasMailtoPrefix,this.hasDomainDot=!!e.hasDomainDot},H=function(){function e(){}return e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},e.containsMultipleDots=function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),n=t&&t[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n},e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&(!this.hasFullProtocolRegex.test(t)&&!this.hasWordCharAfterProtocolRegex.test(e))},e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+T+"]"),e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,e}(),z=(f=new RegExp("[/?#](?:["+N+"\\-+&@#/%=~_()|'$*\\[\\]{}?!:,.;^]*["+N+"\\-+&@#/%=~_()|'$*\\[\\]{}])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,L(2),")","|","(","(//)?",/(?:www\.)/.source,L(6),")","|","(","(//)?",L(10)+"\\.",P.source,"(?![-"+I+"])",")",")","(?::[0-9]+)?","(?:"+f.source+")?"].join(""),"gi")),V=new RegExp("["+N+"]"),G=function(e){function t(t){var n=e.call(this,t)||this;return n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.matcherRegex=z,n.wordCharRegExp=V,n.stripPrefix=t.stripPrefix,n.stripTrailingSlash=t.stripTrailingSlash,n.decodePercentEncoding=t.decodePercentEncoding,n}return h(t,e),t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.stripPrefix,i=this.stripTrailingSlash,o=this.decodePercentEncoding,s=this.tagBuilder,a=[],u=function(){var n=t[0],u=t[1],l=t[4],h=t[5],d=t[9],f=t.index,p=h||d,m=e.charAt(f-1);if(!H.isValid(n,u))return"continue";if(f>0&&"@"===m)return"continue";if(f>0&&p&&c.wordCharRegExp.test(m))return"continue";if(/\?$/.test(n)&&(n=n.substr(0,n.length-1)),c.matchHasUnbalancedClosingParen(n))n=n.substr(0,n.length-1);else{var g=c.matchHasInvalidCharAfterTld(n,u);g>-1&&(n=n.substr(0,g))}var E=["http://","https://"].find((function(e){return!!u&&-1!==u.indexOf(e)}));if(E){var v=n.indexOf(E);n=n.substr(v),u=u.substr(v),f+=v}var A=u?"scheme":l?"www":"tld",y=!!u;a.push(new _({tagBuilder:s,matchedText:n,offset:f,urlMatchType:A,url:n,protocolUrlMatch:y,protocolRelativeMatch:!!p,stripPrefix:r,stripTrailingSlash:i,decodePercentEncoding:o}))},c=this;null!==(t=n.exec(e));)u();return a},t.prototype.matchHasUnbalancedClosingParen=function(e){var t,n=e.charAt(e.length-1);if(")"===n)t="(";else if("]"===n)t="[";else{if("}"!==n)return!1;t="{"}for(var r=0,i=0,o=e.length-1;i<o;i++){var s=e.charAt(i);s===t?r++:s===n&&(r=Math.max(r-1,0))}return 0===r},t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var n=0;t&&(n=e.indexOf(":"),e=e.slice(n));var r=new RegExp("^((.?//)?[-."+N+"]*[-"+N+"]\\.[-"+N+"]+)").exec(e);return null===r?-1:(n+=r[1].length,e=e.slice(r[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?n:-1)},t}(v),$=new RegExp("#[_"+N+"]{1,139}(?![_"+N+"])","g"),Y=new RegExp("[^"+N+"]"),W=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.matcherRegex=$,n.nonWordCharRegex=Y,n.serviceName=t.serviceName,n}return h(t,e),t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.nonWordCharRegex,i=this.serviceName,o=this.tagBuilder,s=[];null!==(t=n.exec(e));){var a=t.index,u=e.charAt(a-1);if(0===a||r.test(u)){var c=t[0],l=t[0].slice(1);s.push(new m({tagBuilder:o,matchedText:c,offset:a,serviceName:i,hashtag:l}))}}return s},t}(v),K=new RegExp(/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/.source+"|"+/(0([1-9]{1}-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source,"g"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.matcherRegex=K,t}return h(t,e),t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.tagBuilder,i=[];null!==(t=n.exec(e));){var o=t[0],s=o.replace(/[^0-9,;#]/g,""),a=!(!t[1]&&!t[2]),u=0==t.index?"":e.substr(t.index-1,1),c=e.substr(t.index+o.length,1),l=!u.match(/\d/)&&!c.match(/\d/);this.testMatch(t[3])&&this.testMatch(o)&&l&&i.push(new E({tagBuilder:r,matchedText:o,offset:t.index,number:s,plusSign:a}))}return i},t.prototype.testMatch=function(e){return O.test(e)},t}(v),X=new RegExp("@[_"+N+"]{1,50}(?![_"+N+"])","g"),J=new RegExp("@[_."+N+"]{1,30}(?![_"+N+"])","g"),Z=new RegExp("@[-_."+N+"]{1,50}(?![-_"+N+"])","g"),Q=new RegExp("[^"+N+"]"),ee=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.matcherRegexes={twitter:X,instagram:J,soundcloud:Z},n.nonWordCharRegex=Q,n.serviceName=t.serviceName,n}return h(t,e),t.prototype.parseMatches=function(e){var t,n=this.serviceName,r=this.matcherRegexes[this.serviceName],i=this.nonWordCharRegex,o=this.tagBuilder,s=[];if(!r)return s;for(;null!==(t=r.exec(e));){var a=t.index,u=e.charAt(a-1);if(0===a||i.test(u)){var c=t[0].replace(/\.+$/g,""),l=c.slice(1);s.push(new g({tagBuilder:o,matchedText:c,offset:a,serviceName:n,mention:l}))}}return s},t}(v);function te(e,t){for(var n,r=t.onOpenTag,i=t.onCloseTag,o=t.onText,a=t.onComment,u=t.onDoctype,c=new ne,l=0,h=e.length,f=0,p=0,m=c;l<h;){var g=e.charAt(l);switch(f){case 0:E(g);break;case 1:_(g);break;case 2:O(g);break;case 3:v(g);break;case 4:T(g);break;case 5:C(g);break;case 6:R(g);break;case 7:I(g);break;case 8:N(g);break;case 9:w(g);break;case 10:k(g);break;case 11:x(g);break;case 12:L(g);break;case 13:M(g);break;case 14:P(g);break;case 15:F(g);break;case 16:j(g);break;case 17:B(g);break;case 18:U(g);break;case 19:H(g);break;case 20:z(g);break;default:s(f)}l++}function E(e){"<"===e&&G()}function _(e){"!"===e?f=13:"/"===e?(f=2,m=new ne(d(d({},m),{isClosing:!0}))):"<"===e?G():A.test(e)?(f=3,m=new ne(d(d({},m),{isOpening:!0}))):(f=0,m=c)}function v(e){S.test(e)?(m=new ne(d(d({},m),{name:Y()})),f=4):"<"===e?G():"/"===e?(m=new ne(d(d({},m),{name:Y()})),f=12):">"===e?(m=new ne(d(d({},m),{name:Y()})),$()):A.test(e)||y.test(e)||":"===e||V()}function O(e){">"===e?V():A.test(e)?f=3:V()}function T(e){S.test(e)||("/"===e?f=12:">"===e?$():"<"===e?G():"="===e||b.test(e)||D.test(e)?V():f=5)}function C(e){S.test(e)?f=6:"/"===e?f=12:"="===e?f=7:">"===e?$():"<"===e?G():b.test(e)&&V()}function R(e){S.test(e)||("/"===e?f=12:"="===e?f=7:">"===e?$():"<"===e?G():b.test(e)?V():f=5)}function I(e){S.test(e)||('"'===e?f=8:"'"===e?f=9:/[>=`]/.test(e)?V():"<"===e?G():f=10)}function N(e){'"'===e&&(f=11)}function w(e){"'"===e&&(f=11)}function k(e){S.test(e)?f=4:">"===e?$():"<"===e&&G()}function x(e){S.test(e)?f=4:"/"===e?f=12:">"===e?$():"<"===e?G():(f=4,l--)}function L(e){">"===e?(m=new ne(d(d({},m),{isClosing:!0})),$()):f=4}function M(t){"--"===e.substr(l,2)?(l+=2,m=new ne(d(d({},m),{type:"comment"})),f=14):"DOCTYPE"===e.substr(l,7).toUpperCase()?(l+=7,m=new ne(d(d({},m),{type:"doctype"})),f=20):V()}function P(e){"-"===e?f=15:">"===e?V():f=16}function F(e){"-"===e?f=18:">"===e?V():f=16}function j(e){"-"===e&&(f=17)}function B(e){f="-"===e?18:16}function U(e){">"===e?$():"!"===e?f=19:"-"===e||(f=16)}function H(e){"-"===e?f=17:">"===e?$():f=16}function z(e){">"===e?$():"<"===e&&G()}function V(){f=0,m=c}function G(){f=1,m=new ne({idx:l})}function $(){var t=e.slice(p,m.idx);t&&o(t,p),"comment"===m.type?a(m.idx):"doctype"===m.type?u(m.idx):(m.isOpening&&r(m.name,m.idx),m.isClosing&&i(m.name,m.idx)),V(),p=l+1}function Y(){var t=m.idx+(m.isClosing?2:1);return e.slice(t,l).toLowerCase()}p<l&&(n=e.slice(p,l),o(n,p),p=l+1)}var ne=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},re=function(){function e(t){void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:this.email,this.phone="boolean"==typeof t.phone?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n&&"soundcloud"!==n)throw new Error("invalid `mention` cfg - see docs");var r=this.hashtag;if(!1!==r&&"twitter"!==r&&"facebook"!==r&&"instagram"!==r)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.prototype.normalizeUrlsCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},e.prototype.normalizeStripPrefixCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},e.prototype.parse=function(e){var t=this,n=["a","style","script"],r=0,i=[];return te(e,{onOpenTag:function(e){n.indexOf(e)>=0&&r++},onText:function(e,n){if(0===r){var o=function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],i=0;n=t.exec(e);)r.push(e.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(e.substring(i)),r}(e,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),s=n;o.forEach((function(e,n){if(n%2==0){var r=t.parseText(e,s);i.push.apply(i,r)}s+=e.length}))}},onCloseTag:function(e){n.indexOf(e)>=0&&(r=Math.max(r-1,0))},onComment:function(e){},onDoctype:function(e){}}),i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;t++){var n=e[t],r=n.getOffset(),i=n.getMatchedText().length,o=r+i;if(t+1<e.length){if(e[t+1].getOffset()===r){var s=e[t+1].getMatchedText().length>i?t:t+1;e.splice(s,1);continue}e[t+1].getOffset()<o&&e.splice(t+1,1)}}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||o(e,(function(e){return"hashtag"===e.getType()})),this.email||o(e,(function(e){return"email"===e.getType()})),this.phone||o(e,(function(e){return"phone"===e.getType()})),this.mention||o(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||o(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.wwwMatches||o(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()})),this.urls.tldMatches||o(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),e},e.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var n=this.getMatchers(),r=[],i=0,o=n.length;i<o;i++){for(var s=n[i].parseMatches(e),a=0,u=s.length;a<u;a++)s[a].setOffset(t+s[a].getOffset());r.push.apply(r,s)}return r},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),n=[],r=0,i=0,o=t.length;i<o;i++){var s=t[i];n.push(e.substring(r,s.getOffset())),n.push(this.createMatchReturnVal(s)),r=s.getOffset()+s.getMatchedText().length}return n.push(e.substring(r)),n.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof a?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new W({tagBuilder:e,serviceName:this.hashtag}),new B({tagBuilder:e}),new q({tagBuilder:e}),new ee({tagBuilder:e,serviceName:this.mention}),new G({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new u({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="3.14.3",e.AnchorTagBuilder=u,e.HtmlTag=a,e.matcher={Email:B,Hashtag:W,Matcher:v,Mention:ee,Phone:q,Url:G},e.match={Email:p,Hashtag:m,Match:c,Mention:g,Phone:E,Url:_},e}(),ie=n(6);function oe(e,t=e){return{type:"autolink",url:e,text:t}}const se=()=>Object(r.b)(/```([^]+?)```/g,(([e,t])=>{const n=Object(r.c)(t);return{type:"codespan",text:n}})),ae=(Object(r.b)(/^([ \t]*`{3,4})(?![^\r?\n]*```)([^\r\n`]*)([\s\S]+?)(^[ \t]*\1)\r?\n?/gm,(([e,t,n,r])=>function(e,t){return{type:"codeblock",language:e,text:t}}(n,r.replace(/^\s*\n/m,"").replace(/\n\s*$/m,"")))),Object(r.b)(/^> (?:.*|\r?\n> )*\r?\n?/gm,(([e])=>function(e=[]){return{type:"blockquote",children:e}}([e.trim().replace(/^> /gm,"")]))),Object(r.b)(/<!!mention:([^>\s]*?)\|(.*?)>/gm,(([e,t,n])=>function(e,t){return{type:"mention",id:e,text:t}}(decodeURIComponent(t),n)))),ue=Object(r.b)(/<!!customemoji:(.*?)>/gm,(([e,t])=>function(e){return{type:"customemoji",text:e}}(t))),ce=Object(r.b)(/<((?:https?|mailto):.*?)\|(.*?)>/gi,(([e,t,n])=>function(e,t=[]){return{type:"link",url:e,children:t}}(t,[n]))),le=Object(r.b)(/<actionlink:([^|]+)[|]([^>]*)>/gi,(([e,t,n])=>{const{action:r,params:i}=de(t);return function(e,t,n=[]){return{type:"actionlink",action:e,params:t,children:n}}(r,i,[n])})),he=Object(r.b)(/<actionbutton:([^|]+)[|]([^>]*)>/gi,(([e,t,n])=>{const{action:r,params:i}=de(t);return function(e,t,n=[]){return{type:"actionbutton",action:e,params:t,children:n}}(r,i,[n])}));function de(e){const t=e.indexOf("?");if(-1===t)return{action:e,params:{}};return{action:e.slice(0,t),params:Object.fromEntries(new URLSearchParams(e.slice(t)))}}const fe=Object(r.b)(/(?:^|\n)(?:\s*[-*+]\s+[^\n]+(?:\n|$))+/g,(([e])=>function(e=[]){return{type:"bulletlist",children:e}}([e.startsWith("\n")?e.slice(1):e]))),pe=Object(r.b)(/^\s*[-*+]\s+([^\n]+)(?:\n|$)/gm,(([e,t])=>({type:"bulletpoint",children:[t]}))),me=e=>{const t=/(?:^|[^-:/\w])([(+]?[0-9](?:[-_+ ().]?[0-9]){5,11}[0-9])(?:[^-:/\w]|$)/g;let n=0;const r=[];for(const i of Object(ie.c)(e,t)){const t=i[0],o=i[1],s=t.startsWith(o)?i.index:i.index+1;s-n>0&&r.push(e.substring(n,s));const a=oe("tel:"+o.replace(/[^0-9+]/g,""),o);r.push(a),n=s+o.length}return n<e.length&&r.push(e.substring(n)),r},ge=e=>ce(e).flatMap((e=>"string"==typeof e?Ee(e):["<",...Ee(e.url),...Ee("|"+e.children[0]+">")])),Ee=e=>{const t=re.parse(e,{urls:!0,email:!0,phone:!1,hashtag:!1,mention:!1}),n=[];let r=0;for(const i of t){const t=i.getOffset(),o=i.getMatchedText(),s=o.length;let a=o;i instanceof p?a="mailto:"+i.getEmail():i instanceof _&&(a=i.getUrl()),t>r&&n.push(e.substring(r,t)),n.push(oe(a,o)),r=t+s}return r<e.length&&n.push(e.substring(r)),n}},function(e,t,n){"use strict";n.d(t,"n",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return f}));var r=n(36);function i(){const e=window.crypto,t=e?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.floor(255*Math.random());return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^t()&15>>e/4).toString(16)))}function o(e){const t=document.createElement("a");return t.href=e,t.href||e}function s(e,t){document.cookie=`${e}=${t};path=/`}function a(e){const t=u(e);document.cookie=`${e}=${t};expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/`}function u(e){let t;try{t=document.cookie}catch(e){return}const n=t.split("; ").map((e=>e.split("="))).map((([e,t])=>({name:e,value:t})));for(let t of n)if(t.name===e)return t.value}function c(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function l(){return!!window.cordova}n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return r.b})),n.d(t,"j",(function(){return r.f})),n.d(t,"k",(function(){return r.g}));class h{constructor(e,t){this._expired=!1,this._callbackCount=0;const n=this;this.callback=function(){if(n._callbackCount++,n._callbackCount>1)throw new Error(`[TalkJS] Cannot call ${e} more than once`);if(n._expired)throw new Error(`[TalkJS] Cannot call ${e} asynchronously`);return t.apply(null,arguments)}}expire(){this._expired=!0}}class d{constructor(e){this.id=e,this.isLeader=!1,this._released=new Promise((e=>{this._release=e})),"locks"in navigator?navigator.locks.request(this.id,(()=>(this.isLeader=!0,this._released))):this.isLeader=!0}relinquish(){this._release(),this.isLeader=!1}}function f(e){const t={};return"width"in e&&(t.width=e.width),"height"in e&&(t.height=e.height),"duration"in e&&(t.duration=e.duration),t.width||t.height||t.duration?t:void 0}},function(e,t,n){"use strict";let r;r=window.initialData?window.initialData.KEYS:{};t.a=((e={})=>({MAX_INITIAL_MESSAGES:60,MAX_INITIALLY_VISIBLE_MESSAGES:30,LOAD_MORE_MESSAGES_STEP:30,LOAD_MORE_CHATS_STEP:50,ALL_MESSAGES:600,INITIAL_CHATS_LOADED:50,INITIALLY_VISIBLE_CHATS_IN_HUB:15,INITIALLY_VISIBLE_CHATS_SEARCH_RESULTS:3,LOAD_MORE_CHATS_SEARCH_RESULTS_STEP:50,INITIALLY_VISIBLE_MESSAGES_SEARCH_RESULTS:3,LOAD_MORE_MESSAGES_SEARCH_RESULTS_STEP:50,GOOGLE_MAPS_API_KEY:e.GOOGLE_MAPS_API_KEY,IFRAMELY_API_KEY:e.IFRAMELY_API_KEY,FIREBASE:e.FIREBASE}))(r)},function(e,t,n){"use strict";n.d(t,"d",(function(){return R})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return I.a})),n.d(t,"c",(function(){return I.b})),n.d(t,"e",(function(){return r.b})),n.d(t,"f",(function(){return C.a}));var r=n(24),i=n(26),o=n(83),s=n(62),a=n(6),u=n(0),c=n.n(u),l=n(54),h=(n(212),n(42)),d=n(41),f=n(94),p=n(35);const m=({id:e,text:t})=>{const{nym:n,me:r}=Object(f.a)([d.a,h.a],((t,n)=>({nym:E(t,e),me:n.getMe()})));if(!n)return c.a.createElement(g,{text:t});const i=r.id===n.id,o=`@${n.name||t}`;return c.a.createElement("div",{className:"mention"},c.a.createElement("span",{className:`mention-text ${i&&"mention-highlight"}`},o))},g=({text:e})=>c.a.createElement("span",{className:"mention"},"@",e);function E(e,t){if(t.endsWith("_n")){const n=e.getNym(t);if(null!==n)return n}const n=Object(p.a)(t)+"_n";return e.getNym(n)}var _=n(50);function v(e,t={}){return A(e,Object(s.a)(t))}function A(e,t){return e.flatMap((e=>{if("string"==typeof e)return y(e,t.highlight);switch(e.type){case"bold":case"italic":case"strikethrough":case"blockquote":case"bulletpoint":case"bulletPoint":return O(e,t);case"bulletlist":case"bulletList":return[c.a.createElement("ul",null,...A(e.children,t))];case"autolink":case"autoLink":return S(e,t);case"link":return b(e,t);case"codeblock":case"codeBlock":return[c.a.createElement("code",{"data-language":e.language},y(e.text,t.highlight))];case"codespan":case"codeSpan":return c.a.createElement("code",null,y(Object(a.p)(e.text),t.highlight));case"mention":return t.useFallbackMentions?c.a.createElement(g,{text:e.text,key:e.id}):c.a.createElement(m,{id:e.id,text:e.text,key:e.id});case"suppressed":return[c.a.createElement("i",null,t.contactInfoHiddenText)];case"emoji":return t.enableEmojiImageFallback?[c.a.createElement(o.b,{unicode:e.text})]:[e.text];case"customemoji":case"customEmoji":const n=t.customEmojiUrls[e.text];return n?c.a.createElement(o.a,{src:n,alt:e.text}):(console.warn(`[TalkJS] Can't show custom emoji "${e.text}" because it was not defined. Make sure it's passed in the "customEmojis" option when creating the chatbox.`),e.text);case"actionlink":case"actionLink":case"actionbutton":case"actionButton":return D(e,t)}}))}function y(e,t){if(0===t.length)return[e];const n=i.e(t),r=Object(a.c)(e,n).map((e=>({offset:e.index,matchedText:e[0]})));return Object(a.n)(e,r,(({matchedText:e})=>[c.a.createElement("span",{className:"highlighted-text"},e)]))}const O=(e,t)=>{const n={bold:"strong",italic:"em",strikethrough:"del",blockquote:"blockquote",bulletpoint:"li",bulletPoint:"li"}[e.type];return[c.a.createElement(n,null,...A(e.children,t))]},S=(e,t)=>{const n=T(t.sameTabLinkRules,e.url);return[c.a.createElement(l.a,{target:n,href:e.url},e.text)]},b=(e,t)=>{switch(t.formattedLinks){case"link":const n=T(t.sameTabLinkRules,e.url);return[c.a.createElement(l.a,{target:n,href:e.url},...A(e.children,t))];case"plaintext":return[c.a.createElement("span",null,...A(e.children,t))]}},D=(e,t)=>t.enableActions?"link"===t.formattedLinks?[c.a.createElement(_.a,{type:e.type,action:e.action,params:e.params},...A(e.children,t))]:[...A(e.children,t)]:[null];function T(e,t){for(const n of e)if(i.g.test(n)){if(i.c(n).test(t))return"_top"}else if(i.f(n,t))return"_top";return"_blank"}var C=n(71);function R(e,t,n={except:[]}){const i=Object(r.b)(e,n);return v(Object(C.a)(i,t),t)}var I=n(91);n(110)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,c=i>>2,l=(3&i)<<4|s>>4;let h=(15&s)<<2|u>>6,d=63&u;a||(d=64,o||(h=64)),r.push(n[c],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const u=i<<2|o>>4;if(r.push(u),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=s(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(){return"object"==typeof self&&self.self===self}function l(){return"object"==typeof indexedDB}function h(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class d extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(p,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new d(r,s,n)}}const p=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(E(n)&&E(o)){if(!g(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function E(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t){const n=new v(e,t);return n.subscribe.bind(n)}class v{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function A(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function y(e){return e&&e._delegate?e._delegate:e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return v}));var r=n(16),i=n(6);var o,s="'()[]{}<>:,!.-?;/&@*\\^$#%~_|".replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");!function(e){e[e.italic=1]="italic",e[e.strikethrough=2]="strikethrough",e[e.bold=4]="bold"}(o||(o={}));const a=[0,1,2,3,4,5,6].map((e=>{const t=[];return 0==(e&o.italic)&&t.push(/_([^\s_].*?[^\s_])_|_([^\s_])_/),0==(e&o.strikethrough)&&t.push(/~([^\s~].*?[^\s~])~|~([^\s~])~/),0==(e&o.bold)&&t.push(/\*([^\s*].*?[^\s*])\*|\*([^\s*])\*/),new RegExp(t.map((e=>e.source)).join("|"),"g")})),u={_:o.italic,"*":o.bold,"~":o.strikethrough};function c(e){return l(e,0)}function l(e,t=0){const n=a[t],i=n?function(e){const t=h.getOrCompute(e,(()=>new RegExp(`(?:^|[\\s${s}])(?:${e.source})(?=[\\s${s}]|$)`,"g"))),n=Object(r.b)(t,(e=>{const t=e[0][1],n=e[1]||e[2]||e[3]||e[4]||e[5]||e[6];return[" ",{type:o[u[t]],children:[n]}]}));return e=>{const[t,...r]=n(" "+e);return t.length>1&&r.unshift(t.substring(1)),r}}(n):()=>[e];return Object(r.a)(i(e),((e,n)=>"bold"===n||"italic"===n||"strikethrough"===n?l(e,t|o[n]):[e]))}const h=Object(i.k)();var d=n(19);const f=["Codeblock","Codespan","FormattedLink","Wikitext","Autolink","Actions","Mention","Mention","BulletPoint","CustomEmoji"];const p=Object(i.o)("\n");function m(e,t={except:[]}){let n=E(e,function(e={except:[]}){var t;const n={multilineSteps:[],singlelineSteps:[]},r=null!==(t=e.except)&&void 0!==t?t:f.filter((t=>!e.only.includes(t)));return r.includes("BulletPoint")||n.multilineSteps.push(d.d,d.e),r.includes("Mention")||n.singlelineSteps.push(d.i),r.includes("CustomEmoji")||n.singlelineSteps.push(d.g),r.includes("Codespan")||n.multilineSteps.push(Object(d.f)()),r.includes("FormattedLink")||n.singlelineSteps.push(d.h),r.includes("Actions")||(n.singlelineSteps.push(d.b),n.singlelineSteps.push(d.a)),r.includes("Wikitext")||n.singlelineSteps.push(c),r.includes("Autolink")||n.singlelineSteps.push(d.c,d.j),n}(t));return n=A(n,!1),n}function g(e){return m(e,{except:["FormattedLink","Actions"]})}function E(e,t){let n=[e];return n=_(n,t.multilineSteps),n=_(n,[p]),n=_(n,t.singlelineSteps),n=v(n),n}function _(e,t){return t.reduce(((e,t)=>Object(r.a)(e,t)),e)}function v(e){const t=[];let n=-1;for(const r of e)"string"==typeof r?"string"==typeof t[n]?t[n]+=r:t[++n]=r:t[++n]="children"in r?Object.assign(Object.assign({},r),{children:v(r.children)}):r;return t}function A(e,t){const n=[];let r=[];for(let i=0;i<e.length;i++){const o=e[i];if("string"==typeof o)r.push(o);else if("children"in o){r.length>0&&(n.push(r.join("")),r=[]);const e=A(o.children,t||"link"===o.type||"actionbutton"===o.type||"actionlink"===o.type);n.push(Object.assign(Object.assign({},o),{children:e}))}else"autolink"===o.type&&t?r.push(o.text):(r.length>0&&(n.push(r.join("")),r=[]),n.push(o))}return r.length>0&&(n.push(r.join("")),r=[]),n}},function(e,t,n){"use strict";var r=n(52);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return h}));var r=n(6);const i=/^\/.*[^\\]\/[im]*$/;function o(e){if(!i.test(e))return!1;return!s(e).test("")}function s(e){const t=e.match(/^\/(.*[^\\])\/(.*)$/);if(!t)throw new Error(`Expected ${e} to be a (non-empty) regex`);let n=t[2]||"";return n=n.replace(/[^im]/g,"")+"g",new RegExp(t[1],n)}function a(e){const t=e.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp("^"+t+"$","i")}function u(e,t){const n=Object(r.m)(t),i=a(e);return void 0!==n&&i.test(n)}const c=/^[]/g;function l(e){const t=e.map((e=>e.trim())).filter((e=>e));if(0===t.length)return c;const n=t.map(h).join("|");return new RegExp(n,"gi")}function h(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return I}));var r=n(5);const i=Math.pow(2,16);function o(e){return 65535&e}class s{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class a{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&a.empty)return a.empty}recover(e){let t=0,n=o(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/i}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?r:0);if(c>e)break;let l=this.ranges[u+o],h=this.ranges[u+a],d=c+l;if(e<=d){let o=c+r+((l?e==c?-1:e==d?1:t:t)<0?0:h);if(n)return o;let a=e==(t<0?c:d)?null:u/3+(e-c)*i,f=e==c?2:e==d?1:4;return(t<0?e!=c:e!=d)&&(f|=8),new s(o,f,a)}r+=h-l}return n?e+r:new s(e+r,0,null)}touches(e,t){let n=0,r=o(t),i=this.inverted?2:1,s=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let o=this.ranges[t]-(this.inverted?n:0);if(o>e)break;let a=this.ranges[t+i];if(e<=o+a&&t==3*r)return!0;n+=this.ranges[t+s]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),u=this.ranges[r+t],c=this.ranges[r+n];e(s,s+u,a,a+c),i+=c-u}}invert(){return new a(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?a.empty:new a(e<0?[0,-e,0]:[0,0,e])}}a.empty=new a([]);class u{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new u(this.maps,this.mirror,e,t)}copy(){return new u(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new u;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(e,t);if(null!=i.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new s(e,r,null)}}const c=Object.create(null);class l{getMap(){return a.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=c[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in c)throw new RangeError("Duplicate use of step JSON ID "+e);return c[e]=t,t.prototype.jsonID=e,t}}class h{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new h(e,null)}static fail(e){return new h(null,e)}static fromReplace(e,t,n,i){try{return h.ok(e.replace(t,n,i))}catch(e){if(e instanceof r.g)return h.fail(e.message);throw e}}}function d(e,t,n){let i=[];for(let r=0;r<e.childCount;r++){let o=e.child(r);o.content.size&&(o=o.copy(d(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return r.c.fromArray(i)}class f extends l{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new r.i(d(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),i),t.openStart,t.openEnd);return h.fromReplace(e,this.from,this.to,o)}invert(){return new p(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new f(t.pos,n.pos,this.mark)}merge(e){return e instanceof f&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new f(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(t.from,t.to,e.markFromJSON(t.mark))}}l.jsonID("addMark",f);class p extends l{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new r.i(d(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return h.fromReplace(e,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new p(t.pos,n.pos,this.mark)}merge(e){return e instanceof p&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new p(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new p(t.from,t.to,e.markFromJSON(t.mark))}}l.jsonID("removeMark",p);class m extends l{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return h.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return h.fromReplace(e,this.pos,this.pos+1,new r.i(r.c.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new m(this.pos,t.marks[n]);return new m(this.pos,this.mark)}}return new g(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new m(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new m(t.pos,e.markFromJSON(t.mark))}}l.jsonID("addNodeMark",m);class g extends l{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return h.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return h.fromReplace(e,this.pos,this.pos+1,new r.i(r.c.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new m(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new g(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new g(t.pos,e.markFromJSON(t.mark))}}l.jsonID("removeNodeMark",g);class E extends l{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&v(e,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new a([this.from,this.to-this.from,this.slice.size])}invert(e){return new E(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new E(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof E)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?r.i.empty:new r.i(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new E(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?r.i.empty:new r.i(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new E(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new E(t.from,t.to,r.i.fromJSON(e,t.slice),!!t.structure)}}l.jsonID("replace",E);class _ extends l{constructor(e,t,n,r,i,o,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(e){if(this.structure&&(v(e,this.from,this.gapFrom)||v(e,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return h.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?h.fromReplace(e,this.from,this.to,n):h.fail("Content does not fit in gap")}getMap(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new _(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new _(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _(t.from,t.to,t.gapFrom,t.gapTo,r.i.fromJSON(e,t.slice),t.insert,!!t.structure)}}function v(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function A(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function y(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!A(r,i,o))break}return null}function O(e,t,n=null,r=e){let i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}(e,t),o=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let e=r;a&&e<i;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?s:null}(r,t);return o?i.map(S).concat({type:t,attrs:n}).concat(o.map(S)):null}function S(e){return{type:e,attrs:null}}function b(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let e=i.depth-1,t=n-2;e>o;e--,t--){let n=i.node(e),o=i.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(o,n.childCount),a=r&&r[t+1];a&&(s=s.replaceChild(0,a.type.create(a.attrs)));let u=r&&r[t]||n;if(!n.canReplace(o+1,n.childCount)||!u.type.validContent(s))return!1}let a=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(a,a,u?u.type:i.node(o+1).type)}function D(e,t){let n=e.resolve(t),r=n.index();return T(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function T(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function C(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let i,o,s=r.index(e);if(e==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(e+1),s++,o=r.node(e).maybeChild(s)):(i=r.node(e).maybeChild(s-1),o=r.node(e+1)),i&&!i.isTextblock&&T(i,o)&&r.node(e).canReplace(s,s+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function R(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,o=r.index(t)+(n>0?1:0),s=r.node(t),a=!1;if(1==e)a=s.canReplace(o,o,i);else{let e=s.contentMatchAt(o).findWrapping(i.firstChild.type);a=e&&s.canReplaceWith(o,o,e[0])}if(a)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function I(e,t,n=t,i=r.i.empty){if(t==n&&!i.size)return null;let o=e.resolve(t),s=e.resolve(n);return N(o,s,i)?new E(t,n,i):new w(o,s,i).fit()}function N(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}l.jsonID("replaceAround",_);class w{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=r.c.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=r.c.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,s=n.depth,a=i.depth;for(;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;let u=new r.i(o,s,a);return e>-1?new _(n.pos,e,this.$to.pos,this.$to.end(),u,t):u.size||n.pos!=this.$to.pos?new E(n.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,i=null;n?(i=L(this.unplaced.content,n-1).firstChild,e=i.content):e=this.unplaced.content;let o=e.firstChild;for(let e=this.depth;e>=0;e--){let s,{type:a,match:u}=this.frontier[e],c=null;if(1==t&&(o?u.matchType(o.type)||(c=u.fillBefore(r.c.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:e,parent:i,inject:c};if(2==t&&o&&(s=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:e,parent:i,wrap:s};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=L(e,t);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.i(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=L(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new r.i(k(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new r.i(k(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let s=this.unplaced,a=n?n.content:s.content,u=s.openStart-e,c=0,l=[],{match:h,type:d}=this.frontier[t];if(i){for(let e=0;e<i.childCount;e++)l.push(i.child(e));h=h.matchFragment(i)}let f=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let e=a.child(c),t=h.matchType(e.type);if(!t)break;c++,(c>1||0==u||e.content.size)&&(h=t,l.push(M(e.mark(d.allowedMarks(e.marks)),1==c?u:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=x(this.placed,t,r.c.from(l)),this.frontier[t].match=h,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=a;e<f;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?r.i.empty:new r.i(k(s.content,e-1,1),e-1,f<0?s.openEnd:e-1):new r.i(k(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!P(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=P(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=P(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=x(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=x(this.placed,this.depth,r.c.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(r.c.empty,!0);e.childCount&&(this.placed=x(this.placed,this.frontier.length,e))}}function k(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(k(e.firstChild.content,t-1,n)))}function x(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(x(e.lastChild.content,t-1,n)))}function L(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function M(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,M(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(r.c.empty,!0)))),e.copy(i)}function P(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function F(e,t,n,i,o){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(F(r.content,t+1,n,i,r)))}if(t>i){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(r.c.empty,!0))}return e}function j(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}class B extends l{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return h.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return h.fromReplace(e,this.pos,this.pos+1,new r.i(r.c.from(i),0,t.isLeaf?0:1))}getMap(){return a.empty}invert(e){return new B(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new B(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new B(t.pos,t.attr,t.value)}}l.jsonID("attr",B);class U extends l{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return h.ok(n)}getMap(){return a.empty}invert(e){return new U(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new U(t.attr,t.value)}}l.jsonID("docAttr",U);let H=class extends Error{};H=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(H.prototype=Object.create(Error.prototype)).constructor=H,H.prototype.name="TransformError";class z{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new u}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new H(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=r.i.empty){let i=I(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new r.i(r.c.from(n),0,0))}delete(e,t){return this.replace(e,t,r.i.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),s=e.doc.resolve(n);if(N(o,s,i))return e.step(new E(t,n,i));let a=j(o,e.doc.resolve(n));0==a[a.length-1]&&a.pop();let u=-(o.depth+1);a.unshift(u);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(e)>-1?u=e:o.before(e)==t&&a.splice(1,0,-e)}let c=a.indexOf(u),l=[],h=i.openStart;for(let e=i.content,t=0;;t++){let n=e.firstChild;if(l.push(n),t==i.openStart)break;e=n.content}for(let e=h-1;e>=0;e--){let t=l[e],n=(d=t.type).spec.defining||d.spec.definingForContent;if(n&&!t.sameMarkup(o.node(Math.abs(u)-1)))h=e;else if(n||!t.type.isTextblock)break}var d;for(let t=i.openStart;t>=0;t--){let u=(t+h+1)%(i.openStart+1),d=l[u];if(d)for(let t=0;t<a.length;t++){let l=a[(t+c)%a.length],h=!0;l<0&&(h=!1,l=-l);let f=o.node(l-1),p=o.index(l-1);if(f.canReplaceWith(p,p,d.type,d.marks))return e.replace(o.before(l),h?s.after(l):n,new r.i(F(i.content,0,i.openStart,u),u,i.openEnd))}}let f=e.steps.length;for(let r=a.length-1;r>=0&&(e.replace(t,n,i),!(e.steps.length>f));r--){let e=a[r];e<0||(t=o.before(e),n=s.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,i.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new r.i(r.c.from(i),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=j(r,i);for(let t=0;t<o.length;t++){let n=o[t],s=t==o.length-1;if(s&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),i.end(n));if(n>0&&(s||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return e.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:i,$to:o,depth:s}=t,a=i.before(s+1),u=o.after(s+1),c=a,l=u,h=r.c.empty,d=0;for(let e=s,t=!1;e>n;e--)t||i.index(e)>0?(t=!0,h=r.c.from(i.node(e).copy(h)),d++):c--;let f=r.c.empty,p=0;for(let e=s,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,f=r.c.from(o.node(e).copy(f)),p++):l++;e.step(new _(c,l,a,u,new r.i(h.append(f),d,p),h.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let i=new E(t-n,t+n,r.i.empty,!0);e.step(i)}(this,e,t),this}wrap(e,t){return function(e,t,n){let i=r.c.empty;for(let e=n.length-1;e>=0;e--){if(i.size){let t=n[e].type.contentMatch.matchFragment(i);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.c.from(n[e].type.create(n[e].attrs,i))}let o=t.start,s=t.end;e.step(new _(o,s,o,s,new r.i(i,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,i=null){return function(e,t,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(i,o)&&function(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(s).map(n),i)){e.clearIncompatible(e.mapping.slice(s).map(n,1),i);let a=e.mapping.slice(s),u=a.map(n,1),c=a.map(n+t.nodeSize,1);return e.step(new _(u,c,u+1,c-1,new r.i(r.c.from(i.create(o,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return function(e,t,n,i,o){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(i,null,o||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new _(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new r.i(r.c.from(a),0,0),1,!0))}(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new B(e,t,n)),this}setDocAttribute(e,t){return this.step(new U(e,t)),this}addNodeMark(e,t){return this.step(new m(e,t)),this}removeNodeMark(e,t){if(!(t instanceof r.d)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new g(e,t)),this}split(e,t=1,n){return function(e,t,n=1,i){let o=e.doc.resolve(t),s=r.c.empty,a=r.c.empty;for(let e=o.depth,t=o.depth-n,u=n-1;e>t;e--,u--){s=r.c.from(o.node(e).copy(s));let t=i&&i[u];a=r.c.from(t?t.type.create(t.attrs,a):o.node(e).copy(a))}e.step(new E(t,t,new r.i(s.append(a),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let i,o,s=[],a=[];e.doc.nodesBetween(t,n,((e,u,c)=>{if(!e.isInline)return;let l=e.marks;if(!r.isInSet(l)&&c.type.allowsMarkType(r.type)){let c=Math.max(u,t),h=Math.min(u+e.nodeSize,n),d=r.addToSet(l);for(let e=0;e<l.length;e++)l[e].isInSet(d)||(i&&i.to==c&&i.mark.eq(l[e])?i.to=h:s.push(i=new p(c,h,l[e])));o&&o.to==c?o.to=h:a.push(o=new f(c,h,r))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,i){let o=[],s=0;e.doc.nodesBetween(t,n,((e,a)=>{if(!e.isInline)return;s++;let u=null;if(i instanceof r.e){let t,n=e.marks;for(;t=i.isInSet(n);)(u||(u=[])).push(t),n=t.removeFromSet(n)}else i?i.isInSet(e.marks)&&(u=[i]):u=e.marks;if(u&&u.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<u.length;e++){let n,i=u[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==s-1&&i.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=s):o.push({style:i,from:Math.max(a,t),to:r,step:s})}}})),o.forEach((t=>e.step(new p(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,i=n.contentMatch){let o=e.doc.nodeAt(t),s=[],a=t+1;for(let t=0;t<o.childCount;t++){let u=o.child(t),c=a+u.nodeSize,l=i.matchType(u.type);if(l){i=l;for(let t=0;t<u.marks.length;t++)n.allowsMarkType(u.marks[t].type)||e.step(new p(a,c,u.marks[t]));if(u.isText&&!n.spec.code){let e,t,i=/\r?\n|\r/g;for(;e=i.exec(u.text);)t||(t=new r.i(r.c.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new E(a+e.index,a+e.index+e[0].length,t))}}else s.push(new E(a,c,r.i.empty));a=c}if(!i.validEnd){let t=i.fillBefore(r.c.empty,!0);e.replace(a,a,new r.i(t,0,0))}for(let t=s.length-1;t>=0;t--)e.step(s[t])}(this,e,t,n),this}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r extends Error{constructor(e,t){const n=function(e){if("string"==typeof e)return e;if(Array.isArray(e))return e.join("\n");try{return JSON.stringify(e)}catch(t){return String(e)}}(e);super(n),this.userMessage=null!=t?t:n,Object.setPrototypeOf&&Object.setPrototypeOf(this,new.target.prototype)}}},function(e,t,n){"use strict";var r=n(11);t.a=function(e,t){var n=r.Map(t);return n=n.set("_type",e),r.Record(n.toJS(),e)}},,function(e,t,n){"use strict";function r(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(367)()},function(e,t,n){"use strict";var r=n(3);const i=()=>{};class o{constructor(){this._trackJs=window.trackJs||{configure:i,track:i,console:{warn:i,log:i,error:i}}}hello(e,t){this._trackJs.configure({sessionId:`${t}/${e.id}`,userId:t})}error(e,t={}){if(e instanceof Error)this._trackJs.track(e);else{const n=e+": "+JSON.stringify(t);this._trackJs.track(n)}}warn(e,t){this._trackJs.console.warn(e,JSON.stringify(t))}watch(e){var t=this;return function(...n){let i;try{i=e(...n)}catch(e){throw t._trackJs.track(e),e}return i&&Object(r.v)(i)?i.catch((e=>{throw t._trackJs.track(e),e})):i}}}let s;s=new o,t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(59),i=n.n(r);function o(e,t,n){return void 0===n||i()(e.get(t),n)?e:e.set(t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(102),i=n.n(r);function o(e){const t=new i.a("SHA-1","TEXT");return t.update(e),t.getHash("HEX").substr(0,20)}},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return f}));var r=n(35);function i(e){return"function"==typeof e.then}function o(e){return function(){try{return e.apply(this,arguments)}catch(e){0}}}function s(e){return/(gif|png|jpg|jpeg|svg|bmp)$/i.test(e)}function a(e,t,n){return Object(r.a)(`${e}_${t}_${n||"GLOBAL"}`)}const u=1900;function c(e){const t=e.slice().sort(((e,t)=>e.length-t.length));let n=0,i=0;for(i=0;i!==t.length&&(n+=t[i].length+"&".length,!(n>u));i++);const o=t.slice(0,i).join("&"),s=t.slice(i).join("&");return{short:o,long:s,key:s?Object(r.a)(s):void 0}}function l(e){return t=JSON.stringify(e),btoa(unescape(encodeURIComponent(t)));var t}class h{constructor(e){this._fields=e}add(e,t){return new h(this._fields.concat([[e,t]]))}split(){return c(this._build())}_build(){return this._keyValuePairs||(this._keyValuePairs=this._fields.map((([e,t])=>(null==t&&(t=""),"object"==typeof t&&(t=l(t)),e+"="+encodeURIComponent(t))))),this._keyValuePairs}toString(){return this._build().join("&")}}const d={ByV39eoc:1,B1FxElnd:1,aW4c49tW:1,qGfuGtx:1,SbERe5ee:1,ilaVEa15:1,FOlWOSaH:1,dao5gGmT:1,DLUgAhzL:1,fqXFumr6:1,FtiWHMYT:1,"66iWOyWt":1,"1375amYi":1,mWbJgzpt:1,jO7GqAvL:1,SkFIKxo5:1,"2z4ILc3y":1,aDr8oPL1:1,Hku1c4Pt:1};function f(e){return!function(e,t,n){return n=n||0,e.substr(n,t.length)===t}(e,"t")&&!d[e]}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}));const{cdnHost:r,appHost:i,restHost:o,realtimeHost:s,appProtocol:a,appWsProtocol:u}=function(){const e=function(){if(document.currentScript)return document.currentScript.src;try{throw new Error}catch(e){const t=e.stack.match(/https?:\/\/.*\.(js|jsx|ts|tsx)/);return t?t[0]:""}}(),t=e?new URL(e):location,n=t.host,r=function(e){if(e.match(/^cdn[.-]/))return e.replace(/^cdn/,"app");0;if("talkjs.com"===e)return"app.talkjs.com";return e}(n),i=function(e){if(e.match(/^app[.-]/))return e.replace(/^app/,"api");return e+"/public_api"}(r),o=function(e){if(e.match(/^app[.-]/))return e.replace(/^app/,"realtime");return e+"/public_api"}(r),s=t.protocol;return{cdnHost:n,appHost:r,restHost:i,realtimeHost:o,appProtocol:s,appWsProtocol:"https:"===s?"wss:":"ws:"}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"FirebaseError",(function(){return o.c})),n.d(t,"SDK_VERSION",(function(){return B})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return T})),n.d(t,"_addComponent",(function(){return N})),n.d(t,"_addOrOverwriteComponent",(function(){return w})),n.d(t,"_apps",(function(){return R})),n.d(t,"_clearComponents",(function(){return M})),n.d(t,"_components",(function(){return I})),n.d(t,"_getProvider",(function(){return x})),n.d(t,"_registerComponent",(function(){return k})),n.d(t,"_removeServiceInstance",(function(){return L})),n.d(t,"deleteApp",(function(){return V})),n.d(t,"getApp",(function(){return H})),n.d(t,"getApps",(function(){return z})),n.d(t,"initializeApp",(function(){return U})),n.d(t,"onLog",(function(){return $})),n.d(t,"registerVersion",(function(){return G})),n.d(t,"setLogLevel",(function(){return Y}));var r=n(79),i=n(131),o=n(23);let s,a;const u=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(E(this),t),g(u.get(this))}:function(...t){return g(e.apply(E(this),t))}:function(t,...n){const r=e.call(E(this),t,...n);return l.set(r,t.sort?t.sort():[t]),g(r)}}function m(e){return"function"==typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));c.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(g(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&u.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=m(e);return t!==e&&(h.set(e,t),d.set(t,e)),t}const E=e=>d.get(e);const _=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],A=new Map;function y(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(A.get(t))return A.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return A.set(t,o),o}f=(e=>({...e,get:(t,n,r)=>y(t,n)||e.get(t,n,r),has:(t,n)=>!!y(t,n)||e.has(t,n)}))(f);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const S="@firebase/app",b="0.7.25",D=new i.a("@firebase/app"),T="[DEFAULT]",C={[S]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},R=new Map,I=new Map;function N(e,t){try{e.container.addComponent(t)}catch(n){D.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function w(e,t){e.container.addOrOverwriteComponent(t)}function k(e){const t=e.name;if(I.has(t))return D.debug(`There were multiple attempts to register component ${t}.`),!1;I.set(t,e);for(const t of R.values())N(t,e);return!0}function x(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function L(e,t,n=T){x(e,t).clearInstance(n)}function M(){I.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},F=new o.b("app","Firebase",P);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class j{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw F.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="9.8.2";function U(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:T,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw F.create("bad-app-name",{appName:String(i)});const s=R.get(i);if(s){if(Object(o.h)(e,s.options)&&Object(o.h)(n,s.config))return s;throw F.create("duplicate-app",{appName:i})}const a=new r.b(i);for(const e of I.values())a.addComponent(e);const u=new j(e,n,a);return R.set(i,u),u}function H(e=T){const t=R.get(e);if(!t)throw F.create("no-app",{appName:e});return t}function z(){return Array.from(R.values())}async function V(e){const t=e.name;R.has(t)&&(R.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function G(e,t,n){var i;let o=null!==(i=C[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void D.warn(e.join(" "))}k(new r.a(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}function $(e,t){if(null!==e&&"function"!=typeof e)throw F.create("invalid-log-argument");Object(i.c)(e,t)}function Y(e){Object(i.b)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W="firebase-heartbeat-store";let K=null;function q(){return K||(K=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=g(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(g(s.result),e.oldVersion,e.newVersion,g(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(W)}}}).catch((e=>{throw F.create("storage-open",{originalErrorMessage:e.message})}))),K}async function X(e,t){try{const n=(await q()).transaction(W,"readwrite"),r=n.objectStore(W);return await r.put(t,J(e)),n.done}catch(e){throw F.create("storage-set",{originalErrorMessage:e.message})}}function J(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ee(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Q();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Q(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),te(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),te(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(o.d)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Q(){return(new Date).toISOString().substring(0,10)}class ee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(o.l)()&&Object(o.m)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await q()).transaction(W).objectStore(W).get(J(e))}catch(e){throw F.create("storage-get",{originalErrorMessage:e.message})}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return X(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return X(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function te(e){return Object(o.d)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;ne="",k(new r.a("platform-logger",(e=>new O(e)),"PRIVATE")),k(new r.a("heartbeat",(e=>new Z(e)),"PRIVATE")),G(S,b,ne),G(S,b,"esm2017"),G("fire-js","")},,function(e,t,n){"use strict";var r=n(67);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c}))},function(e,t,n){"use strict";var r=n(46),i=n(11),o=n(25),s=n(40);class a extends r.a{constructor(e){super(e),this._nyms=i.Map()}getNym(e){return this._nyms.get(e)}getNyms(){return this._nyms}setNyms({nyms:e}){const t=this._nyms.withMutations((t=>{for(let n of o.a(e,(e=>e)))t=t.set(n.id,n);return t}));i.is(t,this._nyms)||(this._nyms=t,this.emitChange())}getExternalNymIds(e){const t=(e instanceof Array?e:e.participantIds().toArray()).map((e=>this._nyms.get(e)));return s.b(t,(e=>[e.id,e.externalId]))}}a.storeName="NymStore",a.handlers={SET_NYMS:"setNyms"},t.a=a},function(e,t,n){"use strict";var r=n(46),i=n(15),o=n(41),s=n(118),a=n(2),u=n(11),c=n(25),l=n(8);class h extends r.a{constructor(e){super(e),this._dispatcher=e,this._nymStore=this._dispatcher.getStore(o.a),this._chats=u.OrderedMap(),this._notFoundChats=u.Map(),this._chatsHaveLoaded=!1,this._lastReadTss={},this._visitHistory={},this._currentConversationId=void 0}become({nym:e}){a.a.is(e,i.f),this._me=e,this.emitChange()}getMe(){return this._me}setChats({chats:e}){const t=!this._chatsHaveLoaded;this._chatsHaveLoaded=!0,l.e(e)?t&&this.emitChange():(this._notFoundChats=this._notFoundChats.withMutations((t=>{for(let[n,r]of c.b(e))t=null!==r?t.delete(n):t.set(n,null);return t})),this._updateChats((t=>{for(let[n,r]of c.b(e))null!==r?(this._lastReadTss[n]=r.change.lastReadTs,t=t.set(n,r)):t=t.delete(n);return t})))}setSides({sides:e}){let t=e;a.a.isArray(t,i.g),this._updateChats((t=>{for(let n of e)Object(a.a)((()=>t.has(n.id))),t=t.setIn([n.id,"change"],n);return t}))}_updateChats(e){const t=this._chats.withMutations(e).sortBy((e=>e.change.ts)).reverse();u.is(t,this._chats)||(this._chats=t.toOrderedMap(),this.emitChange())}getConversationAndOthers(e){const t=this._chats.get(e).conversation,n=t.otherIds(this._me.id).toArray();return{conversation:t,others:n.map((e=>this._nymStore.getNym(e)))}}getChats(){return this._chats}getChat(e){var t;return null!==(t=this._chats.get(e))&&void 0!==t?t:this._notFoundChats.get(e)}chatsHaveLoaded(){return this._chatsHaveLoaded}getLastReadTs(e){return this._lastReadTss[e]}hasUnreadMessages(){return this._chats.filter((e=>!1===e.change.read)).size>0}maybeRecordNewVisit({entryPoint:e}){this._dispatcher.waitFor("UrlStore",(()=>{const t=this._dispatcher.getStore(s.a).getConversationId(e);this._currentConversationId!==t&&(this._recordNewVisit(this._currentConversationId,t),this._currentConversationId=t)}))}}h.storeName="MeStore",h.handlers={BECOME:"become",SET_SIDES:"setSides",SET_CHATS:"setChats"},t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(14),i=n(0),o=n.n(i);n(203);const s={xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24"},a=e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("path",{d:"M41.4157 12.5837C41.6019 12.7695 41.7497 12.9902 41.8505 13.2331C41.9513 13.4761 42.0032 13.7366 42.0032 13.9997C42.0032 14.2627 41.9513 14.5232 41.8505 14.7662C41.7497 15.0092 41.6019 15.2299 41.4157 15.4157L24.8277 31.9997L41.4157 48.5837C41.7912 48.9592 42.0022 49.4686 42.0022 49.9997C42.0022 50.5308 41.7912 51.0401 41.4157 51.4157C41.0401 51.7912 40.5308 52.0022 39.9997 52.0022C39.4686 52.0022 38.9592 51.7912 38.5837 51.4157L20.5837 33.4157C20.3974 33.2299 20.2496 33.0092 20.1488 32.7662C20.048 32.5232 19.9961 32.2627 19.9961 31.9997C19.9961 31.7366 20.048 31.4761 20.1488 31.2331C20.2496 30.9902 20.3974 30.7695 20.5837 30.5837L38.5837 12.5837C38.7695 12.3974 38.9902 12.2496 39.2331 12.1488C39.4761 12.048 39.7366 11.9961 39.9997 11.9961C40.2627 11.9961 40.5232 12.048 40.7662 12.1488C41.0092 12.2496 41.2299 12.3974 41.4157 12.5837Z",fill:"currentColor"})),u=e=>o.a.createElement("svg",Object.assign({},s,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e),o.a.createElement("polyline",{fill:"none",points:"18 15 12 9 6 15"})),c=e=>o.a.createElement("svg",Object.assign({},s,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e),o.a.createElement("polyline",{fill:"none",points:"6 9 12 15 18 9"})),l={attach:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("path",{fill:"none",d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})),chevronLeft:a,left:a,chevronUp:u,up:u,chevronDown:c,down:c,close:e=>o.a.createElement("svg",Object.assign({},s,{width:"24",height:"24"},e),o.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",fill:"none"}),o.a.createElement("line",{fill:"none",x1:"6",y1:"6",x2:"18",y2:"18"})),emoji:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("circle",{fill:"none",cx:"12",cy:"12",r:"10"}),o.a.createElement("path",{fill:"none",d:"M8 14s1.5 2 4 2 4-2 4-2M9 9h.01M15 9h.01"})),locationPin:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("path",{fill:"none",d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),o.a.createElement("circle",{fill:"none",cx:"12",cy:"10",r:"3"})),more:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("path",{d:"M32 20C30.9391 20 29.9217 19.5786 29.1716 18.8284C28.4214 18.0783 28 17.0609 28 16C28 14.9391 28.4214 13.9217 29.1716 13.1716C29.9217 12.4214 30.9391 12 32 12C33.0609 12 34.0783 12.4214 34.8284 13.1716C35.5786 13.9217 36 14.9391 36 16C36 17.0609 35.5786 18.0783 34.8284 18.8284C34.0783 19.5786 33.0609 20 32 20ZM32 36C30.9391 36 29.9217 35.5786 29.1716 34.8284C28.4214 34.0783 28 33.0609 28 32C28 30.9391 28.4214 29.9217 29.1716 29.1716C29.9217 28.4214 30.9391 28 32 28C33.0609 28 34.0783 28.4214 34.8284 29.1716C35.5786 29.9217 36 30.9391 36 32C36 33.0609 35.5786 34.0783 34.8284 34.8284C34.0783 35.5786 33.0609 36 32 36ZM28 48C28 49.0609 28.4214 50.0783 29.1716 50.8284C29.9217 51.5786 30.9391 52 32 52C33.0609 52 34.0783 51.5786 34.8284 50.8284C35.5786 50.0783 36 49.0609 36 48C36 46.9391 35.5786 45.9217 34.8284 45.1716C34.0783 44.4214 33.0609 44 32 44C30.9391 44 29.9217 44.4214 29.1716 45.1716C28.4214 45.9217 28 46.9391 28 48Z",fill:"currentColor"})),plus:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19",fill:"none"}),o.a.createElement("line",{fill:"none",x1:"5",y1:"12",x2:"19",y2:"12"})),search:e=>o.a.createElement("svg",Object.assign({},s,{width:"20",height:"20"},e),o.a.createElement("path",{fill:"none",d:"M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM21.35 21.35 17 17"})),send:e=>o.a.createElement("svg",Object.assign({},s,{viewBox:"0 0 64 64"},e),o.a.createElement("path",{d:"M14.4812 8.18108C14.1942 8.03755 13.8727 7.97744 13.5533 8.00758C13.2338 8.03773 12.9292 8.15693 12.6742 8.35162C12.4191 8.54631 12.2238 8.80867 12.1105 9.10886C11.9972 9.40906 11.9704 9.73503 12.0331 10.0497L16.8435 26.6787C16.9332 26.9886 17.1086 27.2669 17.3493 27.4816C17.5901 27.6963 17.8866 27.8387 18.2047 27.8925L37.7138 31.16C38.6327 31.3417 38.6327 32.6583 37.7138 32.84L18.2047 36.1075C17.8866 36.1613 17.5901 36.3037 17.3493 36.5184C17.1086 36.7331 16.9332 37.0114 16.8435 37.3213L12.0331 53.9503C11.9704 54.265 11.9972 54.5909 12.1105 54.8911C12.2238 55.1913 12.4191 55.4537 12.6742 55.6484C12.9292 55.8431 13.2338 55.9623 13.5533 55.9924C13.8727 56.0226 14.1942 55.9625 14.4812 55.8189L59.0538 33.5326C59.3382 33.3901 59.5773 33.1712 59.7444 32.9006C59.9115 32.6299 60 32.3181 60 32C60 31.6819 59.9115 31.3701 59.7444 31.0994C59.5773 30.8288 59.3382 30.6099 59.0538 30.4674L14.4812 8.18108Z",fill:"currentColor"})),spinner:e=>o.a.createElement("svg",Object.assign({},s,{viewBox:"0 0 64 64"},e),o.a.createElement("path",{d:"M31.9999 11.1999C26.4834 11.1999 21.1928 13.3913 17.2921 17.2921C13.3913 21.1928 11.1999 26.4834 11.1999 31.9999C11.1999 32.6364 10.947 33.2469 10.497 33.697C10.0469 34.1471 9.43642 34.3999 8.7999 34.3999C8.16338 34.3999 7.55293 34.1471 7.10285 33.697C6.65276 33.2469 6.3999 32.6364 6.3999 31.9999C6.3999 26.9367 7.90132 21.9872 10.7143 17.7773C13.5272 13.5674 17.5254 10.2862 22.2032 8.3486C26.881 6.41099 32.0283 5.90403 36.9942 6.89181C41.9601 7.87959 46.5216 10.3178 50.1018 13.898C53.6821 17.4782 56.1202 22.0397 57.108 27.0056C58.0958 31.9715 57.5888 37.1188 55.6512 41.7966C53.7136 46.4744 50.4324 50.4726 46.2225 53.2855C42.0126 56.0985 37.0631 57.5999 31.9999 57.5999C31.3634 57.5999 30.7529 57.3471 30.3028 56.897C29.8528 56.4469 29.5999 55.8364 29.5999 55.1999C29.5999 54.5634 29.8528 53.9529 30.3028 53.5029C30.7529 53.0528 31.3634 52.7999 31.9999 52.7999C37.5164 52.7999 42.807 50.6085 46.7077 46.7077C50.6085 42.807 52.7999 37.5164 52.7999 31.9999C52.7999 26.4834 50.6085 21.1928 46.7077 17.2921C42.807 13.3913 37.5164 11.1999 31.9999 11.1999V11.1999Z",fill:"currentColor"})),play:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"})),pause:e=>o.a.createElement("svg",Object.assign({},s,e),o.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),o.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16"})),updown:e=>o.a.createElement("svg",Object.assign({},s,{viewBox:"0 0 64 64"},e),o.a.createElement("path",{d:"M 16 25.75 L 19.769531 29.523438 L 31.085938 18.210938 L 42.398438 29.523438 L 46.167969 25.75 L 31.085938 10.667969 Z M 16 25.75 ",fill:"currentColor"}),o.a.createElement("path",{d:"M 16 38.515625 L 19.769531 34.746094 L 31.085938 46.058594 L 42.398438 34.746094 L 46.167969 38.515625 L 31.085938 53.601562 Z M 16 38.515625 ",fill:"currentColor"})),addEmoji:e=>o.a.createElement("svg",Object.assign({},s,{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",strokeWidth:"1"},e),o.a.createElement("path",{d:"m50 2v8h-8v4h8v8h4v-8h8v-4h-8v-8zm-25 14c-12.682 0-23 10.318-23 23s10.318 23 23 23 23-10.318 23-23-10.318-23-23-23zm0 4c10.477 0 19 8.5234 19 19s-8.5234 19-19 19-19-8.5234-19-19 8.5234-19 19-19zm-11 12v5h5v-5zm17 0v5h5v-5zm-18.154 11 0.58276 1.4565a11.943 11.943 0 0 0 11.142 7.5435h0.85938a11.942 11.942 0 0 0 11.142-7.5435l0.58276-1.4565h-4.3086a7.9614 7.9614 0 0 1-7.4158 5h-0.85938a7.9614 7.9614 0 0 1-7.4158-5z",fill:"currentColor"})),microphone:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 64 64"},e),o.a.createElement("path",{fillRule:"nonzero",fill:"currentColor",fillOpacity:"1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 15 1.25061 C 14.005737 1.25061 13.051758 1.644287 12.348633 2.349243 C 11.645508 3.052368 11.25 4.006348 11.25 5.00061 L 11.25 15 C 11.25 15.994263 11.645508 16.948242 12.348633 17.651367 C 13.051758 18.354492 14.005737 18.75 15 18.75 C 15.994263 18.75 16.948242 18.354492 17.651367 17.651367 C 18.354492 16.948242 18.75 15.994263 18.75 15 L 18.75 5.00061 C 18.75 4.006348 18.354492 3.052368 17.651367 2.349243 C 16.948242 1.644287 15.994263 1.25061 15 1.25061 Z M 15 1.25061 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"}),o.a.createElement("path",{fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 23.75061 12.50061 L 23.75061 15 C 23.75061 17.319946 22.827759 19.546509 21.187134 21.187134 C 19.546509 22.827759 17.319946 23.75061 15 23.75061 C 12.680054 23.75061 10.453491 22.827759 8.812866 21.187134 C 7.172241 19.546509 6.24939 17.319946 6.24939 15 L 6.24939 12.50061 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"}),o.a.createElement("path",{fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 15 23.75061 L 15 28.74939 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"}),o.a.createElement("path",{fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 9.99939 28.74939 L 20.00061 28.74939 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"})),mic:e=>o.a.createElement("svg",Object.assign({},s,{viewBox:"0 0 64 64"},e),o.a.createElement("path",{fillRule:"nonzero",fill:"currentColor",fillOpacity:"1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 15 1.25061 C 14.005737 1.25061 13.051758 1.644287 12.348633 2.349243 C 11.645508 3.052368 11.25 4.006348 11.25 5.00061 L 11.25 15 C 11.25 15.994263 11.645508 16.948242 12.348633 17.651367 C 13.051758 18.354492 14.005737 18.75 15 18.75 C 15.994263 18.75 16.948242 18.354492 17.651367 17.651367 C 18.354492 16.948242 18.75 15.994263 18.75 15 L 18.75 5.00061 C 18.75 4.006348 18.354492 3.052368 17.651367 2.349243 C 16.948242 1.644287 15.994263 1.25061 15 1.25061 Z M 15 1.25061 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"}),o.a.createElement("path",{fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 23.75061 12.50061 L 23.75061 15 C 23.75061 17.319946 22.827759 19.546509 21.187134 21.187134 C 19.546509 22.827759 17.319946 23.75061 15 23.75061 C 12.680054 23.75061 10.453491 22.827759 8.812866 21.187134 C 7.172241 19.546509 6.24939 17.319946 6.24939 15 L 6.24939 12.50061 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"}),o.a.createElement("path",{fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 15 23.75061 L 15 28.74939 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"}),o.a.createElement("path",{fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeOpacity:"1",strokeMiterlimit:"4",d:"M 9.99939 28.74939 L 20.00061 28.74939 ",transform:"matrix(2.133333, 0, 0, 2.133333, 0, 0)"})),stop:e=>o.a.createElement("svg",Object.assign({},s,{viewBox:"0 0 64 64"},e),o.a.createElement("path",{d:"M 54.628906 9.371094 C 48.582031 3.328125 40.546875 0 32 0 C 23.453125 0 15.417969 3.328125 9.371094 9.371094 C 3.328125 15.417969 0 23.453125 0 32 C 0 40.546875 3.328125 48.582031 9.371094 54.628906 C 15.417969 60.671875 23.453125 64 32 64 C 40.546875 64 48.582031 60.671875 54.628906 54.628906 C 60.671875 48.582031 64 40.546875 64 32 C 64 23.453125 60.671875 15.417969 54.628906 9.371094 Z M 32 60.042969 C 16.539062 60.042969 3.957031 47.460938 3.957031 32 C 3.957031 16.539062 16.539062 3.957031 32 3.957031 C 47.460938 3.957031 60.042969 16.539062 60.042969 32 C 60.042969 47.460938 47.460938 60.042969 32 60.042969 Z M 32 60.042969 ",fill:"currentColor"}),o.a.createElement("path",{d:"M 18.472656 18.472656 L 45.527344 18.472656 L 45.527344 45.527344 L 18.472656 45.527344 Z M 18.472656 18.472656 ",fill:"currentColor"})),download:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 34 34",strokeWidth:"1"},e),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 9C17.6443 9 18.1667 9.52672 18.1667 10.1765V19.9988L22.0116 16.1516C22.469 15.694 23.2077 15.6969 23.6615 16.1581C24.1153 16.6193 24.1125 17.3642 23.6551 17.8219L17.8217 23.6586C17.3669 24.1138 16.6331 24.1138 16.1783 23.6586L10.3449 17.8219C9.88754 17.3642 9.88467 16.6193 10.3385 16.1581C10.7923 15.6969 11.531 15.694 11.9884 16.1516L15.8333 19.9988V10.1765C15.8333 9.52672 16.3557 9 17 9Z",fill:"currentColor"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 16C2 7.71852 8.71852 1 17 1C25.2815 1 32 7.71852 32 16C32 24.2815 25.2815 31 17 31C8.71852 31 2 24.2815 2 16ZM17 3.30769C9.99302 3.30769 4.30769 8.99302 4.30769 16C4.30769 23.007 9.99302 28.6923 17 28.6923C24.007 28.6923 29.6923 23.007 29.6923 16C29.6923 8.99302 24.007 3.30769 17 3.30769Z",fill:"currentColor"})),location:e=>o.a.createElement("svg",Object.assign({},s,e,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{fill:"none",d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),o.a.createElement("circle",{fill:"none",cx:"12",cy:"10",r:"3"})),email:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),o.a.createElement("path",{d:"M4 3C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5V5.201L8 8.432L14 5.202V5C14 4.46957 13.7893 3.96086 13.4142 3.58579C13.0391 3.21071 12.5304 3 12 3H4Z",fill:"currentColor"}),o.a.createElement("path",{d:"M14 6.33704L8.237 9.44004C8.16416 9.47925 8.08273 9.49977 8 9.49977C7.91727 9.49977 7.83584 9.47925 7.763 9.44004L2 6.33704V11C2 11.5305 2.21071 12.0392 2.58579 12.4142C2.96086 12.7893 3.46957 13 4 13H12C12.5304 13 13.0391 12.7893 13.4142 12.4142C13.7893 12.0392 14 11.5305 14 11V6.33704Z",fill:"currentColor"})),movie:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},e),o.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7",fill:"none"}),o.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2",fill:"none"})),image:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},e),o.a.createElement("rect",{x:"3",y:"3",fill:"none",width:"18",height:"18",rx:"2",ry:"2"}),o.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.a.createElement("polyline",{points:"21 15 16 10 5 21",fill:"none"})),attachment:e=>o.a.createElement("svg",Object.assign({},s,e,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"}),o.a.createElement("path",{fill:"none",d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})),horizontalDots:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",strokeWidth:"1"},e),o.a.createElement("circle",{fill:"currentColor",cx:"2",cy:"8",r:"1"}),o.a.createElement("circle",{fill:"currentColor",cx:"8",cy:"8",r:"1"}),o.a.createElement("circle",{fill:"currentColor",cx:"14",cy:"8",r:"1"})),verticalDots:e=>o.a.createElement("svg",Object.assign({},s,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",strokeWidth:"1"},e),o.a.createElement("circle",{fill:"currentColor",cx:"8",cy:"4",r:"1"}),o.a.createElement("circle",{fill:"currentColor",cx:"8",cy:"8",r:"1"}),o.a.createElement("circle",{fill:"currentColor",cx:"8",cy:"12",r:"1"})),reply:e=>o.a.createElement("svg",Object.assign({},s,{width:20,height:15,viewBox:"0 0 365.61 285.686",className:"icon","aria-hidden":!0},e),o.a.createElement("path",{style:{opacity:1,fill:"currentColor",fillOpacity:1,stroke:"currentColor",strokeWidth:20.00000191,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},d:"M38.6 202.285v-30.656c-41.89-4.634-128.643-3.207-207.204 76.436C-137.337 132.47-100.573 84.491 38.6 43.487v-61.112l69.262 62.334c38.094 34.283 69.342 62.556 69.44 62.829.098.272-30.47 28.059-67.927 61.748l-69.44 62.453-1.335 1.201z",transform:"translate(178.603 27.624) scale(-1,1)"})),back:e=>o.a.createElement("svg",Object.assign({},s,{height:"22",width:"22"},e),o.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),o.a.createElement("polyline",{points:"12 19 5 12 12 5"}))},h=e=>{const{type:t,mirrorWhenRtl:n=!1,className:i="",alt:s}=e,a=Object(r.e)(e,["type","mirrorWhenRtl","className","alt"]),u=l[t];return o.a.createElement(u,Object.assign({className:`Icon icon-${t} ${i}${n?" mirror-when-rtl":""}`,"aria-hidden":!Boolean(s),"aria-label":s},a))};t.b=h},function(e,t,n){"use strict";function r(e,t){if(!e()){if(!t){t=e.toString().replace(/^function\s*\(\)\s*\{\s*return\s*(.*);\s*\}\s*$/,"`$1`")+" was not true"}i(t)}}!function(e){function t(e){null==e&&i(`Expected val to be defined, is ${e}`)}function n(e,t){if(!function(e,t){switch(t){case"undefined":return void 0===e;case String:return"string"==typeof e||e instanceof String;case Boolean:return"boolean"==typeof e||e instanceof Boolean;case Number:return"number"==typeof e||e instanceof Number;default:return e instanceof t}}(e,t)){i("Expected "+t.name+", got "+String(e))}}e.defined=t,e.has=function(e,n){t(e),t(e[n])},e.is=n,e.equals=function(e,t){if(e!==t){i("Expected "+String(t)+", got "+String(e))}},e.oneOf=function(e,t){if(!t.includes(e)){i(`Expected ${e} to be one of ${JSON.stringify(t)}`)}},e.isArray=function(e,t){n(e,Array),e&&e.length>0&&n(e[0],t)},e.optional=function(e,t){void 0!==e&&n(e,t)},e.falsy=function(e){if(e){i("Expected undefined, got "+String(e))}},e.never=function(e){i("Should've been unreachable")}}(r||(r={}));t.a=r;function i(e){0}},function(e,t,n){var r=n(80),i=n(145),o=n(107),s=n(133),a=n(123),u=function(e,t,n){var c,l,h,d,f=e&u.F,p=e&u.G,m=e&u.S,g=e&u.P,E=e&u.B,_=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,v=p?i:i[t]||(i[t]={}),A=v.prototype||(v.prototype={});for(c in p&&(n=t),n)h=((l=!f&&_&&c in _)?_:n)[c],d=E&&l?a(h,r):g&&"function"==typeof h?a(Function.call,h):h,_&&!l&&s(_,c,h),v[c]!=h&&o(v,c,d),g&&A[c]!=h&&(A[c]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},function(e,t,n){"use strict";var r=n(142),i=n.n(r);class o extends i.a{constructor(e){super(e),this.setMaxListeners(100),this._isMuted=!1,this._mutedChanges=0}mute(){this._isMuted||(this._isMuted=!0,this._mutedChanges=0)}unmute(){this._isMuted&&(this._isMuted=!1,this._mutedChanges&&super.emitChange())}emitChange(){this._isMuted?this._mutedChanges++:super.emitChange()}}t.a=o},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=r);var i,o=[],s=!1;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return s&&n===this&&t(r,o)||(i=e.apply(this,r),s=!0,n=this,o=r),i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t={}){this._onSubscription=t,this._handlers={};for(const t in e)Object.hasOwnProperty.call(e,t)&&(this._handlers[t]=[])}emit(e,t){for(const n of this._handlers[e])try{n(t)}catch(t){console.error(`[TalkJS] '${String(e)}' handler threw an error:`,t)}}async emitAsync(e,t){try{const n=this._handlers[e].map((e=>e(t)));await Promise.all(n)}catch(t){console.error(`[TalkJS] '${String(e)}' handler threw an error:`,t)}}supports(e){return e in this._handlers}on(e,t){var n,r;if(!this.supports(e))throw new Error(`Unknown event type '${String(e)}'`);null===(r=(n=this._onSubscription)[e])||void 0===r||r.call(n),this._handlers[e].push(t)}off(e,t){if(!Object.hasOwnProperty.call(this._handlers,e))throw new Error(`Unknown event type '${String(e)}'`);const n=this._handlers[e].indexOf(t);-1!==n&&this._handlers[e].splice(n,1)}removeAllListeners(){for(const e in this._handlers)this._handlers[e]=[]}handles(e){return this._handlers[e].length>0}subscribe(e,t){return this.on(e,t),{unsubscribe:()=>this.off(e,t)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(6),i=n(62);function o(e,t){return e.map((e=>function(e,t){if("text"===e.type)return s(e.children,t);if("file"===e.type&&"video"===e.subtype)return` ${Object(r.e)(e.url)}`;if("file"===e.type&&"image"===e.subtype)return` ${Object(r.e)(e.url)}`;if("file"===e.type&&"audio"===e.subtype)return` ${Object(r.e)(e.url)}`;if("file"===e.type&&"voice"===e.subtype){const t=e.duration;if(void 0===t)return"";return` (${Math.floor(t/60)}:${Math.floor(t%60).toString().padStart(2,"0")})`}if("file"===e.type){e.subtype;return` ${Object(r.e)(e.url)}`}if("location"===e.type)return"";return""}(e,t))).join("\n\n")}function s(e,t){return a(e,Object(i.a)(t))}function a(e,t){return e.flatMap((e=>{if("string"==typeof e)return e;switch(e.type){case"blockquote":case"bold":case"italic":case"strikethrough":case"link":case"actionlink":case"actionLink":case"actionbutton":case"actionButton":return a(e.children,t);case"bulletlist":case"bulletList":return"\n"+a(e.children,t);case"bulletpoint":case"bulletPoint":return"- "+a(e.children,t)+"\n";case"autolink":case"autoLink":case"codeblock":case"codeBlock":case"codespan":case"codeSpan":case"emoji":case"customemoji":case"customEmoji":return e.text;case"suppressed":return t.contactInfoHiddenText;case"mention":return`@${e.text}`}})).join("")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n(14),i=n(8),o=n(0),s=n.n(o),a=n(7),u=n(17),c=n(72),l=n(3),h=n(28),d=n(95);function f({type:e,action:t,params:n,className:r,children:f}){const p=Object(o.useContext)(a.a),m=Object(o.useContext)(c.a),g=Object(o.useContext)(d.a);if(void 0===t){const t="actionbutton"===e||"actionButton"===e?"ActionButton":"ActionLink";throw new h.a(`<${t} /> is missing a required "action" prop.`)}const E=Object(o.useCallback)((e=>{var r;if(e.preventDefault(),e.stopPropagation(),m){const{message:e,conversation:r}=m,i=p.stores.nymStore,o="SYSTEM"!==e.senderId?i.getNym(e.senderId):null;u.a.request("customMessageAction",{action:t,params:n,message:e.toJS(),conversation:r.toJS(),sender:o&&o.toJS(),externalNymIds:i.getExternalNymIds(r)})}else{const e=void 0!==g?g:null!==(r=p.stores.urlStore.getCurrentConversationData().conversation)&&void 0!==r?r:null;u.a.request("customConversationAction",{action:t,params:n,conversation:e&&e.toJS(),externalNymIds:e&&p.stores.nymStore.getExternalNymIds(e)})}}),[t,n,...m?[m.message,m.conversation]:[g]]),_=Object.assign(Object.assign({},i.h(n,(([e,t])=>[`data-${e}`,t]))),{"data-action":t});return"actionlink"===e?s.a.createElement("a",Object.assign({onClick:E,className:Object(l.g)(r,"Link")},_,{href:"#"}),f):s.a.createElement("button",Object.assign({onClick:E,className:r},_),f)}const p=e=>t=>{const{action:n,children:o,className:a}=t,u=Object(r.e)(t,["action","children","className"]),c=i.b(u,((e,t)=>t.startsWith("data-"))),l=i.h(c,(([e,t])=>[e.replace("data-",""),t]));return s.a.createElement(f,{type:e,action:n,className:a,params:l},o)},m=p("actionbutton"),g=p("actionlink")},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(0),i=n(3),o=n(117),s=n(8),a=n(2);function u(e,t){return{className:e.className,"aria-roledescription":e.roleDescription,"aria-label":e.label,role:e.role||t,title:e.title}}const c=r.createContext({selectable:!1,shouldGrabFocus:!1}),l=function(e){const{selectedItemId:t,itemIds:n}=e,o=r.useRef(null),[{focusableItemId:s,shouldGrabFocus:l},h]=r.useState({focusableItemId:t||n[0],shouldGrabFocus:!1});r.useEffect((()=>{e.itemIds.includes(s)||h({focusableItemId:e.itemIds[0],shouldGrabFocus:!1})}),[e.itemIds.includes(s)]);const d=e=>{a.a.falsy(e===i.b),e!==i.a&&h({focusableItemId:e,shouldGrabFocus:!0})},f=Object.assign(Object.assign({},u(e,"list")),{ref:o,onKeyDown:t=>{"ArrowUp"!==t.key&&"Up"!==t.key||d(Object(i.o)(e.itemIds,s)),"ArrowDown"!==t.key&&"Down"!==t.key||d(Object(i.n)(e.itemIds,s))},onBlur:n=>{if(!e.resetFocusIndexOnBlur||o.current.contains(n.relatedTarget))return;let r=e.itemIds[0];e.selectable&&t&&e.itemIds.includes(t)&&(r=t),h({focusableItemId:r,shouldGrabFocus:!1})}});return r.createElement(c.Provider,{value:{selectedItemId:t,focusableItemId:s,shouldGrabFocus:l,selectable:e.selectable||!1}},r.createElement(e.as,f,e.children))},h=r.createContext(!0),d=function(e){const t=r.useContext(h)?"0":"-1";return r.cloneElement(e.children,Object.assign(Object.assign({},e.children.props),{tabIndex:t}))},f=function(e){var t;const{focusableItemId:n,selectedItemId:a,selectable:l,shouldGrabFocus:d}=r.useContext(c),f=n===e.id,p=a===e.id,m=r.useRef(null);Object(i.G)((e=>{if(null===e)return;const t=e[0];f&&!t&&d&&m.current.focus()}),[f]);const g=Object.assign(Object.assign({},u(e,"listitem")),{tabIndex:f?"0":"-1","aria-selected":p,ref:m,onKeyDown:t=>{var n;if("Enter"===t.key&&l)return null===(n=e.onSelect)||void 0===n?void 0:n.call(e)}});let E=r.createElement(e.as,g,e.children);return"a"===e.as&&(null===(t=e.href)||void 0===t?void 0:t.startsWith("/"))&&(E=r.createElement(o.a,{href:e.href,className:e.className,onClick:e.onSelect,onAfterNav:e.onAfterNav,title:e.title,ref:g.ref,extraAttrs:Object(s.i)(g,"ref"),destination:`conv-${e.id}`},e.children)),r.createElement(h.Provider,{value:f},E)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(31);function i(e,t){let n=[];return Object(r.a)(e,((e,r)=>{n.push(t(e,r))})),n}function o(e){return i(e,((e,t)=>[t,e]))}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(214)},function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(0),s=n.n(o),a=n(17),u=n(13),c=n(7),l=n(51);class h extends u.a{constructor(){super(...arguments),this.handleClick=e=>{this.context.isInsideCordovaApp&&(e.preventDefault(),a.a.request("openExternalLink",{url:this.props.href}))}}render(){return s.a.createElement(l.c,null,s.a.createElement("a",{rel:"noopener noreferrer",target:this.props.target,href:this.props.href,onClick:this.handleClick,className:this.className("Link"),style:this.props.style,title:this.props.title,id:this.props.id},this.props.children))}}h.propTypes={href:i.a.string,target:i.a.string,children:i.a.node,className:u.a.stringOrArray,style:i.a.object,title:i.a.string,id:i.a.string},h.contextType=c.a,h.displayName="ExternalLink",t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),i=n(3);let o;o=n(128);let s=window.URLSearchParams;function a(e,t){const n=e.match(/^\/app\/(.+?)(\/.*)$/);if(!n)throw new Error("Invalid URL "+JSON.stringify(location));return new u(n[1],n[2],t).replaceBufferKeyWithContents()}class u{get search(){return this.searchParams.toString()}patchLocalSettings(e){const t=this.getLocalSettings()||{},n=Object.assign(Object.assign({},t),e);this.searchParams.set("localSettings",Object(i.e)(n))}toSafeString(){if(!this._safeSearch){let e=[];this.searchParams.forEach(((t,n)=>{e.push(new s([[n,t]]).toString())}));let{short:t,long:n,key:r}=Object(i.D)(e);r?(this._safeSearch=`bufferKey=${r}&${t}`,function(e,t){o.set(e,t)}(r,n)):this._safeSearch=t}return this.appPrefix+this.relativePath+"?"+this._safeSearch}getLocalSettings(){if(!this._localSettings){const e=this.searchParams.get("localSettings");this._localSettings=e?Object(i.d)(e):{view:{}}}return this._localSettings}constructor(e,t,n,r,i){this.appPrefix="/app/"+e,this.appId=e,this.relativePath=t,this.searchParams="string"==typeof n?new s(n):n,this._safeSearch=r,this._localSettings=i}async replaceBufferKeyWithContents(){const e=this.searchParams.get("bufferKey");if(e){this.searchParams.delete("bufferKey");const n=await(t=e,o.waitFor(t));0;new s(n).forEach(((e,t)=>{this.searchParams.set(t,e)}))}var t;return this}clone({relativePath:e=this.relativePath,search:t=this.search}={}){return new u(this.appId,e,t)}setRelativePath(e){return new u(this.appId,e,this.searchParams,this._safeSearch,this._localSettings)}mutate(e){const t=this.clone();return e(t),t}}var c=n(33),l=n(12);const h=Object(l.b)();let d;async function f(){return await h.promise,d?d():(c.a.error("navigated before page started.. shouldnt be possible!"),Promise.resolve())}class p extends class{constructor(){0}async updateLocation(e){let{pathname:t,search:n}=e;t.endsWith("/")&&(t=t.slice(0,-1)),Object(r.a)((()=>t.startsWith("/"))),this.location=await a(t,n)}setBrowserHistoryMode(e){this.useBrowserHistory=e}usesBrowserHistory(){return this.useBrowserHistory}}{constructor(){super()}static async create(){const e=new p;return await e.updateLocation(location),e}push(e){return window.history.pushState({},"",e),f()}replace(e){return window.history.replaceState({},"",e),f()}go(e){return this.useBrowserHistory?this.push(e):this.replace(e)}replaceLocation(e){const t=this.location.mutate(e);return this.replace(t.toSafeString())}goLocation(e){const t=this.location.mutate(e);return this.go(t.toSafeString())}listen(e){!function(e){d=e,window.addEventListener("popstate",d,!1)}((()=>this.updateLocation(location).then(e))),h.resolve()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return se})),n.d(t,"c",(function(){return ue})),n.d(t,"d",(function(){return ce})),n.d(t,"e",(function(){return le}));var r=n(0),i=(n(4),n(109)),o=n(86),s=!1,a=0,u=function(){return++a};var c=n(144);function l(e,t){return Object(r.createContext)(t)}function h(){}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=["element","index"];function p(e,t){void 0===t&&(t={});return l(0,d({descendants:[],registerDescendant:h,unregisterDescendant:h},t))}function m(e){var t=e.context,n=e.children,i=e.items,o=e.set,s=Object(r.useCallback)((function(e){var t=e.element,n=e.index,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f);t&&o((function(e){var i;if(null!=n)return[].concat(e,[d({},r,{element:t,index:n})]).sort((function(e,t){return e.index-t.index}));if(0===e.length)i=[d({},r,{element:t,index:0})];else if(e.find((function(e){return e.element===t})))i=e;else{var o=e.findIndex((function(e){return!(!e.element||!t)&&Boolean(e.element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)})),s=d({},r,{element:t,index:o});i=-1===o?[].concat(e,[s]):[].concat(e.slice(0,o),[s],e.slice(o))}return i.map((function(e,t){return d({},e,{index:t})}))}))}),[]),a=Object(r.useCallback)((function(e){e&&o((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]);return Object(r.createElement)(t.Provider,{value:Object(r.useMemo)((function(){return{descendants:i,registerDescendant:s,unregisterDescendant:a}}),[i,s,a])},n)}function g(e){return"which"in e?3===e.which:"button"in e&&2===e.button}function E(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}var _=n(112),v=n(101);function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).join("--")}var y=n(113);function O(e,t){return function(n){if(e&&e(n),!n.defaultPrevented)return t(n)}}function S(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=["onKeyDown","onMouseDown","id","ref"],T=["index","isLink","onClick","onDragStart","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseUp","onSelect","disabled","onFocus","valueText","ref"],C=["id","onKeyDown","ref"],R=["onBlur","portal","position","ref"],I="CLEAR_SELECTION_INDEX",N="CLICK_MENU_ITEM",w="CLOSE_MENU",k="OPEN_MENU_AT_INDEX",x="OPEN_MENU_CLEARED",L="SEARCH_FOR_ITEM",M="SELECT_ITEM_AT_INDEX",P="SET_BUTTON_ID",F=p(),j=l(0,{}),B={triggerId:null,isExpanded:!1,typeaheadQuery:"",selectionIndex:-1},U=function(e){var t=e.id,n=e.children,i=Object(r.useRef)(null),a=Object(r.useRef)(null),c=Object(r.useRef)(null),l=Object(r.useState)([]),h=l[0],d=l[1],f=function(e){var t=e||(s?u():null),n=Object(r.useState)(t),i=n[0],a=n[1];return Object(o.a)((function(){null===i&&a(u())}),[]),Object(r.useEffect)((function(){!1===s&&(s=!0)}),[]),null!=i?String(i):void 0}(t),p=t||A("menu",f),g=A("menu-button",p),E=Object(r.useReducer)(W,b({},B,{triggerId:g})),_=E[0],y=E[1],O=Object(r.useRef)(!1),S=Object(r.useRef)([]),D=Object(r.useRef)(!1),T=Object(r.useRef)({x:0,y:0}),C={dispatch:y,dropdownId:p,dropdownRef:a,mouseDownStartPosRef:T,popoverRef:c,readyToSelect:D,selectCallbacks:S,state:_,triggerClickedRef:O,triggerRef:i};return Object(r.useEffect)((function(){_.isExpanded?(window.__REACH_DISABLE_TOOLTIPS=!0,window.requestAnimationFrame((function(){Y(a.current)}))):window.__REACH_DISABLE_TOOLTIPS=!1}),[_.isExpanded]),Object(r.createElement)(m,{context:F,items:h,set:d},Object(r.createElement)(j.Provider,{value:C},Object(v.b)(n)?n({isExpanded:_.isExpanded,isOpen:_.isExpanded}):n))};function H(e){var t=e.onKeyDown,n=e.onMouseDown,i=e.id,o=e.ref,s=S(e,D),a=K(),u=a.dispatch,c=a.dropdownId,l=a.mouseDownStartPosRef,h=a.triggerClickedRef,d=a.triggerRef,f=a.state,p=f.triggerId,m=f.isExpanded,E=Object(y.a)(d,o),_=q(),v=Object(r.useMemo)((function(){return _.findIndex((function(e){return!e.disabled}))}),[_]);return Object(r.useEffect)((function(){null!=i&&i!==p&&u({type:P,payload:i})}),[p,u,i]),{data:{isExpanded:m,controls:c},props:b({},s,{ref:E,id:p||void 0,onKeyDown:O(t,(function(e){switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),u({type:k,payload:{index:v}});break;case"Enter":case" ":u({type:k,payload:{index:v}})}})),onMouseDown:O(n,(function(e){g(e.nativeEvent)||(l.current={x:e.clientX,y:e.clientY},m||(h.current=!0),u(m?{type:w}:{type:x}))})),type:"button"})}}function z(e){var t=e.index,n=e.isLink,i=void 0!==n&&n,s=e.onClick,a=e.onDragStart,u=e.onMouseDown,l=e.onMouseEnter,h=e.onMouseLeave,f=e.onMouseMove,p=e.onMouseUp,m=e.onSelect,E=e.disabled,v=e.onFocus,A=e.valueText,D=e.ref,C=S(e,T),R=K(),w=R.dispatch,k=R.dropdownRef,x=R.mouseDownStartPosRef,L=R.readyToSelect,P=R.selectCallbacks,j=R.triggerRef,B=R.state,U=B.selectionIndex,H=B.isExpanded,z=Object(r.useRef)(null),V=Object(r.useState)(A||""),G=V[0],W=V[1],q=Object(r.useCallback)((function(e){!A&&null!=e&&e.textContent&&W(e.textContent)}),[A]),X=Object(r.useRef)(!1),J=function(e,t){var n=Object(r.useState)(t),i=n[0],o=n[1];return[i,Object(r.useCallback)((function(t){e.current=t,o(t)}),[])]}(z,null),Z=J[0],Q=J[1],ee=function(e,t,n){var i=Object(c.a)(),s=Object(r.useContext)(t),a=s.registerDescendant,u=s.unregisterDescendant,l=s.descendants,h=null!=n?n:l.findIndex((function(t){return t.element===e.element}));return Object(o.a)((function(){return e.element||i(),a(d({},e,{index:h})),function(){u(e.element)}}),[e,i,h,a,u].concat(Object.values(e))),h}(Object(r.useMemo)((function(){return{element:Z,key:G,disabled:E,isLink:i}}),[E,Z,i,G]),F,t),te=ee===U&&!E,ne=Object(y.a)(D,Q,q);function re(){Y(j.current),m&&m(),w({type:N})}return P.current[ee]=m,Object(r.useEffect)((function(){if(H){var e=window.setTimeout((function(){L.current=!0}),400);return function(){window.clearTimeout(e)}}L.current=!1}),[H,L]),Object(r.useEffect)((function(){var e=Object(_.a)(z.current);return e.addEventListener("mouseup",t),function(){e.removeEventListener("mouseup",t)};function t(){X.current=!1}}),[]),{data:{disabled:E},props:b({id:$(ee),tabIndex:-1},C,{ref:ne,"data-disabled":E?"":void 0,"data-selected":te?"":void 0,"data-valuetext":G,onClick:O(s,(function(e){g(e.nativeEvent)||i&&(E?e.preventDefault():re())})),onDragStart:O(a,(function(e){i&&e.preventDefault()})),onMouseDown:O(u,(function(e){g(e.nativeEvent)||(i?X.current=!0:e.preventDefault())})),onMouseEnter:O(l,(function(e){var t=Object(_.a)(k.current);te||null==ee||E||(null!=k&&k.current&&k.current!==t.activeElement&&z.current!==t.activeElement&&k.current.focus(),w({type:M,payload:{index:ee}}))})),onMouseLeave:O(h,(function(e){w({type:I})})),onMouseMove:O(f,(function(e){if(!L.current){var t=Math.abs(e.clientX-x.current.x),n=Math.abs(e.clientY-x.current.y);(t>8||n>8)&&(L.current=!0)}te||null==ee||E||w({type:M,payload:{index:ee,dropdownRef:k}})})),onFocus:O(v,(function(){L.current=!0,te||null==ee||E||w({type:M,payload:{index:ee}})})),onMouseUp:O(p,(function(e){g(e.nativeEvent)||(L.current?i?X.current?X.current=!1:z.current&&z.current.click():E||re():L.current=!0)}))})}}function V(e){e.id;var t=e.onKeyDown,n=e.ref,i=S(e,C),o=K(),s=o.dispatch,a=o.triggerRef,u=o.dropdownRef,c=o.selectCallbacks,l=o.dropdownId,h=o.state,d=h.isExpanded,f=h.triggerId,p=h.selectionIndex,m=h.typeaheadQuery,g=q(),_=Object(y.a)(u,n);Object(r.useEffect)((function(){var e=function(e,t){void 0===t&&(t="");if(!t)return null;var n=e.find((function(e){var n,r,i;return!e.disabled&&(null==(n=e.element)||null==(r=n.dataset)||null==(i=r.valuetext)?void 0:i.toLowerCase().startsWith(t))}));return n?e.indexOf(n):null}(g,m);m&&null!=e&&s({type:M,payload:{index:e,dropdownRef:u}});var t=window.setTimeout((function(){return m&&s({type:L,payload:""})}),1e3);return function(){return window.clearTimeout(t)}}),[s,g,m,u]);var A=E(g.length),D=E(g[p]),T=E(p);Object(r.useEffect)((function(){p>g.length-1?s({type:M,payload:{index:g.length-1,dropdownRef:u}}):A!==g.length&&p>-1&&D&&T===p&&g[p]!==D&&s({type:M,payload:{index:g.findIndex((function(e){return e.key===(null==D?void 0:D.key)})),dropdownRef:u}})}),[u,s,g,A,D,T,p]);var R,I,k,x,P,j,B,U,H,z,V,G,W,X,J=O((function(e){var t=e.key;if(d)switch(t){case"Enter":case" ":var n=g.find((function(e){return e.index===p}));n&&!n.disabled&&(e.preventDefault(),n.isLink&&n.element?n.element.click():(Y(a.current),c.current[n.index]&&c.current[n.index](),s({type:N})));break;case"Escape":Y(a.current),s({type:w});break;case"Tab":e.preventDefault();break;default:if(Object(v.c)(t)&&1===t.length){var r=m+t.toLowerCase();s({type:L,payload:r})}}}),(R=F,I={currentIndex:p,orientation:"vertical",rotate:!1,filter:function(e){return!e.disabled},callback:function(e){s({type:M,payload:{index:e,dropdownRef:u}})},key:"index"},k=Object(r.useContext)(R).descendants,x=I.callback,P=I.currentIndex,j=I.filter,B=I.key,U=void 0===B?"index":B,H=I.orientation,z=void 0===H?"vertical":H,V=I.rotate,G=void 0===V||V,W=I.rtl,X=void 0!==W&&W,function(e){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(e.key)){var t=null!=P?P:-1,n=j?k.filter(j):k;if(n.length){var r=n.findIndex((function(e){return e.index===P}));switch(e.key){case"ArrowDown":if("vertical"===z||"both"===z){e.preventDefault();var i=d();x("option"===U?i:i[U])}break;case"ArrowUp":if("vertical"===z||"both"===z){e.preventDefault();var o=f();x("option"===U?o:o[U])}break;case"ArrowLeft":if("horizontal"===z||"both"===z){e.preventDefault();var s=(X?d:f)();x("option"===U?s:s[U])}break;case"ArrowRight":if("horizontal"===z||"both"===z){e.preventDefault();var a=(X?f:d)();x("option"===U?a:a[U])}break;case"PageUp":e.preventDefault();var u=(e.ctrlKey?f:p)();x("option"===U?u:u[U]);break;case"Home":e.preventDefault();var c=p();x("option"===U?c:c[U]);break;case"PageDown":e.preventDefault();var l=(e.ctrlKey?d:m)();x("option"===U?l:l[U]);break;case"End":e.preventDefault();var h=m();x("option"===U?h:h[U])}}}function d(){return t===m().index?G?p():n[r]:n[(r+1)%n.length]}function f(){return t===p().index?G?m():n[r]:n[(r-1+n.length)%n.length]}function p(){return n[0]}function m(){return n[n.length-1]}}));return{data:{activeDescendant:$(p)||void 0,triggerId:f},props:b({tabIndex:-1},i,{ref:_,id:l,onKeyDown:O(t,J)})}}function G(e){var t=e.onBlur,n=e.portal,i=void 0===n||n,o=e.position,s=e.ref,a=S(e,R),u=K(),c=u.triggerRef,l=u.triggerClickedRef,h=u.dispatch,d=u.dropdownRef,f=u.popoverRef,p=u.state.isExpanded,m=Object(y.a)(f,s);return Object(r.useEffect)((function(){if(p){var e=Object(_.a)(f.current);return e.addEventListener("mousedown",t),function(){e.removeEventListener("mousedown",t)}}function t(e){var t,n;l.current?l.current=!1:(t=f.current,n=e.target,t&&t.contains(n)||h({type:w}))}}),[l,c,h,d,f,p]),{data:{portal:i,position:o,targetRef:c,isExpanded:p},props:b({ref:m,hidden:!p,onBlur:O(t,(function(e){e.currentTarget.contains(e.relatedTarget)||h({type:w})}))},a)}}function $(e){var t=Object(r.useContext)(j).dropdownId;return null!=e&&e>-1?A("option-"+e,t):void 0}function Y(e){e&&e.focus()}function W(e,t){switch(void 0===t&&(t={}),t.type){case N:case w:return b({},e,{isExpanded:!1,selectionIndex:-1});case"OPEN_MENU_AT_FIRST_ITEM":return b({},e,{isExpanded:!0,selectionIndex:0});case k:return b({},e,{isExpanded:!0,selectionIndex:t.payload.index});case x:return b({},e,{isExpanded:!0,selectionIndex:-1});case M:var n=t.payload.dropdownRef,r=void 0===n?{current:null}:n;if(t.payload.index>=0&&t.payload.index!==e.selectionIndex){if(r.current){var i=Object(_.a)(r.current);r.current!==(null==i?void 0:i.activeElement)&&r.current.focus()}return b({},e,{selectionIndex:null!=t.payload.max?Math.min(Math.max(t.payload.index,0),t.payload.max):Math.max(t.payload.index,0)})}return e;case I:return b({},e,{selectionIndex:-1});case P:return b({},e,{triggerId:t.payload});case L:return void 0!==t.payload?b({},e,{typeaheadQuery:t.payload}):e;default:return e}}function K(){return Object(r.useContext)(j)}function q(){return e=F,Object(r.useContext)(e).descendants;var e}var X=n(111);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["as","id","children"],ee=["as"],te=["as"],ne=["as"],re=["as"],ie=["as"],oe=Object(r.forwardRef)((function(e,t){var n=e.as,i=void 0===n?r.Fragment:n,o=e.id,s=e.children,a=Z(e,Q),u=Object(r.useMemo)((function(){try{return Object(X.isFragment)(Object(r.createElement)(i,null))}catch(e){return!1}}),[i])?{}:J({ref:t,id:o,"data-reach-menu":""},a);return Object(r.createElement)(i,u,Object(r.createElement)(U,{id:o,children:s}))}));var se=Object(r.forwardRef)((function(e,t){var n=e.as,i=void 0===n?"button":n,o=H(J({},Z(e,ee),{ref:t})),s=o.data,a=s.isExpanded,u=s.controls,c=o.props;return Object(r.createElement)(i,J({"aria-expanded":!!a||void 0,"aria-haspopup":!0,"aria-controls":u},c,{"data-reach-menu-button":""}))}));var ae=Object(r.forwardRef)((function(e,t){var n=e.as,i=void 0===n?"div":n,o=z(J({},Z(e,te),{ref:t})),s=o.data.disabled,a=o.props;return Object(r.createElement)(i,J({role:"menuitem"},a,{"aria-disabled":s||void 0,"data-reach-menu-item":""}))})),ue=Object(r.forwardRef)((function(e,t){var n=e.as,i=void 0===n?"div":n,o=Z(e,ne);return Object(r.createElement)(ae,J({},o,{ref:t,as:i}))}));var ce=Object(r.forwardRef)((function(e,t){var n=e.as,i=void 0===n?"div":n,o=V(J({},Z(e,re),{ref:t})),s=o.data,a=s.activeDescendant,u=s.triggerId,c=o.props;return Object(r.createElement)(i,J({"aria-activedescendant":a,"aria-labelledby":u||void 0,role:"menu"},c,{"data-reach-menu-items":""}))}));var le=Object(r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"div":n,s=G(J({},Z(e,ie),{ref:t})),a=s.data,u=a.portal,c=a.targetRef,l=a.position,h=s.props,d={"data-reach-menu-popover":""};return u?Object(r.createElement)(i.a,J({},h,d,{as:o,targetRef:c,position:l})):Object(r.createElement)(o,J({},h,d))}))},function(e,t,n){"use strict";function r(e,t){return e.reduce(((e,n,r)=>e.concat(t(n,r))),[])}function i(e,t){let n=[];const r=Math.min(e.length,t.length);for(let i=0;i<r;i++)n[i]=[e[i],t[i]];return n}function o(e,t){let n=[],r=[];for(var i=0;i<e.length;i++)t(e[i])?n.push(e[i]):r.push(e[i]);return[n,r]}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(46),i=n(15),o=n(2),s=n(59),a=n.n(s);class u extends r.a{constructor(e){super(e),this._currentVersion=null,this._isTyping=!1,this._appMetadata=null,this._paymentStatus=null,this._googleTranslateApiKey=void 0,this._isOnline=!0,this._config=this._getTalkJSDefaults(),this._desktopNotifyEnabled=void 0,this._htmlPanelOptions=void 0,this._translationOptions={global:!1,perConv:{},showToggle:!1}}setIsOnline({isOnline:e}){this._isOnline=e,this.emitChange()}isOnline(){return this._isOnline}setBrowserMode({mode:e}){this._browserMode=e,this.emitChange()}getBrowserMode(){return this._browserMode}getAppName(){var e,t;return null!==(t=null===(e=this._appMetadata)||void 0===e?void 0:e.name)&&void 0!==t?t:null}getGoogleTranslateApiKey(){return this._googleTranslateApiKey}getFullConfig(){return this._config}getContentMasking(){return this._config.suppressContactInfo}getTheme(){return this._config.theme}getGeneralSettings(){return this._config.general}getSameTabLinkRules(){return this._config.sameTabLinkRules}getFeatures(){return this._appFeatures}getPermissions(){return this._config.permissions}isDesktopNotifyEnabled(){return this._desktopNotifyEnabled}isCustomer(){return"active"===this._paymentStatus||"past_due"===this._paymentStatus}setDesktopNotify({isEnabled:e}){o.a.is(e,Boolean),this._desktopNotifyEnabled=e,this.emitChange()}setHtmlPanelOptions({htmlPanelOptions:e}){a()(e,this._htmlPanelOptions)||(this._htmlPanelOptions=e,this.emitChange())}setTranslationOptions({translationOptions:e}){a()(e,this._translationOptions)||(this._translationOptions=e,this.emitChange())}getTranslationOptions(){return this._translationOptions}getHtmlPanelOptions(){return this._htmlPanelOptions}setAppSettings({appMetadata:e,configuration:t,paymentStatus:n,nymLocale:r,googleTranslateApiKey:o,features:s,searchIndexedSince:a}){if(t||(t={}),t.sameTabLinkRules&&(this._config.sameTabLinkRules=t.sameTabLinkRules),t.suppressContactInfo){const e=JSON.parse(t.suppressContactInfo);this._config.suppressContactInfo=new i.c(e)}s.includes("themes")?t.theme&&"v2"===t.theme.version?this._config.theme=t.theme:this._config.theme={version:"v1",mode:t.theme?t.theme.mode:"default",showAvatarsBesidesMessages:t.theme&&t.theme.showAvatarsBesidesMessages,showAvatarsFrequency:t.theme&&t.theme.showAvatarsFrequency,showAvatarsForSides:t.theme&&t.theme.showAvatarsForSides,raw:t.theme&&t.theme.raw}:this._config.theme={mode:"default",version:"v1"},t.general&&(this._config.general=t.general,void 0===this._config.general.enableLocation&&(this._config.general.enableLocation=!1),void 0===this._config.general.enableMentions&&(this._config.general.enableMentions=!1),void 0===this._config.general.enablePresence&&(this._config.general.enablePresence=!1),void 0===this._config.general.showTypingIndicators&&(this._config.general.showTypingIndicators=!0),void 0===this._config.general.enableVoiceRecording&&(this._config.general.enableVoiceRecording=!1)),t.permissions&&(this._config.permissions.messages=Object.assign(Object.assign({},this._config.permissions.messages),t.permissions.messages),this._config.permissions.messagesCustom=t.permissions.messagesCustom||{},this._config.permissions.conversations=Object.assign(Object.assign({},this._config.permissions.conversations),t.permissions.conversations),this._config.permissions.conversationsCustom=t.permissions.conversationsCustom||{});const u=e.defaultLocale;this._locale={appLocale:u,nymLocale:r||u},this._appMetadata=e,this._paymentStatus=n,this._appFeatures=null==a?s.filter((e=>"search_conv_and_messages"!=e)):s,this._googleTranslateApiKey=o}getLocale(){return this._locale}_getTalkJSDefaults(){return{theme:{mode:"default",version:"v1"},suppressContactInfo:new i.c({mode:"off"}),general:{enableFileTransfers:!1,enableLocation:!1,enableMentions:!1,enablePresence:!1,showTypingIndicators:!0,enableVoiceRecording:!1},permissions:{messages:{delete:"none",edit:"none",reply:"none",emojiReactions:"none"},messagesCustom:{},conversations:{leave:"none",markAsUnread:"none"},conversationsCustom:{}},sameTabLinkRules:[]}}}u.storeName="SettingsStore",u.handlers={SET_DESKTOP_NOTIFY:"setDesktopNotify",SET_HTML_PANEL_OPTIONS:"setHtmlPanelOptions",SET_TRANSLATION_OPTIONS:"setTranslationOptions",SET_BROWSER_MODE:"setBrowserMode",SET_APP_SETTINGS:"setAppSettings",SET_IS_ONLINE:"setIsOnline"},t.a=u},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,a,u,c=r(t),l=r(n);if(c&&l){if((a=t.length)!=n.length)return!1;for(s=a;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(c!=l)return!1;var h=t instanceof Date,d=n instanceof Date;if(h!=d)return!1;if(h&&d)return t.getTime()==n.getTime();var f=t instanceof RegExp,p=n instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==n.toString();var m=i(t);if((a=m.length)!==i(n).length)return!1;for(s=a;0!=s--;)if(!o.call(n,m[s]))return!1;for(s=a;0!=s--;)if(!e(t[u=m[s]],n[u]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";const r=(()=>{if("undefined"!=typeof window){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}return!1})(),i={};r?(i.setItem=window.localStorage.setItem.bind(window.localStorage),i.getItem=window.localStorage.getItem.bind(window.localStorage),i.removeItem=window.localStorage.removeItem.bind(window.localStorage),i.isSupported=!0):(i.setItem=function(){},i.getItem=function(){return null},i.removeItem=function(){},i.isSupported=!1),i.set=(e,t)=>i.setItem(e,JSON.stringify(t)),i.get=e=>JSON.parse(i.getItem(e)||"null"),t.a=i},function(e,t,n){"use strict";var r=n(57);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(73);function i(e){var t,n,i,o,s,a,u,c,l,h,d,f,p;let m="";e.t&&(m=`(${e.t("CONTACT_INFORMATION_HIDDEN")})`);return{formattedLinks:null!==(t=e.formattedLinks)&&void 0!==t?t:"plaintext",markup:null!==(n=e.markup)&&void 0!==n&&n,useFallbackMentions:null!==(i=e.useFallbackMentions)&&void 0!==i&&i,sameTabLinkRules:null!==(o=e.sameTabLinkRules)&&void 0!==o?o:[],enableEmojiImageFallback:null!==(s=e.enableEmojiImageFallback)&&void 0!==s&&s,highlight:null!==(a=e.highlight)&&void 0!==a?a:[],contactInfo:null!==(u=e.contactInfo)&&void 0!==u&&u,suppression:null!==(c=e.suppression)&&void 0!==c?c:new r.a({mode:"off"}),contactInfoHiddenText:null!==(d=null!==(l=e.contactInfoHiddenText)&&void 0!==l?l:null===(h=e.suppression)||void 0===h?void 0:h.replacement)&&void 0!==d?d:m,customEmojiUrls:null!==(f=e.customEmojiUrls)&&void 0!==f?f:{},enableActions:null===(p=e.enableActions)||void 0===p||p}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(13),s=n(7),a=n(22);class u extends o.a{constructor(e){if(super(e),e.contactInfo&&!e.t)throw new Error("When contactInfo is given and not false, t is required as well.")}render(){var e;const t=Object(a.d)(this.props.children,{contactInfo:this.props.contactInfo,formattedLinks:this.props.formattedLinks,markup:this.props.markup,useFallbackMentions:this.props.useFallbackMentions,sameTabLinkRules:this.props.sameTabLinkRules,enableEmojiImageFallback:this.props.enableEmojiImageFallback,highlight:this.props.highlight,suppression:this.props.suppression,contactInfoHiddenText:this.props.contactInfo?(null===(e=this.props.suppression)||void 0===e?void 0:e.replacement)||this.props.t("CONTACT_INFORMATION_HIDDEN"):"",t:this.props.t},{except:this.props.except||[]});return i.a.createElement("span",{className:this.className()},...t)}}u.displayName="Emojilinkistrippify",u.defaultProps={contactInfo:!1,emojis:!1,formattedLinks:"plaintext",sameTabLinkRules:[],markup:!1},u.contextType=s.a,t.a=u},function(e,t,n){"use strict";var r=n(9);const i=n(163);t.a={ar:new r.a(i.ar,i.en),bg:new r.a(i.bg,i.en),bs:new r.a(i.bs,i.en),ca:new r.a(i.ca,i.en),cs:new r.a(i.cs,i.en),da:new r.a(i.da,i.en),de:new r.a(i.de,i.en),el:new r.a(i.el,i.en),en:new r.a(i.en),es:new r.a(i.es,i.en),et:new r.a(i.et,i.en),fa:new r.a(i.fa,i.en),fi:new r.a(i.fi,i.en),fr:new r.a(i.fr,i.en),he:new r.a(i.he,i.en),hi:new r.a(i.hi,i.en),hu:new r.a(i.hu,i.en),hr:new r.a(i.hr,i.en),id:new r.a(i.id,i.en),is:new r.a(i.is,i.en),it:new r.a(i.it,i.en),ja:new r.a(i.ja,i.en),ka:new r.a(i.ka,i.en),ko:new r.a(i.ko,i.en),nb:new r.a(i.nb,i.en),nl:new r.a(i.nl,i.en),pl:new r.a(i.pl,i.en),pt:new r.a(i.pt,i.en),ro:new r.a(i.ro,i.en),ru:new r.a(i.ru,i.en),sq:new r.a(i.sq,i.en),sr:new r.a(i.sr,i.en),sv:new r.a(i.sv,i.en),tr:new r.a(i.tr,i.en),uk:new r.a(i.uk,i.en),vi:new r.a(i.vi,i.en),zh:new r.a(i.zh,i.en),"zh-tw":new r.a(i["zh-tw"],i.en)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var r=n(244)("wks"),i=n(134),o=n(80).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||i)("Symbol."+e))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(57);n(52);function i(e,t){let n={};return e.forEach(((e,r)=>{const[i,o]=t(e,r);n[i]=o})),n}function o(e){return i(e,(e=>e))}function s(e,t){return o(Object(r.c)(e,t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(29),i=n(2),o=n(3),s=n(6),a=n(20);const u={NOTARRIVED_TIMEOUT_MS:3e3,isUserMessage:e=>"UserMessage"===e.get("type"),isSystemMessage:e=>"SystemMessage"===e.get("type"),isMultilineMessage:e=>u.isUserMessage(e)&&/\n/.test(e.text),isFromEmail:e=>u.isUserMessage(e)&&e.origin===l.EMAIL,getMessageMetadata(e){if(e.attachment){const{url:t,size:n}=e.attachment,r=Object(s.e)(t),i=o.t(r)?"image":o.x(r)?"video":o.q(r)?"audio":void 0,u=void 0!==i;return{type:u?"media":"text",mediaType:i,filename:r,attachmentUrl:t,attachmentSize:o.f(n),attachmentDimensions:Object(a.g)(e.attachment),isFilePreviewable:u}}return e.location?{type:"location",location:e.location}:{type:"text"}},renderMessageBodyForNotifications(e,t){if(e.text)return e.text;if(e.location)return` ${t?t("LOCATION"):"Shared location"}`;if(e.attachment){const{isFilePreviewable:n,mediaType:r,filename:i}=u.getMessageMetadata(e);if(!n)return`[] ${i}`;switch(r){case"audio":return o.y(i)?` ${t?t("VOICE_MESSAGE"):"Voice message"} (${o.l(o.p(i))})`:` ${i}`;case"video":return` ${i}`;case"image":default:return` ${i}`}}},millisecsOld:(e,t)=>e.createdAt?t-e.createdAt:0,arrivalTimeoutElapsed:(e,t)=>u.millisecsOld(e,t)>=3e3,createTypingIndicator:e=>new p(e),create(e,t){const n=m[e];return"boolean"==typeof t.received&&(t.received={[t.senderId]:t.received}),Object(i.a)((()=>null!==t.custom)),new n(t)},makeAttachment:(e,t,n)=>(i.a.is(e,Blob),i.a.is(t,String),n&&("width"in n&&i.a.is(n.width,Number),"height"in n&&i.a.is(n.height,Number),"duration"in n&&i.a.is(n.duration,Number)),{url:t,size:e.size,dimensions:n})},c=Object(r.a)("UserMessage",{id:null,externalId:null,createdAt:null,editedAt:null,text:null,entityTree:null,custom:{},type:"UserMessage",received:{},senderId:null,attachment:null,isWelcomeMessage:!1,origin:"web",location:null,translatedText:null,detectedLanguage:null,translatedEntityTree:null,nymId:null,saved:!0,idempotencyKey:null,referencedMessageId:null,reactionCount:{}});class l extends c{}l.WEB="web",l.EMAIL="email";const h=Object(r.a)("SystemMessage",{id:null,externalId:null,createdAt:null,editedAt:null,text:null,entityTree:null,custom:{},type:"SystemMessage",received:{},senderId:"SYSTEM",detectedLanguage:null,attachment:null,isWelcomeMessage:!1,origin:"rest",idempotencyKey:null,reactionCount:{}});class d extends h{}const f=Object(r.a)("TypingIndicatorEvent",{type:"TypingIndicatorEvent",id:null,senderId:null,isWelcomeMessage:!1,createdAt:null,editedAt:null,origin:"web"});class p extends f{}const m={UserMessage:l,SystemMessage:d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=Object.create(null);function i(e){e(r)}r.channels=Object.create(null),r.monitors=Object.create(null),window.Talk||(window.dev=r)},function(e,t,n){e.exports=function(e){e.use(n(138)),e.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var t,n=2*this._lightness,r=this._saturation*(n<=1?n:2-n);return t=n+r<1e-9?0:2*r/(n+r),new e.HSV(this._hue,t,(n+r)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(61),i=n(84),o=n(26),s=n(6),a=n(62),u=n(24),c=n(19);function l(e,t){return h(e,Object(a.a)(t))}function h(e,t){return e.flatMap((e=>{if("string"==typeof e){let n=[e];return n=d(n,(e=>function(e,t){const{suppression:{forbiddenMatches:n,allowedMatches:i}}=t,o=Object(r.b)(n,(t=>Object(s.c)(e,t))).filter((([e])=>!i.some((t=>null!==e.match(t))))).map((e=>({offset:e.index,matchedText:e[0]})));return Object(s.n)(e,o,(()=>[{type:"suppressed",text:"CONTACT_INFORMATION_HIDDEN"}]))}(e,t))),n=d(n,(e=>function(e){return Object(s.n)(e,Object(i.b)(e),(e=>[{type:"emoji",text:e.matchedText}]))}(e))),n=d(n,(e=>function(e,t){if("suppress"!==t.contactInfo)return[e];const n=[];(t.suppression.suppressEmailAddresses||t.suppression.suppressLinks)&&n.push(c.c);t.suppression.suppressPhoneNumbers&&n.push(c.j);if(0===n.length)return[e];const r=Object(u.d)(e,{multilineSteps:[],singlelineSteps:n}).map((e=>{if("string"==typeof e)return e;return f(e.url,t.suppression)?e.text:{type:"suppressed",text:"CONTACT_INFORMATION_HIDDEN"}}));return Object(u.a)(r)}(e,t))),n}switch(e.type){case"bold":case"italic":case"strikethrough":case"blockquote":case"bulletlist":case"bulletList":case"bulletpoint":case"bulletPoint":return{type:e.type,children:h(e.children,t)};case"codespan":case"codeSpan":case"codeblock":case"codeBlock":case"suppressed":case"emoji":case"customemoji":case"customEmoji":return e;case"mention":return{type:"mention",id:e.id,text:e.text};case"autolink":case"autoLink":return function(e,t){return"link"===t.contactInfo?e:"suppress"===t.contactInfo?f(e.url,t.suppression)?e:{type:"suppressed",text:"CONTACT_INFORMATION_HIDDEN"}:e.text}(e,t);case"link":return{type:"link",url:e.url,children:h(e.children,t)};case"actionlink":case"actionLink":case"actionbutton":case"actionButton":return{type:e.type,action:e.action,params:e.params,children:h(e.children,t)}}}))}function d(e,t){return Object(r.b)(e,(e=>"string"==typeof e?t(e):[e]))}function f(e,t){if(t.allowedMatches.some((t=>null!==e.match(t))))return!0;if(t.forbiddenMatches.some((t=>null!==e.match(t))))return!1;if(e.startsWith("mailto:")){const n=e.substring(7).replace(/^.*@/,"");return!t.suppressEmailAddresses||p(t.allowedHostnames,n)}if(e.startsWith("tel:")){const n=e.substring(4).replace(/[^0-9]/g,"");return!t.suppressPhoneNumbers||t.allowedPhoneNrs.some((e=>n.endsWith(e)))}{const n=Object(s.m)(e);return!t.suppressLinks||!n||p(t.allowedHostnames,n)}}function p(e,t){for(const n of e){if(Object(o.a)(n).test(t))return!0}return!1}},function(e,t,n){"use strict";var r=n(0);const i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(44),i=n(26);class o{constructor({mode:e,allowedHostnames:t,allowedPhoneNrs:n,allowedMatches:o,forbiddenMatches:s,forbiddenWords:a,suppressLinks:u,suppressEmailAddresses:c,suppressPhoneNumbers:l,replacement:h}){if(r.a.oneOf(e,["all","otherOnly","off"]),this.mode=e,this.suppressLinks=!1!==u,this.suppressEmailAddresses=!1!==c,this.suppressPhoneNumbers=!1!==l,this.allowedHostnames=t||[],this.allowedPhoneNrs=(n||[]).filter((e=>e)).map((e=>e.replace(/[^0-9]/g,""))),this.allowedMatches=(o||[]).filter(i.b).map((e=>i.c(e))),this.forbiddenMatches=(s||[]).filter(i.b).map((e=>i.c(e))),a){const e=a.split("\n").map((e=>e.trim().toLowerCase())).filter((e=>e.length>0&&!e.startsWith("#"))).map((e=>i.d(e)));e.length&&this.forbiddenMatches.push(new RegExp(`\\b(${e.join("|")})\\b`,"gi"))}Object(r.a)((()=>this.allowedMatches.every((e=>e.flags.includes("g")))),"All regexes in `suppressContactInfo.allowedMatches` must be global. Check `allowedMatches`!"),Object(r.a)((()=>this.forbiddenMatches.every((e=>e.flags.includes("g")))),"All regexes in `suppressContactInfo.forbiddenMatches` must be global. Check `forbiddenMatches`!"),h=null==h?void 0:h.trim(),this.replacement=h&&h.length>0?h:void 0}shouldSuppress({isContentBySender:e}){return"all"===this.mode||"otherOnly"===this.mode&&!e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return P}));var r=e=>{if("function"==typeof e)return e;return function(){return e}},i="undefined"!=typeof self?self:null,o="undefined"!=typeof window?window:null,s=i||o||s,a=0,u=1,c=2,l=3,h="closed",d="errored",f="joined",p="joining",m="leaving",g="phx_close",E="phx_error",_="phx_join",v="phx_reply",A="phx_leave",y="longpoll",O="websocket",S=4,b=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},D=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}},T=class{static request(e,t,n,r,i,o,a){if(s.XDomainRequest){let n=new s.XDomainRequest;return this.xdomainRequest(n,e,t,r,i,o,a)}{let u=new s.XMLHttpRequest;return this.xhrRequest(u,e,t,n,r,i,o,a)}}static xdomainRequest(e,t,n,r,i,o,s){return e.timeout=i,e.open(t,n),e.onload=()=>{let t=this.parseJSON(e.responseText);s&&s(t)},o&&(e.ontimeout=o),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,o,s,a){return e.open(t,n,!0),e.timeout=o,e.setRequestHeader("Content-Type",r),e.onerror=()=>a&&a(null),e.onreadystatechange=()=>{if(e.readyState===S&&a){let t=this.parseJSON(e.responseText);a(t)}},s&&(e.ontimeout=s),e.send(i),e}static parseJSON(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,o=e[r];"object"==typeof o?n.push(this.serialize(o,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}static appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},C=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=a,setTimeout((()=>this.poll()),0)}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+O),"$1/"+y)}endpointURL(){return T.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=a}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===u||this.readyState===a}poll(){this.ajax("GET","application/json",null,(()=>this.ontimeout()),(e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach((e=>{setTimeout((()=>this.onmessage({data:e})),0)})),this.poll();break;case 204:this.poll();break;case 410:this.readyState=u,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}}))}send(e){"string"!=typeof e&&(e=(e=>{let t="",n=new Uint8Array(e),r=n.byteLength;for(let e=0;e<r;e++)t+=String.fromCharCode(n[e]);return btoa(t)})(e)),this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout((()=>{this.batchSend(this.currentBatch),this.currentBatch=null}),0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join("\n"),(()=>this.onerror("timeout")),(e=>{this.awaitingBatchAck=!1,e&&200===e.status?this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[]):(this.onerror(e&&e.status),this.closeAndRetry(1011,"internal server error",!1))}))}close(e,t,n){for(let e of this.reqs)e.abort();this.readyState=l;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,"undefined"!=typeof CloseEvent?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r,i){let o;o=T.request(e,this.endpointURL(),t,n,this.timeout,(()=>{this.reqs.delete(o),r()}),(e=>{this.reqs.delete(o),this.isActive()&&i(e)})),this.reqs.add(o)}},R={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,o,s]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:o,payload:s})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:o}=e,s=this.META_LENGTH+t.length+n.length+i.length+r.length,a=new ArrayBuffer(this.HEADER_LENGTH+s),u=new DataView(a),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,t.length),u.setUint8(c++,n.length),u.setUint8(c++,i.length),u.setUint8(c++,r.length),Array.from(t,(e=>u.setUint8(c++,e.charCodeAt(0)))),Array.from(n,(e=>u.setUint8(c++,e.charCodeAt(0)))),Array.from(i,(e=>u.setUint8(c++,e.charCodeAt(0)))),Array.from(r,(e=>u.setUint8(c++,e.charCodeAt(0))));var l=new Uint8Array(a.byteLength+o.byteLength);return l.set(new Uint8Array(a),0),l.set(new Uint8Array(o),a.byteLength),l.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(s,s+r));s+=r;let u=n.decode(e.slice(s,s+i));s+=i;let c=n.decode(e.slice(s,s+o));return s+=o,{join_ref:a,ref:null,topic:u,event:c,payload:e.slice(s,e.byteLength)}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,u=n.decode(e.slice(a,a+r));a+=r;let c=n.decode(e.slice(a,a+i));a+=i;let l=n.decode(e.slice(a,a+o));a+=o;let h=n.decode(e.slice(a,a+s));a+=s;let d=e.slice(a,e.byteLength);return{join_ref:u,ref:c,topic:l,event:v,payload:{status:h,response:d}}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,s=n.decode(e.slice(o,o+r));o+=r;let a=n.decode(e.slice(o,o+i));return o+=i,{join_ref:null,ref:null,topic:s,event:a,payload:e.slice(o,e.byteLength)}}},I=n(48),N=n(28),w=n(69),k=n(12);const x=window.WebSocket;class L{constructor(e,t){this._params=t,this.tokenParams={},this.eventEmitter=new I.a({connectionStatusChanged(e){}}),this._endpoint=[e,"api","v0",t.appId,"socket"].join("/"),this._channels={}}onConnectionStatusChanged(e){return this.eventEmitter.on("connectionStatusChanged",e),()=>{this.eventEmitter.off("connectionStatusChanged",e)}}connect(e={}){this.tokenParams=Object.assign(Object.assign({},this.tokenParams),e);try{const e=new class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||1e4,this.transport=t.transport||s.WebSocket||C,this.primaryPassedHealthCheck=!1,this.longPollFallbackMs=t.longPollFallbackMs,this.fallbackTimer=null,this.sessionStore=t.sessionStorage||s&&s.sessionStorage,this.establishedConnections=0,this.defaultEncoder=R.encode.bind(R),this.defaultDecoder=R.decode.bind(R),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==C?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;o&&o.addEventListener&&(o.addEventListener("pagehide",(e=>{this.conn&&(this.disconnect(),n=this.connectClock)})),o.addEventListener("pageshow",(e=>{n===this.connectClock&&(n=null,this.connect())}))),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=e=>t.rejoinAfterMs?t.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4,this.reconnectAfterMs=e=>t.reconnectAfterMs?t.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3,this.logger=t.logger||null,!this.logger&&t.debug&&(this.logger=(e,t,n)=>{console.log(`${e}: ${t}`,n)}),this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=r(t.params||{}),this.endPoint=`${e}/${O}`,this.vsn=t.vsn||"2.0.0",this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new D((()=>{this.teardown((()=>this.connect()))}),this.reconnectAfterMs)}getLongPollTransport(){return C}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=T.appendParams(T.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.teardown(e,t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=r(e)),this.conn||(this.longPollFallbackMs&&this.transport!==C?this.connectWithFallback(C,this.longPollFallbackMs):this.transportConnect())}log(e,t,n){this.logger&&this.logger(e,t,n)}hasLogger(){return null!==this.logger}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage((i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))}));return!0}transportConnect(){this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e)}getSession(e){return this.sessionStore&&this.sessionStore.getItem(e)}storeSession(e,t){this.sessionStore&&this.sessionStore.setItem(e,t)}connectWithFallback(e,t=2500){clearTimeout(this.fallbackTimer);let n,r=!1,i=!0,o=t=>{this.log("transport",`falling back to ${e.name}...`,t),this.off([void 0,n]),i=!1,this.replaceTransport(e),this.transportConnect()};if(this.getSession(`phx:fallback:${e.name}`))return o("memorized");this.fallbackTimer=setTimeout(o,t),n=this.onError((e=>{this.log("transport","error",e),i&&!r&&(clearTimeout(this.fallbackTimer),o(e))})),this.onOpen((()=>{if(r=!0,!i)return this.primaryPassedHealthCheck||this.storeSession(`phx:fallback:${e.name}`,"true"),this.log("transport",`established ${e.name} fallback`);clearTimeout(this.fallbackTimer),this.fallbackTimer=setTimeout(o,t),this.ping((e=>{this.log("transport","connected to primary after",e),this.primaryPassedHealthCheck=!0,clearTimeout(this.fallbackTimer)}))})),this.transportConnect()}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`${this.transport.name} connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach((([,e])=>e()))}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown((()=>this.reconnectTimer.scheduleTimeout()),1e3,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout((()=>this.sendHeartbeat()),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();this.waitForBufferDone((()=>{this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed((()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()}))}))}waitForBufferDone(e,t=1){5!==t&&this.conn&&this.conn.bufferedAmount?setTimeout((()=>{this.waitForBufferDone(e,t+1)}),150*t):e()}waitForSocketClosed(e,t=1){5!==t&&this.conn&&this.conn.readyState!==l?setTimeout((()=>{this.waitForSocketClosed(e,t+1)}),150*t):e()}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),this.closeWasClean||1e3===t||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((([,t])=>t(e)))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach((([,r])=>{r(e,t,n)})),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach((e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(E)}))}connectionState(){switch(this.conn&&this.conn.readyState){case a:return"connecting";case u:return"open";case c:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter((t=>t!==e))}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter((([t])=>-1===e.indexOf(t)))}channel(e,t={}){let n=new class{constructor(e,t,n){this.state=h,this.topic=e,this.params=r(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new b(this,_,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new D((()=>{this.socket.isConnected()&&this.rejoin()}),this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError((()=>this.rejoinTimer.reset()))),this.stateChangeRefs.push(this.socket.onOpen((()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()}))),this.joinPush.receive("ok",(()=>{this.state=f,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.joinPush.receive("error",(()=>{this.state=d,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=h,this.socket.remove(this)})),this.onError((e=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,e),this.isJoining()&&this.joinPush.reset(),this.state=d,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()})),this.joinPush.receive("timeout",(()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new b(this,A,r({}),this.timeout).send(),this.state=d,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()})),this.on(v,((e,t)=>{this.trigger(this.replyEventName(t),e)}))}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(g,e)}onError(e){return this.on(E,(t=>e(t)))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter((n=>!(n.event===e&&(void 0===t||t===n.ref))))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new b(this,e,(function(){return t}),n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=m;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(g,"leave")},n=new b(this,A,r({}),e);return n.receive("ok",(()=>t())).receive("timeout",(()=>t())),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return!(this.topic!==e||r&&r!==this.joinRef()&&(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),1))}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=p,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let o=this.bindings.filter((t=>t.event===e));for(let e=0;e<o.length;e++)o[e].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===h}isErrored(){return this.state===d}isJoined(){return this.state===f}isJoining(){return this.state===p}isLeaving(){return this.state===m}}(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:o}=e;this.log("push",`${t} ${n} (${o}, ${i})`,r)}this.isConnected()?this.encode(e,(e=>this.conn.send(e))):this.sendBuffer.push((()=>this.encode(e,(e=>this.conn.send(e)))))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout((()=>this.heartbeatTimeout()),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:i,join_ref:o}=e;i&&i===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout((()=>this.sendHeartbeat()),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r);for(let e=0;e<this.channels.length;e++){const s=this.channels[e];s.isMember(t,n,r,o)&&s.trigger(n,r,i,o)}for(let t=0;t<this.stateChangeCallbacks.message.length;t++){let[,n]=this.stateChangeCallbacks.message[t];n(e)}}))}leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t.isJoined()||t.isJoining())));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}}(this._endpoint,{params:()=>Object.assign(Object.assign({"talkjs-client-build":"release-a7bb971"},this._params),this.tokenParams),transport:x});this._socket=e,this.tokenParams.authToken&&(e.reconnectTimer.reset(),e.reconnectTimer={reset:()=>{},scheduleTimeout:()=>{}}),e.onOpen((()=>{this._socket===e&&this.eventEmitter.emit("connectionStatusChanged",!0)})),e.onClose((()=>{this._socket===e&&this.eventEmitter.emit("connectionStatusChanged",!1)})),e.connect()}catch(e){throw e}}leaveChannel(e){let t;t="string"==typeof e?this._getChannelRefName(e):e.name;this._channels[t].leave(),delete this._channels[t]}disconnect(){this._socket&&(this._leaveChannels(),this._disconnectSocket(this._socket))}async setAuth(e){var t,n;const r="open"===(null===(t=this._socket)||void 0===t?void 0:t.connectionState())||"connecting"===(null===(n=this._socket)||void 0===n?void 0:n.connectionState());return this.tokenParams.authToken===e&&r?"Already connected(ing) and auth tokens are same, noop":(this.tokenParams.authToken=e,this._socket?this._socket.isConnected()?this.blueGreenReconnect().then((()=>"Socket already connected, token is different, did blue green, success")).catch((e=>`Socket already connected, token is different, did blue green, failure: ${JSON.stringify(e)}`)):this.hardReconnect(this._socket).then((()=>"Socket disconnected, token is different, did hard reconnect, success")).catch((e=>`Socket disconnected, token is different, did hard reconnect, failure: ${JSON.stringify(e)}`)):"Socket doesn't exist, before first connection, updated token but did not reconnect")}hardReconnect(e){return new Promise(((t,n)=>{e.onOpen(t),e.onError((()=>n("Websocket failed to connect"))),e.disconnect((()=>e.connect()),1e3)}))}async blueGreenReconnect(){var e;const t=this._socket;this.connect({});const n=Object.values(this._channels).map((e=>e.connect(this._socket,t))),r=Object(k.b)();null===(e=this._socket)||void 0===e||e.onError((()=>{r.resolve()})),await Promise.race([Promise.all(n),r.promise]),this._disconnectSocket(t)}isConnected(){var e,t;return"open"===(null===(e=this._socket)||void 0===e?void 0:e.connectionState())||"connecting"===(null===(t=this._socket)||void 0===t?void 0:t.connectionState())}_leaveChannels(){for(const e of Object.values(this._channels))e.leave();this._channels={}}_disconnectSocket(e){e&&e.disconnect(void 0,1e3)}getOrJoin(e,t={},n,r){if(!this._socket)throw new Error("[TalkJS] Trying to join channel on socket that has not connected yet");const i=this._getChannelRefName(e);let o=this._channels[i];return o||(o=new M(this._socket,i,{initialData:t,onRejoin:n,onJoin:r}),this._channels[i]=o),Object(w.a)((t=>{t.channels[e]=o})),o}_getChannelRefName(e){return`${e}:${this._params.appId}`}}class M{constructor(e,t,n){this.name=t,this.startupOptions=n,this.currentInstanceId=void 0,this.leave=e=>this.phoenixChannel.leave(e),this.on=(e,t)=>this.phoenixChannel.on(e,t),this.off=(e,t)=>this.phoenixChannel.off(e,t),this.push=(e,t,n)=>this.phoenixChannel.push(e,t,n),this.joinRef=()=>this.phoenixChannel.joinRef(),this.connect(e)}connect(e,t){var n;const r=Object(k.b)(),i=this.phoenixChannel,o=null!==(n=null==i?void 0:i.bindings)&&void 0!==n?n:[];this.phoenixChannel=e.channel(this.name,this.startupOptions.initialData),this.phoenixChannel.bindings.push(...o);const s=()=>{if(t&&t.isConnected()){P(i.leave(),this.name).then(r.resolve).catch(r.resolve)}else r.resolve()};return this.phoenixChannel.join().receive("ok",(e=>{var n,r;s();const i=this.currentInstanceId;if(this.currentInstanceId=(e||{}).backend_instance_id||"not_implemented",void 0===i)return;const o=i!==this.currentInstanceId||!!(null==t?void 0:t.isConnected());null===(r=(n=this.startupOptions).onRejoin)||void 0===r||r.call(n,this,o)})).receive("error",(e=>{s()})).receive("timeout",(()=>{s()})),this.startupOptions.onJoin&&!i&&this.startupOptions.onJoin(this),r.promise}}function P(e,t){return new Promise(((n,r)=>{e.receive("ok",(e=>n(e))).receive("error",(e=>e&&e.api_error?r(new N.a(e.api_error)):r(e))).receive("timeout",(()=>{const e=`[TalkJS] Network issues for ${t}.`;console.warn(e),r(e)}))}))}},function(e,t,n){"use strict";function r(e){const t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";let n=0;const r=[],i=e===n;n=e;const o=new Array(8);for(let n=7;n>=0;n--)o[n]=t.charAt(e%64),e=Math.floor(e/64);if(0!==e)throw new Error("We should have converted the entire timestamp.");let s=o.join("");if(i){let e;for(e=11;e>=0&&63===r[e];e--)r[e]=0;r[e]++}else for(let e=0;e<12;e++)r[e]=Math.floor(64*Math.random());for(let e=0;e<12;e++)s+=t.charAt(r[e]);if(20!=s.length)throw new Error("Length should be 20.");return s}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(12);function i(e,t,n){if(!(t instanceof Array))throw console.error("`params` must be array"),new Error("`params` must be array");a({type:"response",params:t,method:e,___talkjs:!0},n)}let o=0;function s(e,t,n){return new Promise((async(i,s)=>{let l=!0;const h="respond_"+o++,d={[h]:e=>{m(),i(e)},[`error_${h}`]:e=>{m(),s(function(e){if(e&&e.__fakeError){const{message:t,stack:n}=e.__fakeError;e=new Error(t),n&&(e.stack=n)}return e}(e))}},f=await n(),p=e=>{c(u(e,{port:f}),{port:f,handlers:d})},m=()=>{l=!1,f.removeEventListener("message",p)};f.addEventListener("message",p);let g=200;for(;l;)a({type:"request",method:e,params:t,responseMethod:h,___talkjs:!0},f),await Object(r.c)(g),g=Math.min(5e3,1.2*g)}))}function a(e,t){t.postMessage(e)}function u(e,{port:t}){if(!e.data||e.data&&"object"!=typeof e.data)return null;if(!e.data.___talkjs)return null;const n=e.data;return n.method&&n.params?n:null}async function c(e,{port:t,handlers:n}){if(null===e)return;let r,o=n[e.method];if(o){try{r=Promise.resolve(o.apply(n,e.params))}catch(e){r=Promise.reject(e)}if("request"!==e.type)return r.catch((e=>{throw e}));{const n=e.responseMethod;r.then((e=>i(n,[e],t)),(e=>i(`error_${n}`,[h(e)],t)))}}}function l(e,t){const n=new Set;return i=>{const o=u(i,{port:e});if(null===o)return;if("response"===o.type)return void c(o,{port:e,handlers:t});const s=o.responseMethod;if(n.has(s))return;n.add(s);const a=()=>Object(r.c)(15e3).then((()=>n.delete(s)));c(o,{port:e,handlers:t}).then(a).catch(a)}}function h(e){return e&&e.message&&e.stack?{__fakeError:{message:e.message,stack:e.stack}}:e}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(22),s=n(13),a=n(7);class u extends s.a{constructor(e){super(e)}render(){var e;const t=Object(o.f)(this.props.entityTree,{contactInfo:this.props.contactInfo,suppression:this.props.suppression}),n=Object(o.b)(t,{formattedLinks:this.props.formattedLinks,sameTabLinkRules:this.props.sameTabLinkRules,enableEmojiImageFallback:this.props.enableEmojiImageFallback,highlight:this.props.highlight,useFallbackMentions:this.props.useFallbackMentions,customEmojiUrls:this.context?this.context.customEmojiUrls.display:{},contactInfoHiddenText:(null===(e=this.props.suppression)||void 0===e?void 0:e.replacement)||`(${this.props.t("CONTACT_INFORMATION_HIDDEN")})`});return i.a.createElement("span",{className:this.className()},...n)}}u.displayName="EntityTreeRenderer",u.defaultProps={emojis:!1},u.contextType=a.a,t.a=u},function(e,t,n){"use strict";function r(e,t=!1){return function(e,t=!1){return e.map((e=>{if("string"==typeof e)return e;switch(e.type){case"bold":return"*"+r(e.children)+"*";case"italic":return"_"+r(e.children)+"_";case"strikethrough":return"~"+r(e.children)+"~";case"blockquote":return r(e.children).split("\n").map((e=>"> "+e)).join("\n")+"\n";case"autolink":case"autoLink":return e.text;case"codeblock":case"codeBlock":return"```"+e.language+"\n"+e.text+"```";case"codespan":case"codeSpan":return"```"+e.text+"```";case"mention":return t?`<!!mention:${e.id}|${e.text}>`:`@${e.text}`;case"customemoji":case"customEmoji":return t?`<!!customemoji:${e.text}>`:e.text;case"link":return`<${e.url}|${r(e.children)}>`;case"actionlink":case"actionLink":case"actionbutton":case"actionButton":return function(e){const t=new URLSearchParams(e.params).toString(),n=t?e.action+"?"+t:e.action;return`<${e.type}:${n}|${r(e.children)}>`}(e);case"suppressed":case"emoji":return e.text;case"bulletlist":case"bulletList":return"\n"+r(e.children);case"bulletpoint":case"bulletPoint":return"- "+r(e.children)+"\n"}})).join("")}(e,t).trim()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(23);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(29),i=n(11);const o=Object(r.a)("Side",{id:null,read:!1,isUnread:!0,unreadMessageCount:0,ts:null,editedAt:null,text:null,entityTree:null,translatedText:null,translatedEntityTree:null,isByMe:null,senderId:null,type:null,attachment:null,location:null,custom:i.Map(),lastReadTs:null});function s(e){return e.lastMessageType?e.lastMessageType:e.lastMessageBody?"text":e.lastMessageAttachment?"media":e.lastMessageLocation?"location":void 0}t.a=class extends o{}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t,n,r){const i=n.map((e=>t.getStore(e)));let o=r;const s=()=>{o=this.onChange(o,e,...i)};i.forEach((e=>e.addChangeListener(s))),this.stop=()=>i.forEach((e=>e.removeChangeListener(s)))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(0),i=n.n(r),o=(n(210),n(121)),s=n(84);const a=i.a.memo((function(e){const{unicode:t}=e,[a,u]=Object(r.useState)((()=>":arslan:"!==t));if(Object(r.useEffect)((()=>{a&&!Object(o.b)(t)&&u(!1)}),[]),a)return i.a.createElement("span",{className:"Emoji"},t);const c=function(e){if(":arslan:"===e)return n(211);const t=Object(s.c)(e);return Object(s.a)(t)}(t);return i.a.createElement("img",{className:"Emoji",src:c,alt:t})}));function u(e){return i.a.createElement("img",{className:"Emoji",src:e.src,alt:e.alt})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));const r=new RegExp(":arslan:|"+/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g.source,"g"),i=/\uFE0F/g,o=String.fromCharCode(8205);function s(e){const t=[];let n;for(;n=r.exec(e);){const e=n[0],r=n.index;t.push({offset:r,matchedText:e})}return t}function a(e){return function(e){const t=[];let n=0,r=0,i=0;for(;i<e.length;)n=e.charCodeAt(i++),r?(t.push((65536+(r-55296<<10)+(n-56320)).toString(16)),r=0):55296<=n&&n<=56319?r=n:t.push(n.toString(16));return t.join("-")}(e.indexOf(o)<0?e.replace(i,""):e)}function u(e){return`https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/${e}.svg`}},function(e,t,n){(function(){"use strict";var t,n,r,i,o,s,a,u,c={ramda:"placeholder"},l=function(e,t){return e+t},h=function(e,t){for(var n=-1;++n<t.length;)if(!e(t[n]))return!1;return!0},d=function(e,t){for(var n=-1;++n<t.length;)if(e(t[n]))return!0;return!1},f=function(e,t,n){var r={};for(var i in n)r[i]=n[i];return r[e]=t,r},p=function(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))},m=function(e){return function(){return!e.apply(this,arguments)}},g=function(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=-1;++n<r;)o[o.length]=e[n];for(n=-1;++n<i;)o[o.length]=t[n];return o},E=function(e,t,n){for(var r=-1,i=n.length;++r<i;)if(e(t,n[r]))return!0;return!1},_=function(e,t){var n={};return n[e]=t,n},v=function(e){return function(t,n){if(n&&n.length>0){for(var r,i=0,o=n[i],s=t(o);++i<n.length;)r=t(n[i]),e(r,s)&&(s=r,o=n[i]);return o}}},A=function(e){return function t(n){return 0===arguments.length||n===c?t:e(n)}},y=function(e){return function t(n,r){var i=arguments.length;return 0===i||1===i&&n===c?t:1===i?A((function(t){return e(n,t)})):2===i&&n===c&&r===c?t:2===i&&n===c?A((function(t){return e(t,r)})):2===i&&r===c?A((function(t){return e(n,t)})):e(n,r)}},O=function(e){return function t(n,r,i){var o=arguments.length;return 0===o||1===o&&n===c?t:1===o?y((function(t,r){return e(n,t,r)})):2===o&&n===c&&r===c?t:2===o&&n===c?y((function(t,n){return e(t,r,n)})):2===o&&r===c?y((function(t,r){return e(n,t,r)})):2===o?A((function(t){return e(n,r,t)})):3===o&&n===c&&r===c&&i===c?t:3===o&&n===c&&r===c?y((function(t,n){return e(t,n,i)})):3===o&&n===c&&i===c?y((function(t,n){return e(t,r,n)})):3===o&&r===c&&i===c?y((function(t,r){return e(n,t,r)})):3===o&&n===c?A((function(t){return e(t,r,i)})):3===o&&r===c?A((function(t){return e(n,t,i)})):3===o&&i===c?A((function(t){return e(n,r,t)})):e(n,r,i)}},S=function(e,t){var n={};for(var r in t)r!==e&&(n[r]=t[r]);return n},b=function(e,t){for(var n=-1,r=t.length,i=[];++n<r;)e(t[n])&&(i[i.length]=t[n]);return i},D=function(e,t){for(var n=-1,r=t.length,i=[];++n<r;)e(t[n],n,t)&&(i[i.length]=t[n]);return i},T=function(e){return function(t){return b((function(e){return"function"==typeof t[e]}),e(t))}},C=function(e,t){return e>t},R=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},I=function(e){return e},N=function(e,t,n){var r=0,i=e.length;for("number"==typeof n&&(r=n<0?Math.max(0,i+n):n);r<i;){if(e[r]===t)return r;++r}return-1},w=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},k=Number.isInteger||function(e){return e<<0===e},x=function(e){return null!=e&&e===Object(e)&&"function"==typeof e.then},L=function(e){return"function"==typeof e.step&&"function"==typeof e.result},M=function(e,t){return e<t},P=function(e,t){for(var n=-1,r=t.length,i=[];++n<r;)i[n]=e(t[n]);return i},F=function(e,t){return e*t},j=function(e,t){return e<0?t[t.length+e]:t[e]},B=function(e,t){if(null!=t&&0!==e.length){for(var n=t,r=0,i=e.length;r<i&&null!=n;r+=1)n=n[e[r]];return n}},U=function(e){return e&&e.__transducers_reduced__?e:{value:e,__transducers_reduced__:!0}},H=function e(t,n,r){switch(arguments.length){case 1:return e(t,0,t.length);case 2:return e(t,n,t.length);default:for(var i=Math.max(0,r-n),o=[],s=-1;++s<i;)o[s]=t[n+s];return o}},z=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.all&&(e=this.xf.step(e,!0)),this.xf.result(e)},e.prototype.step=function(e,t){return this.f(t)||(this.all=!1,e=U(this.xf.step(e,!1))),e},y((function(t,n){return new e(t,n)}))}(),V=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.any||(e=this.xf.step(e,!1)),this.xf.result(e)},e.prototype.step=function(e,t){return this.f(t)&&(this.any=!0,e=U(this.xf.step(e,!0))),e},y((function(t,n){return new e(t,n)}))}(),G=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(e)},e.prototype.step=function(e,t){return this.n>0?(this.n-=1,e):this.xf.step(e,t)},y((function(t,n){return new e(t,n)}))}(),$=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(e)},e.prototype.step=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf.step(e,t)},y((function(t,n){return new e(t,n)}))}(),Y=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(e)},e.prototype.step=function(e,t){return this.f(t)?this.xf.step(e,t):e},y((function(t,n){return new e(t,n)}))}(),W=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.found||(e=this.xf.step(e,void 0)),this.xf.result(e)},e.prototype.step=function(e,t){return this.f(t)&&(this.found=!0,e=U(this.xf.step(e,t))),e},y((function(t,n){return new e(t,n)}))}(),K=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.found||(e=this.xf.step(e,-1)),this.xf.result(e)},e.prototype.step=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=U(this.xf.step(e,this.idx))),e},y((function(t,n){return new e(t,n)}))}(),q=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(this.xf.step(e,this.last))},e.prototype.step=function(e,t){return this.f(t)&&(this.last=t),e},y((function(t,n){return new e(t,n)}))}(),X=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(this.xf.step(e,this.lastIdx))},e.prototype.step=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},y((function(t,n){return new e(t,n)}))}(),J=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(e)},e.prototype.step=function(e,t){return this.xf.step(e,this.f(t))},y((function(t,n){return new e(t,n)}))}(),Z=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(e)},e.prototype.step=function(e,t){return this.n-=1,0===this.n?U(this.xf.step(e,t)):this.xf.step(e,t)},y((function(t,n){return new e(t,n)}))}(),Q=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){return this.xf.result(e)},e.prototype.step=function(e,t){return this.f(t)?this.xf.step(e,t):U(e)},y((function(t,n){return new e(t,n)}))}(),ee=function(){function e(e){this.f=e}return e.prototype.init=function(){throw new Error("init not implemented on XWrap")},e.prototype.result=function(e){return e},e.prototype.step=function(e,t){return this.f(e,t)},function(t){return new e(t)}}(),te=y(l),ne=A((function(e){return function(){return e}})),re=y((function(e,t){return e&&t})),ie=y((function(e,t){for(var n=-1,r=t.length-(e-1),i=new Array(r>=0?r:0);++n<r;)i[n]=H(t,n,n+e);return i})),oe=y((function(e,t){return e.apply(this,t)})),se=y((function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,s){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,s,a){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,s,a,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,s,a,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,s,a,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to arity must be a non-negative integer no greater than ten")}})),ae=O(f),ue=y((function(e,t){return se(e.length,(function(){return e.apply(t,arguments)}))})),ce=y((function(e,t){return function(){return e.apply(this,arguments)&&t.apply(this,arguments)}})),le=A((function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}})),he=A(m),de=O(E),fe=y((function(e,t){for(var n={},r=t.length,i=-1;++i<r;){var o=e(t[i]);n[o]=(R(o,n)?n[o]:0)+1}return n})),pe=y(_),me=y((function e(t,n){return se(t,(function(){for(var r=arguments.length,i=t-r,o=r;--o>=0;)arguments[o]===c&&(i+=1);if(i<=0)return n.apply(this,arguments);var s=H(arguments);return e(i,(function(){for(var e=H(arguments),t=[],i=-1;++i<r;){var o=s[i];t[i]=o===c?e.shift():o}return n.apply(this,t.concat(e))}))}))})),ge=te(-1),Ee=y((function(e,t){return null==t?e:t})),_e=O((function(e,t,n){for(var r=[],i=-1,o=t.length,s=de(e);++i<o;)s(t[i],n)||s(t[i],r)||(r[i]=t[i]);return r})),ve=y(S),Ae=y((function(e,t){return e/t})),ye=y((function(e,t){return function(){return e.apply(this,arguments)||t.apply(this,arguments)}})),Oe=y((function(e,t){return 0===e?1/e==1/t:e===t||e!=e&&t!=t})),Se=O((function(e,t,n){return t[e]===n[e]})),be=y(D),De=y((function(e,t){for(var n=-1,r=t.length;++n<r;)e(t[n]);return t})),Te=y((function(e,t){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t);return t})),Ce=A((function(e){for(var t=-1,n=e.length,r={};++t<n;)w(e[t])&&e[t].length&&(r[e[t][0]]=e[t][1]);return r})),Re=y(C),Ie=y((function(e,t){return e>=t})),Ne=y(R),we=y((function(e,t){return e in t})),ke=A(I),xe=O((function(e,t,n){return me(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),Le=te(1),Me=y((function(e,t){return N(t,e)})),Pe=O((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,g(g(H(n,0,e),t),H(n,e))})),Fe=y((function(e,t){return null!=t&&t.constructor===e||t instanceof e})),je=A((function(e){return!!w(e)||!!e&&("object"==typeof e&&(!(e instanceof String)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),Be=A((function(e){return 0===Object(e).length})),Ue=A((function(e){return"number"==typeof e&&e!=e})),He=A((function(e){return null==e})),ze=A((function(e){for(var t=e.length,n=-1;++n<t;)if(N(e,e[n],n+1)>=0)return!1;return!0})),Ve=A((function(e){var t,n=[];for(t in e)n[n.length]=t;return n})),Ge=y((function(e,t){return function(e,t,n){var r=e.length;for("number"==typeof n&&(r=n<0?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1}(t,e)})),$e=A((function(e){return null!=e&&Fe(Number,e.length)?e.length:NaN})),Ye=y((function(e,t){var n=function(t){return e(t)};return n.set=y(t),n.map=y((function(n,r){return t(n(e(r)),r)})),n})),We=O((function(e,t,n){var r=function(){return e(n)};return r.set=t,r.map=function(r){return t(r(e(n)))},r})),Ke=y(M),qe=y((function(e,t){return e<=t})),Xe=O((function(e,t,n){for(var r=-1,i=n.length,o=[],s=[t];++r<i;)s=e(s[0],n[r]),o[r]=s[1];return[s[0],o]})),Je=O((function(e,t,n){for(var r=n.length,i=[],o=[t];--r>=0;)o=e(o[0],n[r]),i[r]=o[1];return[o[0],i]})),Ze=y((function(e,t){for(var n=-1,r=t.length,i=[];++n<r;)i[n]=e(t[n],n,t);return i})),Qe=y((function(e,t){return k(e)?!k(t)||t<1?NaN:(e%t+t)%t:NaN})),et=y(v(C)),tt=(t=function(e){return e+"::"+Object.prototype.toString.call(e)},n=function(e){return e.length+":{"+P(t,e).join(",")+"}"},A((function(e){var t={};return function(){var r=n(arguments);return R(r,t)||(t[r]=e.apply(this,arguments)),t[r]}}))),nt=y(v(M)),rt=y((function(e,t){return e%t})),it=y(F),ot=y((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,s){return t.call(this,e,n,r,i,o,s)};case 7:return function(e,n,r,i,o,s,a){return t.call(this,e,n,r,i,o,s,a)};case 8:return function(e,n,r,i,o,s,a,u){return t.call(this,e,n,r,i,o,s,a,u)};case 9:return function(e,n,r,i,o,s,a,u,c){return t.call(this,e,n,r,i,o,s,a,u,c)};case 10:return function(e,n,r,i,o,s,a,u,c,l){return t.call(this,e,n,r,i,o,s,a,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),st=A((function(e){return-e})),at=A((function(e){return!e})),ut=y(j),ct=A((function(e){return function(){return j(e,arguments)}})),lt=y((function(e,t){return t.charAt(e<0?t.length+e:e)})),ht=y((function(e,t){return t.charCodeAt(e<0?t.length+e:e)})),dt=A((function(e){return[e]})),ft=y((function(e,t){var n={};for(var r in t)N(e,r)<0&&(n[r]=t[r]);return n})),pt=A((function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}})),mt=y((function(e,t){return e||t})),gt=y(B),Et=O((function(e,t,n){return B(e,n)===t})),_t=y((function(e,t){var n={};for(var r in t)N(e,r)>=0&&(n[r]=t[r]);return n})),vt=y((function(e,t){for(var n={},r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n})),At=y((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n})),yt=y((function(e,t){return g([e],t)})),Ot=y((function(e,t){return t[e]})),St=O((function(e,t,n){return n[e]===t})),bt=O((function(e,t,n){return R(t,n)?n[t]:e})),Dt=y((function(e,t){for(var n=e.length,r=[],i=-1;++i<n;)r[i]=t[e[i]];return r})),Tt=y((function(e,t){for(var n=[],r=e;r<t;)n[n.length]=r,r+=1;return n})),Ct=O((function(e,t,n){for(var r=-1,i=n.length;++r<i;)t=e(t,n[r],r,n);return t})),Rt=O((function(e,t,n){for(var r=n.length;--r>=0;)t=e(t,n[r]);return t})),It=O((function(e,t,n){for(var r=n.length;--r>=0;)t=e(t,n[r],r,n);return t})),Nt=y((function(e,t){return D(m(e),t)})),wt=O((function(e,t,n){return g(H(n,0,Math.min(e,n.length)),H(n,Math.min(n.length,e+t)))})),kt=O((function(e,t,n){return n.replace(e,t)})),xt=A((function(e){return H(e).reverse()})),Lt=O((function(e,t,n){for(var r=0,i=n.length+1,o=[t];++r<i;)t=e(t,n[r-1]),o[r]=t;return o})),Mt=y((function(e,t){return H(t).sort((function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}))})),Pt=y((function(e,t){return t.indexOf(e)})),Ft=y((function(e,t){return t.lastIndexOf(e)})),jt=y((function(e,t){return e-t})),Bt=y((function(e,t){return e(t),t})),Ut=y((function(e,t){return p(e).test(t)})),Ht=y((function(e,t){for(var n=Number(t),r=new Array(n),i=0;i<n;)r[i]=e(i),i+=1;return r})),zt=A((function(e){var t=[];for(var n in e)R(n,e)&&(t[t.length]=[n,e[n]]);return t})),Vt=A((function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t})),Gt=(r="\t\n\v\f\r \u2028\u2029\ufeff","function"==typeof String.prototype.trim&&!r.trim()&&"".trim()?A((function(e){return e.trim()})):A((function(e){var t=new RegExp("^["+r+"]["+r+"]*"),n=new RegExp("["+r+"]["+r+"]*$");return e.replace(t,"").replace(n,"")}))),$t=A((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})),Yt=A((function(e){return function(){return e(H(arguments))}})),Wt=A((function(e){return ot(1,e)})),Kt=y((function(e,t){for(var n=e(t),r=[];n&&n.length;)r[r.length]=n[0],n=e(n[1]);return r})),qt=y((function(e,t){for(var n,r=-1,i=t.length,o=[];++r<i;)n=t[r],E(e,n,o)||(o[o.length]=n);return o})),Xt=A((function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n})),Jt=y((function(e,t){return me(e.length,(function(){return t.apply(this,g([e],arguments))}))})),Zt=y((function(e,t){for(var n,r=-1,i=e.length,o=t.length,s=[];++r<i;)for(n=-1;++n<o;)s[s.length]=[e[r],t[n]];return s})),Qt=y((function(e,t){for(var n=[],r=-1,i=Math.min(e.length,t.length);++r<i;)n[r]=[e[r],t[r]];return n})),en=y((function(e,t){for(var n=-1,r=e.length,i={};++n<r;)i[e[n]]=t[n];return i})),tn=O((function(e,t,n){for(var r=[],i=-1,o=Math.min(t.length,n.length);++i<o;)r[i]=e(t[i],n[i]);return r})),nn=ne(!1),rn=ne(!0),on=function(e,t){return g(t,[e])},sn=function e(t,n,r){var i=function(i){for(var o=n.length,s=-1;++s<o;)if(t===n[s])return r[s];for(var a in n[s+1]=t,r[s+1]=i,t)i[a]=e(t[a],n,r);return i};switch($t(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t);case"RegExp":return p(t);default:return t}},an=function(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return w(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,H(arguments,0,n-1))}},un=function(e,t){return N(t,e)>=0},cn=function(e){return function(){for(var t=arguments.length-1,n=arguments[t],r=n.length;--t>=0;)n=e(arguments[t],n);return se(r,n)}},ln=function(e,t){return A((function(n){for(var r,i=-1,o=t;++i<n.length;)r=+n[i],e(r,o)&&(o=r);return o}))},hn=function(e){return function(t){var n=H(arguments,1);return se(Math.max(0,t.length-n.length),(function(){return t.apply(this,e(n,arguments))}))}},dn=function(e,t,n){return function(){var r=arguments.length;if(0===r)return n();var i=arguments[r-1];if(!w(i)){var o=H(arguments,0,r-1);if("function"==typeof i[e])return i[e].apply(i,o);if(L(i)){var s=t.apply(null,o);return s(i)}}return n.apply(this,arguments)}},fn=function(e,t){return null!=t&&!w(t)&&"function"==typeof t[e]},pn=function(e){return function t(n){for(var r,i,o,s=[],a=-1,u=n.length;++a<u;)if(je(n[a]))for(i=-1,o=(r=e?t(n[a]):n[a]).length;++i<o;)s[s.length]=r[i];else s[s.length]=n[a];return s}},mn=function(e,t){return P(Ot(e),t)},gn=function(){function e(e,t,n){for(var r=n.next();!r.done;){if((t=e.step(t,r.value))&&t.__transducers_reduced__){t=t.value;break}r=n.next()}return e.result(t)}var t="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(n,r,i){if("function"==typeof n&&(n=ee(n)),je(i))return function(e,t,n){for(var r=-1,i=n.length;++r<i;)if((t=e.step(t,n[r]))&&t.__transducers_reduced__){t=t.value;break}return e.result(t)}(n,r,i);if("function"==typeof i.reduce)return function(e,t,n){return e.result(n.reduce(ue(e.step,e),t))}(n,r,i);if(null!=i[t])return e(n,r,i[t]());if("function"==typeof i.next)return e(n,r,i);throw new TypeError("reduce: list must be array or iterable")}}(),En=function(){function e(e,t){this.xf=t,this.f=e,this.inputs={}}return e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(e){var t;for(t in this.inputs)if(R(t,this.inputs)&&(e=this.xf.step(e,this.inputs[t])).__transducers_reduced__){e=e.value;break}return this.xf.result(e)},e.prototype.step=function(e,t){var n=this.f(t);return this.inputs[n]=this.inputs[n]||[n,[]],this.inputs[n][1]=on(t,this.inputs[n][1]),e},y((function(t,n){return new e(t,n)}))}(),_n=y(dn("all",z,h)),vn=y(dn("any",V,d)),An=y(on),yn=O((function e(t,n,r){switch(t.length){case 0:return r;case 1:return f(t[0],n,r);default:return f(t[0],e(H(t,1),n,Object(r[t[0]])),r)}})),On=A((function(e){return ot(2,e)})),Sn=A((function(e){return sn(e,[],[])})),bn=cn((function(e,t){return function(){return e.call(this,t.apply(this,arguments))}})),Dn=cn((function(e,t){return function(){var n=this,r=t.apply(this,arguments);return x(r)?r.then((function(t){return e.call(n,t)})):e.call(this,r)}})),Tn=y((function(e,t){if(w(t))return g(e,t);if(fn("concat",e))return e.concat(t);throw new TypeError("can't concat "+typeof e)})),Cn=y(un),Rn=me(3,(function(e){var t=H(arguments,1);return function(){var n=arguments;return e.apply(this,P((function(e){return e.apply(this,n)}),t))}})),In=A((function(e){return me(e.length,e)})),Nn=y((function(e,t){for(var n=[],r=-1,i=e.length;++r<i;)un(e[r],t)||un(e[r],n)||(n[n.length]=e[r]);return n})),wn=y((function e(t,n){switch(t.length){case 0:return n;case 1:return S(t[0],n);default:var r=t[0],i=H(t,1);return null==n[r]?n:f(r,e(i,n[r]),n)}})),kn=y(dn("drop",G,(function(e,t){return e<t.length?H(t,e):[]}))),xn=y(dn("dropWhile",$,(function(e,t){for(var n=-1,r=t.length;++n<r&&e(t[n]););return H(t,n)}))),Ln=A((function(e){return fn("empty",e)?e.empty():[]})),Mn=y(dn("filter",Y,b)),Pn=y(dn("find",W,(function(e,t){for(var n=-1,r=t.length;++n<r;)if(e(t[n]))return t[n]}))),Fn=y(dn("findIndex",K,(function(e,t){for(var n=-1,r=t.length;++n<r;)if(e(t[n]))return n;return-1}))),jn=y(dn("findLast",q,(function(e,t){for(var n=t.length;--n>=0;)if(e(t[n]))return t[n]}))),Bn=y(dn("findLastIndex",X,(function(e,t){for(var n=t.length;--n>=0;)if(e(t[n]))return n;return-1}))),Un=A(pn(!0)),Hn=A((function(e){return In((function(t,n){var r=H(arguments);return r[0]=n,r[1]=t,e.apply(this,r)}))})),zn=In((function(e,t){return t[e].apply(t,H(arguments,2))})),Vn=A(T(Ve)),Gn=y(dn("groupBy",En,(function(e,t){return gn((function(t,n){var r=e(n);return t[r]=on(n,t[r]||(t[r]=[])),t}),{},t)}))),$n=ut(0),Yn=O((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,g(on(t,H(n,0,e)),H(n,e))})),Wn=O((function(e,t,n){for(var r=[],i=-1;++i<t.length;)E(e,t[i],n)&&(r[r.length]=t[i]);return qt(e,r)})),Kn=In((function(e,t,n){return n[e].apply(n,t)})),qn=In((function(e,t){var n=H(arguments,2),r=e-n.length;return me(r+1,(function(){var e=arguments[r],i=n.concat(H(arguments,0,r));return e[t].apply(e,i)}))})),Xn=qn(1,"join"),Jn=(i=!{toString:null}.propertyIsEnumerable("toString"),o=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],A((function(e){if(Object(e)!==e)return[];if(Object.keys)return Object.keys(e);var t,n,r=[];for(t in e)R(t,e)&&(r[r.length]=t);if(i)for(n=o.length;--n>=0;)R(t=o[n],e)&&!un(t,r)&&(r[r.length]=t);return r}))),Zn=ut(-1),Qn=y(dn("map",J,P)),er=y((function(e,t){return gn((function(n,r){return n[r]=e(t[r]),n}),{},Jn(t))})),tr=y((function(e,t){return gn((function(n,r){return n[r]=e(t[r],r,t),n}),{},Jn(t))})),nr=qn(1,"match"),rr=ln(C,-1/0),ir=ln(M,1/0),or=y(m(dn("any",V,d))),sr=In(hn(g)),ar=In(hn(Hn(g))),ur=y((function(e,t){return gn((function(t,n){var r=t[e(n)?0:1];return r[r.length]=n,t}),[[],[]],t)})),cr=y(mn),lr=O(gn),hr=y((function(e,t){return Mn(m(e),t)})),dr=y((function(e,t){return Ht(ne(e),t)})),fr=O(an("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),pr=y((function(e,t){return Sn(t).sort(e)})),mr=qn(1,"split"),gr=fr,Er=gr(c,1/0),_r=gr(0),vr=lr(l,0),Ar=an("tail",(function(e){return H(e,1)})),yr=y(dn("take",Z,(function(e,t){return H(t,0,Math.min(e,t.length))}))),Or=y(dn("takeWhile",Q,(function(e,t){for(var n=-1,r=t.length;++n<r&&e(t[n]););return H(t,0,n)}))),Sr=qn(0,"toLowerCase"),br=qn(0,"toUpperCase"),Dr=me(4,(function(e,t,n,r){return gn(e("function"==typeof t?ee(t):t),n,r)})),Tr=O((function(e,t,n){return qt(e,g(t,n))})),Cr=A((function(e){for(var t,n=-1,r=e.length,i=[];++n<r;)t=e[n],un(t,i)||(i[i.length]=t);return i})),Rr=A(pn(!1)),Ir=In((function(e){var t=H(arguments,1),n=t.length;return In(se(n,(function(){for(var r=[],i=-1;++i<n;)r[i]=t[i](arguments[i]);return e.apply(this,r.concat(H(arguments,n)))})))})),Nr=A((function(e){for(var t=Jn(e),n=t.length,r=[],i=-1;++i<n;)r[i]=e[t[i]];return r})),wr=y((function(e,t){var n=Gn((function(t){return"function"==typeof e[t]?"fn":"obj"}),Jn(e));return function(e,t,n){if(e===n)return!0;if(null==n)return!1;t.fn=t.fn||[],t.obj=t.obj||[];for(var r,i,o=-1,s=t.fn.length,a=-1,u=t.obj.length;++o<s;){if(i=e[r=t.fn[o]],!(r in n))return!1;if(!i(n[r],n))return!1}for(;++a<u;)if(e[r=t.obj[a]]!==n[r])return!1;return!0}(e,n,t)})),kr=function e(t,n,r,i){var o=$t(t);if(o!==$t(n))return!1;if(Oe(t,n))return!0;if("RegExp"==o)return t.source===n.source&&t.global===n.global&&t.ignoreCase===n.ignoreCase&&t.multiline===n.multiline&&t.sticky===n.sticky&&t.unicode===n.unicode;if(Object(t)===t){if("Date"===o&&t.getTime()!=n.getTime())return!1;var s=Jn(t);if(s.length!==Jn(n).length)return!1;for(var a=r.length;--a>=0;)if(r[a]===t)return i[a]===n;for(r[r.length]=t,i[i.length]=n,a=s.length;--a>=0;){var u=s[a];if(!R(u,n)||!e(n[u],t[u],r,i))return!1}return r.pop(),i.pop(),!0}return!1},xr=function(e,t){for(var n=Jn(t),r=-1,i=n.length;++r<i;)e[n[r]]=t[n[r]];return e},Lr=function(e){return function(t){var n=function(){var n=arguments;return e((function(e){return e.apply(null,n)}),t)};return arguments.length>1?n.apply(null,H(arguments,1)):se(rr(mn("length",t)),n)}},Mr=In(Lr(h)),Pr=In(Lr(d)),Fr=y((function(e,t){return fn("ap",e)?e.ap(t):gn((function(e,n){return g(e,Qn(n,t))}),[],e)})),jr=In((function(e){return e.apply(this,H(arguments,1))})),Br=y(an("chain",(function(e,t){return Rr(P(e,t))}))),Ur=qn(1,"charAt"),Hr=qn(1,"charCodeAt"),zr=O((function(e,t,n){return gn((function(t,n){return Fr(Qn(An,e(n)),t)}),t([]),n)})),Vr=y((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:In(ot(e,(function(e,n,r,i,o,s,a,u,c,l){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,n);case 3:return new t(e,n,r);case 4:return new t(e,n,r,i);case 5:return new t(e,n,r,i,o);case 6:return new t(e,n,r,i,o,s);case 7:return new t(e,n,r,i,o,s,a);case 8:return new t(e,n,r,i,o,s,a,u);case 9:return new t(e,n,r,i,o,s,a,u,c);case 10:return new t(e,n,r,i,o,s,a,u,c,l)}})))})),Gr=y((function(e,t){return kr(e,t,[],[])})),$r=y((function(e,t){return xr(xr({},t),tr((function(e,n){return e(t[n])}),e))})),Yr=A(T(Jn)),Wr=fr(0,-1),Kr=y((function(e,t){return Cr(b(Hn(un)(e),t))})),qr=A((function(e){for(var t=Jn(e),n=t.length,r=-1,i={};++r<n;){var o=t[r],s=e[o],a=R(s,i)?i[s]:i[s]=[];a[a.length]=o}return i})),Xr=A((function(e){for(var t=Jn(e),n=t.length,r=-1,i={};++r<n;){var o=t[r];i[e[o]]=o}return i})),Jr=y((function(e,t){var n=me(e,t);return me(e,(function(){return gn(Fr,Qn(n,arguments[0]),H(arguments,1))}))})),Zr=y((function(e,t){return xr(xr({},e),t)})),Qr=A((function(e){return lr(Zr,{},e)})),ei=lr(F,1),ti=Ir(P,vt,ke),ni=y(bn(Cr,g)),ri=(s={init:Array,step:function(e,t){return g(e,[t])},result:I},a={init:String,step:l,result:I},u={init:Object,step:function(e,t){return Zr(e,je(t)?_(t[0],t[1]):t)},result:I},function(e){if(L(e))return e;if(je(e))return s;if("string"==typeof e)return a;if("object"==typeof e)return u;throw new Error("Cannot create transformer for "+e)}),ii=zr(Qn(ke)),oi=A((function(e){return Vr(e.length,e)})),si=O((function(e,t,n){return L(e)?gn(t(e),e.init(),n):gn(t(ri(e)),e,n)})),ai=A((function(e){return Jr(e.length,e)})),ui={F:nn,T:rn,__:c,add:te,all:_n,allPass:Mr,always:ne,and:re,any:vn,anyPass:Pr,ap:Fr,aperture:ie,append:An,apply:oe,arity:se,assoc:ae,assocPath:yn,binary:On,bind:ue,both:ce,call:jr,chain:Br,charAt:Ur,charCodeAt:Hr,clone:Sn,commute:ii,commuteMap:zr,comparator:le,complement:he,compose:bn,composeP:Dn,concat:Tn,cond:function(){var e=arguments;return function(){for(var t=-1;++t<e.length;)if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments)}},construct:oi,constructN:Vr,contains:Cn,containsWith:de,converge:Rn,countBy:fe,createMapEntry:pe,curry:In,curryN:me,dec:ge,defaultTo:Ee,difference:Nn,differenceWith:_e,dissoc:ve,dissocPath:wn,divide:Ae,drop:kn,dropWhile:xn,either:ye,empty:Ln,eq:Oe,eqDeep:Gr,eqProps:Se,evolve:$r,filter:Mn,filterIndexed:be,find:Pn,findIndex:Fn,findLast:jn,findLastIndex:Bn,flatten:Un,flip:Hn,forEach:De,forEachIndexed:Te,fromPairs:Ce,func:zn,functions:Yr,functionsIn:Vn,groupBy:Gn,gt:Re,gte:Ie,has:Ne,hasIn:we,head:$n,identity:ke,ifElse:xe,inc:Le,indexOf:Me,init:Wr,insert:Yn,insertAll:Pe,intersection:Kr,intersectionWith:Wn,into:si,invert:qr,invertObj:Xr,invoke:Kn,invoker:qn,is:Fe,isArrayLike:je,isEmpty:Be,isNaN:Ue,isNil:He,isSet:ze,join:Xn,keys:Jn,keysIn:Ve,last:Zn,lastIndexOf:Ge,length:$e,lens:Ye,lensOn:We,lift:ai,liftN:Jr,lt:Ke,lte:qe,map:Qn,mapAccum:Xe,mapAccumRight:Je,mapIndexed:Ze,mapObj:er,mapObjIndexed:tr,match:nr,mathMod:Qe,max:rr,maxBy:et,memoize:tt,merge:Zr,mergeAll:Qr,min:ir,minBy:nt,modulo:rt,multiply:it,nAry:ot,negate:st,none:or,not:at,nth:ut,nthArg:ct,nthChar:lt,nthCharCode:ht,of:dt,omit:ft,once:pt,or:mt,partial:sr,partialRight:ar,partition:ur,path:gt,pathEq:Et,pick:_t,pickAll:vt,pickBy:At,pipe:function(){return bn.apply(this,xt(arguments))},pipeP:function(){return Dn.apply(this,xt(arguments))},pluck:cr,prepend:yt,product:ei,project:ti,prop:Ot,propEq:St,propOr:bt,props:Dt,range:Tt,reduce:lr,reduceIndexed:Ct,reduceRight:Rt,reduceRightIndexed:It,reject:hr,rejectIndexed:Nt,remove:wt,repeat:dr,replace:kt,reverse:xt,scan:Lt,slice:fr,sort:pr,sortBy:Mt,split:mr,strIndexOf:Pt,strLastIndexOf:Ft,substring:gr,substringFrom:Er,substringTo:_r,subtract:jt,sum:vr,tail:Ar,take:yr,takeWhile:Or,tap:Bt,test:Ut,times:Ht,toLower:Sr,toPairs:zt,toPairsIn:Vt,toUpper:br,transduce:Dr,trim:Gt,type:$t,unapply:Yt,unary:Wt,unfold:Kt,union:ni,unionWith:Tr,uniq:Cr,uniqWith:qt,unnest:Rr,useWith:Ir,values:Nr,valuesIn:Xt,where:wr,wrap:Jt,xprod:Zt,zip:Qt,zipObj:en,zipWith:tn};e.exports=ui}).call(this)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(143),o=Object(i.a)()?r.useLayoutEffect:r.useEffect},function(e,t,n){"use strict";var r=n(29),i=n(6);const o=Object(r.a)("Nym",{id:null,externalId:null,name:null,welcomeMessage:void 0,photoUrl:void 0,configuration:void 0,custom:{},availabilityText:void 0,locale:void 0,templateData:void 0});t.a=class extends o{getFirstName(){const e=this.name.match(/^[^\s]*/);return e?e[0]:""}photoUrlOrFallbackSvg(){return this.photoUrl?this.photoUrl:Object(i.d)(this.externalId,Object(i.f)(this.name))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(11),i=n(59),o=n.n(i),s=n(93),a=n(92),u=n(81),c=n(34),l=n(8),h=n(2);class d{constructor(e){this.meId=e}make(e){return new s.a({change:p.make(e),conversation:f.make(e),meId:this.meId})}patch(e,t,n){return e.merge({conversation:f.patch(e.conversation,t,n),change:p.patch(e.change,t,n)})}isDtoComplete(e){return m(e)}}const f={make(e){const t=new a.a({id:e.conversationId,externalId:e.conversationExternalId});return this.patch(t,e,{})},patch:(e,t,n)=>e.withMutations((e=>{var i,s;return e=e.merge(g({createdAt:t.conversationCreatedAt,subject:t.conversationSubject,topicId:t.conversationTopicId,photoUrl:t.conversationPhotoUrl,lastMessageTs:t.lastMessageTs})),e=Object(c.a)(e,"myRights",{canRead:null!==(i=t.canIRead)&&void 0!==i?i:e.myRights.canRead,canWrite:null!==(s=t.canIWrite)&&void 0!==s?s:e.myRights.canWrite}),e=Object(c.a)(e,"custom",t.conversationCustom),e=Object(c.a)(e,"welcomeMessages",t.conversationWelcomeMessages),void 0===t.participants||o()(n.participants,t.participants)||(e=e.set("participants",r.Map(t.participants))),e.forEach(((e,t)=>{l.f(e)?l.d(e,((e,n)=>Object(h.a)((()=>void 0!==e),`${t}[${n}] should not be undefined.`))):Object(h.a)((()=>void 0!==e),`${t} should not be undefined.`)})),e})),isDtoComplete:e=>m(e)},p={make(e){const t=new u.a({id:e.conversationId});return this.patch(t,e,{})},patch:(e,t)=>e.withMutations((e=>(e=e.merge(g({text:t.lastMessageBody,type:Object(u.b)(t),isByMe:t.isByMe,ts:t.lastMessageTs,editedAt:t.lastMessageEditedAt,senderId:t.lastMessageSenderId,read:!t.isUnread,isUnread:t.isUnread,unreadMessageCount:t.unreadMessageCount,lastReadTs:t.lastReadTs})),e=Object(c.a)(e,"entityTree",t.lastMessageEntityTree),e=Object(c.a)(e,"custom",t.lastMessageCustom),e=Object(c.a)(e,"attachment",t.lastMessageAttachment),e=Object(c.a)(e,"location",t.lastMessageLocation)))),isDtoComplete:e=>m(e)};function m(e){return void 0!==e.canIRead&&void 0!==e.canIWrite&&void 0!==e.participants}function g(e){return l.b(e,(e=>void 0!==e))}},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],r=n.join(","),i="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function o(e,t){t=t||{};var n,o,a,u=[],h=[],d=e.querySelectorAll(r);for(t.includeContainer&&i.call(e,r)&&(d=Array.prototype.slice.apply(d)).unshift(e),n=0;n<d.length;n++)s(o=d[n])&&(0===(a=c(o))?u.push(o):h.push({documentOrder:n,tabIndex:a,node:o}));return h.sort(l).map((function(e){return e.node})).concat(u)}function s(e){return!(!a(e)||function(e){return function(e){return h(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||c(e)<0)}function a(e){return!(e.disabled||function(e){return h(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}o.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==i.call(e,r)&&s(e)},o.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==i.call(e,u)&&a(e)};var u=n.concat("iframe").join(",");function c(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function l(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function h(e){return"INPUT"===e.tagName}e.exports=o},function(e,t,n){var r=n(148),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n(24),i=n(49),o=n(71);function s(e,t,n={except:[]}){if(void 0===e)return"";const s=Object(r.b)(e,n),a=Object(o.a)(s,t);return Object(i.b)(a,t)}function a(e,t,{replaceMessages:n=!1,fakeCustomFields:r=!1}={}){let i;return i=n?/{{\s*(app\.name|app\.id|app\.locale|messages\.all|sender\.id|sender\.name|recipient\.id|recipient\.name|conversation\.id|conversation\.subject|conversation\.topicId|(?:(sender|conversation|recipient|app))\.custom\.(.+?))\s*}}/g:/{{\s*(app\.name|app\.id|app\.locale|sender\.id|sender\.name|recipient\.id|recipient\.name|conversation\.id|conversation\.subject|conversation\.topicId|(?:(sender|conversation|recipient|app))\.custom\.(.+?))\s*}}/g,e.replace(i,((e,n)=>{const i=function(e,t,n){const[r,i,o]=t.split(".");return"custom"===i?function(e,t,n,r){return e[t].custom?e[t].custom[n]:r?`${t}.custom.${n}_value`.toUpperCase():""}(e,r,o,n):void 0===e[r]?(console.log(`[TextFormatting][${e.app?e.app.id:""}]`,`${r} does not exist in the template data.`),`{{${r}.${i}}}`):e[r][i]}(t,n,r);return i?s(i,{formattedLinks:"link"}):""}))}},function(e,t,n){"use strict";var r=n(29),i=n(68),o=n(11),s=n(88),a=n(78),u=n(24),c=n(75);const l=Object(c.a)(0),h=Object(r.a)("Conversation",{id:null,externalId:null,createdAt:null,participants:o.Map(),topicId:null,subject:null,custom:null,welcomeMessages:null,photoUrl:null,myRights:null,lastMessageTs:null});t.a=class extends h{participantIds(e){return(e?this.participants.filter(e):this.participants).keySeq()}participantNyms(e,t){const n=this.participantIds(t).map((t=>[t,e.get(t)]));return o.Map(n.values())}otherIds(e,t){return this.participantIds(t).filter((t=>t!==e))}getOthers(e,t,n){return this.participantNyms(e,n).filter((e=>e.id!==t))}getOthersOrMe(e,t,n){const r=this.getOthers(e,t.id,n);return r.size>0?r:o.Map([[t.id,t]])}someonesRights(e){return this.participants.get(e)}isClosed(){return this.participants.every((e=>!1===e.canWrite))}generateUserWelcomeMessage(e){return new i.c({id:l,senderId:e.id,entityTree:Object(u.c)(e.welcomeMessage),text:e.welcomeMessage,createdAt:null})}appendMultipleMessages(e,t,n){var r,o,u;const c=n.map((e=>{var t;let n=new i.c({senderId:e.nym.id,text:Object(a.a)(e.entityTree),entityTree:e.entityTree,saved:!1,custom:e.custom,referencedMessageId:e.referencedMessageId});return e.id&&(n=n.set("id",e.id)),e.attachment&&(n=n.set("attachment",e.attachment)),e.location&&(n=n.set("location",e.location)),{message:n,received:null!==(t=e.received)&&void 0!==t&&t}})),l=c[c.length-1].message,h=s.b.make({conversationId:this.id,lastMessageBody:l.text,lastMessageAttachment:null!==(r=l.attachment)&&void 0!==r?r:null,lastMessageLocation:null!==(o=l.location)&&void 0!==o?o:null,lastMessageExternalId:l.externalId,isByMe:!0,lastMessageTs:t,lastMessageEditedAt:null,lastMessageSenderId:l.senderId,lastMessageRead:!0,isUnread:!1,lastMessageEntityTree:l.entityTree,lastMessageCustom:null!==(u=l.custom)&&void 0!==u?u:{}}),d=e.sayMany(this.id,t,c);return{messages:c.map((({message:e},t)=>e.set("id",d[t]))),side:h}}}},function(e,t,n){"use strict";var r=n(29),i=n(9),o=n(64);const s=Object(r.a)("Chat",{change:null,conversation:null,meId:null});t.a=class extends s{getMe(e){return e.find((e=>e.id===this.meId))}hasMessages(){return null!==this.change.senderId}isLastMessageSystemMessage(){return"SYSTEM"===this.change.senderId}isGuest(e){return!this.conversation.participants.has(e)}getUrl(){return`/user/${this.meId}/inbox/${this.conversation.id}`}isWithMe(){return 0===this.conversation.otherIds(this.meId,(e=>!0===e.canRead)).size}isGroupChat(){return this.conversation.otherIds(this.meId,(e=>e.canRead)).size>1}getFilterableConversation(){return{custom:this.conversation.custom||{},read:this.change.read,rights:this.conversation.myRights,subject:this.conversation.subject,lastMessageTs:this.conversation.lastMessageTs,createdAt:this.conversation.createdAt}}isMultilingual(e,t){return new Set(this.conversation.participantNyms(e).map((e=>i.a.decide(o.a,t,e.locale).meta.code)).toArray()).size>1}shouldTranslate(e,t,n){return!!e&&(e.perConv.hasOwnProperty(this.conversation.id)?e.perConv[this.conversation.id]:"auto"===e.global?this.isMultilingual(t,n):e.global)}shouldShowTranslationToggle(e,t,n){return!!e&&("auto"===e.showToggle?this.isMultilingual(t,n):e.showToggle)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(7);function o(e,t){const n=Object(r.useContext)(i.a),o=Object(r.useRef)();o.current||(o.current={stores:e.map((e=>n.stores.getStore(e.storeName))),handlers:[]});const[s,a]=Object(r.useState)(t(...o.current.stores));return Object(r.useEffect)((()=>(o.current.handlers=o.current.stores.map((e=>{const n=()=>a(t(...o.current.stores));return e.addChangeListener(n),{store:e,handler:n}})),()=>{o.current.handlers.forEach((({store:e,handler:t})=>e.removeChangeListener(t)))})),[]),s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=n.n(r).a.createContext(void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));function r(e,t){return Math.floor((t-e)/864e5)}function i(e,t,n){const i=r(t,e);if(i<0)return n.t("TODAY");if(0===i)return n.t("TODAY");if(1===i)return n.t("YESTERDAY");let o={weekday:"long"};const s=new Date(t);if(i<7)return s.toLocaleDateString(n.locale,o);const a=new Date(e);return t>a.setFullYear(a.getFullYear()-1)?s.toLocaleDateString(n.locale,Object.assign(Object.assign({},o),{month:"long",day:"numeric"})):s.toLocaleDateString(n.locale,Object.assign(Object.assign({},o),{year:"numeric",month:"long",day:"numeric"}))}const o=36e5,s=864e5;function a(e,t,n){const r=e-t;let i,a,c=new Date(t),l={month:"short",day:"numeric"};if(r<6e4)return{changeTimeout:5e3,formatted:n.t("JUST_NOW"),ariaLabel:n.t("JUST_NOW")};if(r<o)i=6e4,a="MINUTES";else if(r<s)i=o,a="HOURS";else{if(!(r<6048e5)){if(c.getFullYear()===new Date(e).getFullYear()){let e=c.toLocaleDateString(n.locale,l);return{changeTimeout:void 0,formatted:e,ariaLabel:e}}{let e=c.toLocaleDateString(n.locale,Object.assign(Object.assign({},l),{year:"numeric"}));return{changeTimeout:void 0,formatted:e,ariaLabel:e}}}i=s,a="DAYS"}const h=Math.floor(r/i);return{changeTimeout:i,formatted:h+n.t(a),ariaLabel:u(h,a.toLowerCase(),n.locale)}}function u(e,t,n){if(!window.Intl||!Intl.RelativeTimeFormat)return`${e} ${t} ago.`;return new Intl.RelativeTimeFormat(n).format(-e,t)}},function(e,t,n){"use strict";e.exports=n(202)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(147),i=n(127);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,u=s(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(e,t,n){"use strict";function r(e){return"boolean"==typeof e}function i(e){return!(!e||"[object Function]"!={}.toString.call(e))}function o(e){return"string"==typeof e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},function(e,t,n){"use strict";var r;!function(i){function o(e,t,n){var r,i,o,s,p,m,g,A,y,O=0,S=[],b=0,D=!1,T=[],C=[],R=!1;if(r=(n=n||{}).encoding||"UTF8",(y=n.numRounds||1)!==parseInt(y,10)||1>y)throw Error("numRounds must a integer >= 1");if("SHA-1"!==e)throw Error("Chosen SHA variant is not supported");p=512,m=_,g=v,s=160,A=function(e){return e.slice()},o=f(t,r),i=E(e),this.setHMACKey=function(t,n,o){var a;if(!0===D)throw Error("HMAC key already set");if(!0===R)throw Error("Cannot set HMAC key after calling update");for(t=(n=f(n,r=(o||{}).encoding||"UTF8")(t)).binLen,n=n.value,o=(a=p>>>3)/4-1,a<t/8&&(n=g(n,t,0,E(e),s));n.length<=o;)n.push(0);for(t=0;t<=o;t+=1)T[t]=909522486^n[t],C[t]=1549556828^n[t];i=m(T,i),O=p,D=!0},this.update=function(e){var t,n,r,s=0,a=p>>>5;for(e=(t=o(e,S,b)).binLen,n=t.value,t=e>>>5,r=0;r<t;r+=a)s+p<=e&&(i=m(n.slice(r,r+a),i),s+=p);O+=s,S=n.slice(s>>>5),b=e%p,R=!0},this.getHash=function(t,n){var r,o,f,p;if(!0===D)throw Error("Cannot call getHash after setting HMAC key");switch(f=d(n),t){case"HEX":r=function(e){return a(e,s,f)};break;case"B64":r=function(e){return u(e,s,f)};break;case"BYTES":r=function(e){return c(e,s)};break;case"ARRAYBUFFER":try{o=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return l(e,s)};break;case"UINT8ARRAY":try{o=new Uint8Array(0)}catch(e){throw Error("UINT8ARRAY not supported by this environment")}r=function(e){return h(e,s)};break;default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}for(p=g(S.slice(),b,O,A(i),s),o=1;o<y;o+=1)p=g(p,s,0,E(e),s);return r(p)},this.getHMAC=function(t,n){var r,o,f,_;if(!1===D)throw Error("Cannot call getHMAC without first setting HMAC key");switch(f=d(n),t){case"HEX":r=function(e){return a(e,s,f)};break;case"B64":r=function(e){return u(e,s,f)};break;case"BYTES":r=function(e){return c(e,s)};break;case"ARRAYBUFFER":try{r=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return l(e,s)};break;case"UINT8ARRAY":try{r=new Uint8Array(0)}catch(e){throw Error("UINT8ARRAY not supported by this environment")}r=function(e){return h(e,s)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return o=g(S.slice(),b,O,A(i),s),_=m(C,E(e)),r(_=g(o,s,p,_,s))}}function s(e,t,n){var r,i,o,s;for(t=t||[0],i=(n=n||0)>>>3,r=0;r<e.length;r+=1)o=(s=r+i)>>>2,t.length<=o&&t.push(0),t[o]|=e[r]<<8*(3+s%4*-1);return{value:t,binLen:8*e.length+n}}function a(e,t,n){var r,i,o="";for(t/=8,r=0;r<t;r+=1)i=e[r>>>2]>>>8*(3+r%4*-1),o+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return n.outputUpper?o.toUpperCase():o}function u(e,t,n){var r,i,o,s="",a=t/8;for(r=0;r<a;r+=3)for(i=r+1<a?e[r+1>>>2]:0,o=r+2<a?e[r+2>>>2]:0,o=(e[r>>>2]>>>8*(3+r%4*-1)&255)<<16|(i>>>8*(3+(r+1)%4*-1)&255)<<8|o>>>8*(3+(r+2)%4*-1)&255,i=0;4>i;i+=1)s+=8*r+6*i<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-i)&63):n.b64Pad;return s}function c(e,t){var n,r,i="",o=t/8;for(n=0;n<o;n+=1)r=e[n>>>2]>>>8*(3+n%4*-1)&255,i+=String.fromCharCode(r);return i}function l(e,t){var n,r,i=t/8,o=new ArrayBuffer(i);for(r=new Uint8Array(o),n=0;n<i;n+=1)r[n]=e[n>>>2]>>>8*(3+n%4*-1)&255;return o}function h(e,t){var n,r=t/8,i=new Uint8Array(r);for(n=0;n<r;n+=1)i[n]=e[n>>>2]>>>8*(3+n%4*-1)&255;return i}function d(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),"boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function f(e,t){var n;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":n=function(e,t,n){var r,i,o,s,a,u=e.length;if(0!=u%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],a=(n=n||0)>>>3,r=0;r<u;r+=2){if(i=parseInt(e.substr(r,2),16),isNaN(i))throw Error("String of HEX type contains invalid characters");for(o=(s=(r>>>1)+a)>>>2;t.length<=o;)t.push(0);t[o]|=i<<8*(3+s%4*-1)}return{value:t,binLen:4*u+n}};break;case"TEXT":n=function(e,n,r){var i,o,s,a,u,c,l,h,d=0;if(n=n||[0],u=(r=r||0)>>>3,"UTF8"===t)for(h=3,s=0;s<e.length;s+=1)for(o=[],128>(i=e.charCodeAt(s))?o.push(i):2048>i?(o.push(192|i>>>6),o.push(128|63&i)):55296>i||57344<=i?o.push(224|i>>>12,128|i>>>6&63,128|63&i):(s+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(s)),o.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),a=0;a<o.length;a+=1){for(c=(l=d+u)>>>2;n.length<=c;)n.push(0);n[c]|=o[a]<<8*(h+l%4*-1),d+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(h=2,o="UTF16LE"===t||"UTF16LE"!==t&&!1,s=0;s<e.length;s+=1){for(i=e.charCodeAt(s),!0===o&&(i=(a=255&i)<<8|i>>>8),c=(l=d+u)>>>2;n.length<=c;)n.push(0);n[c]|=i<<8*(h+l%4*-1),d+=2}return{value:n,binLen:8*d+r}};break;case"B64":n=function(e,t,n){var r,i,o,s,a,u,c,l=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(i=e.indexOf("="),e=e.replace(/\=/g,""),-1!==i&&i<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],u=(n=n||0)>>>3,i=0;i<e.length;i+=4){for(a=e.substr(i,4),o=s=0;o<a.length;o+=1)s|=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(o)))<<18-6*o;for(o=0;o<a.length-1;o+=1){for(r=(c=l+u)>>>2;t.length<=r;)t.push(0);t[r]|=(s>>>16-8*o&255)<<8*(3+c%4*-1),l+=1}}return{value:t,binLen:8*l+n}};break;case"BYTES":n=function(e,t,n){var r,i,o,s,a;for(t=t||[0],o=(n=n||0)>>>3,i=0;i<e.length;i+=1)r=e.charCodeAt(i),s=(a=i+o)>>>2,t.length<=s&&t.push(0),t[s]|=r<<8*(3+a%4*-1);return{value:t,binLen:8*e.length+n}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e,t,n){return s(new Uint8Array(e),t,n)};break;case"UINT8ARRAY":try{n=new Uint8Array(0)}catch(e){throw Error("UINT8ARRAY not supported by this environment")}n=function(e,t,n){return s(e,t,n)};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return n}function p(e,t){return e<<t|e>>>32-t}function m(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function g(e,t,n,r,i){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16)&65535)<<16|65535&o}function E(e){if("SHA-1"!==e)throw Error("No SHA variants supported");return[1732584193,4023233417,2562383102,271733878,3285377520]}function _(e,t){var n,r,i,o,s,a,u,c=[];for(n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=0;80>u;u+=1)c[u]=16>u?e[u]:p(c[u-3]^c[u-8]^c[u-14]^c[u-16],1),a=20>u?g(p(n,5),r&i^~r&o,s,1518500249,c[u]):40>u?g(p(n,5),r^i^o,s,1859775393,c[u]):60>u?g(p(n,5),r&i^r&o^i&o,s,2400959708,c[u]):g(p(n,5),r^i^o,s,3395469782,c[u]),s=o,o=i,i=p(r,30),r=n,n=a;return t[0]=m(n,t[0]),t[1]=m(r,t[1]),t[2]=m(i,t[2]),t[3]=m(o,t[3]),t[4]=m(s,t[4]),t}function v(e,t,n,r){var i;for(i=15+(t+65>>>9<<4);e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[i]=4294967295&t,e[i-1]=t/4294967296|0,t=e.length,i=0;i<t;i+=16)r=_(e.slice(i,i+16),r);return r}void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e){return String.fromCharCode(parseInt(e.slice(1),16))}function i(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,r))},t.decode=function(e){return decodeURIComponent(Array.from(atob(e),i).join(""))}},function(e,t,n){e.exports=n(217).use(n(137)).use(n(218)).use(n(138)).use(n(70)).use(n(219)).use(n(220)).use(n(221)).use(n(222)).use(n(223)).use(n(224)).use(n(225)).use(n(140)).use(n(226)).use(n(227)).use(n(139)).use(n(228)).use(n(229)).use(n(230)).use(n(231)).use(n(232)).use(n(233))},,,function(e,t,n){var r=n(65),i=n(132);e.exports=n(122)?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return T}));var r=n(0),i=n(86),o=n(144),s=n(53),a=function(e){var t=e.children,n=e.type,a=void 0===n?"reach-portal":n,u=Object(r.useRef)(null),c=Object(r.useRef)(null),l=Object(o.a)();return Object(i.a)((function(){if(u.current){var e=u.current.ownerDocument;return c.current=null==e?void 0:e.createElement(a),e.body.appendChild(c.current),l(),function(){c.current&&c.current.ownerDocument&&c.current.ownerDocument.body.removeChild(c.current)}}}),[a,l]),c.current?Object(s.createPortal)(t,c.current):Object(r.createElement)("span",{ref:u})};n(4);var u,c=["bottom","height","left","right","top","width"],l=new Map,h=function e(){var t=[];l.forEach((function(e,n){var r,i,o=n.getBoundingClientRect();r=o,i=e.rect,void 0===r&&(r={}),void 0===i&&(i={}),c.some((function(e){return r[e]!==i[e]}))&&(e.rect=o,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),u=window.requestAnimationFrame(e)};var d=function(e,t){return{observe:function(){var n=0===l.size;l.has(e)?l.get(e).callbacks.push(t):l.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&h()},unobserve:function(){var n=l.get(e);if(n){var r=n.callbacks.indexOf(t);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||l.delete(e),l.size||cancelAnimationFrame(u)}}}},f=n(101);function p(e,t,n){var o,s,a;Object(f.a)(t)?o=t:(o=null==(a=null==t?void 0:t.observe)||a,s=null==t?void 0:t.onChange);Object(f.b)(n)&&(s=n);var u=Object(r.useState)(e.current),c=u[0],l=u[1],h=Object(r.useRef)(!1),p=Object(r.useRef)(!1),m=Object(r.useState)(null),g=m[0],E=m[1],_=Object(r.useRef)(s);return Object(i.a)((function(){_.current=s,e.current!==c&&l(e.current)})),Object(i.a)((function(){c&&!h.current&&(h.current=!0,E(c.getBoundingClientRect()))}),[c]),Object(i.a)((function(){if(o){var t=c;if(p.current||(p.current=!0,t=e.current),t){var n=d(t,(function(e){null==_.current||_.current(e),E(e)}));return n.observe(),function(){n.unobserve()}}}}),[o,c,e]),g}var m=n(112),g=n(113),E=n(89),_=n.n(E);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=["as","targetRef","position","unstable_observableRefs"],y=Object(r.forwardRef)((function(e,t){return Object(r.createElement)(a,null,Object(r.createElement)(O,v({ref:t},e)))}));var O=Object(r.forwardRef)((function(e,t){var n=e.as,i=void 0===n?"div":n,o=e.targetRef,s=e.position,a=void 0===s?D:s,u=e.unstable_observableRefs,c=void 0===u?[]:u,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,A),h=Object(r.useRef)(null),d=p(h,{observe:!l.hidden}),f=p(o,{observe:!l.hidden}),E=Object(g.a)(h,t);return function(e,t){var n=Object(m.a)(e.current);function i(e){"Tab"===e.key&&t.current&&0===_()(t.current).length||("Tab"===e.key&&e.shiftKey?l(e)?h(e):d(e)?f(e):g(e)&&v():"Tab"===e.key&&(s()?a(e):u()?c(e):p(e)&&v()))}function o(){var r=_()(n),i=r&&e.current?r.indexOf(e.current):-1,o=r&&r[i+1];return(!t.current||!t.current.contains(o||null))&&o}function s(){return!!e.current&&e.current===n.activeElement}function a(e){var n=t.current&&_()(t.current);n&&n[0]&&(e.preventDefault(),n[0].focus())}function u(){if(!!t.current&&t.current.contains(n.activeElement||null)){var e=t.current&&_()(t.current);return Boolean(e&&e[e.length-1]===n.activeElement)}return!1}function c(e){var t=o();t&&(e.preventDefault(),t.focus())}function l(e){if(e.shiftKey){var t=o();return e.target===t}}function h(e){var n=t.current&&_()(t.current),r=n&&n[n.length-1];r&&(e.preventDefault(),r.focus())}function d(e){var n=t.current&&_()(t.current);return!!n&&(0!==n.length&&e.target===n[0])}function f(t){var n;t.preventDefault(),null==(n=e.current)||n.focus()}function p(e){var r=t.current?_()(n).filter((function(e){return!t.current.contains(e)})):null;return!!r&&e.target===r[r.length-1]}function g(e){return e.target===_()(n)[0]}Object(r.useEffect)((function(){return n.addEventListener("keydown",i),function(){n.removeEventListener("keydown",i)}}),[]);var E=[];function v(){var e=t.current&&_()(t.current);e&&(e.forEach((function(e){E.push([e,e.tabIndex]),e.tabIndex=-1})),n.addEventListener("focusin",A))}function A(){n.removeEventListener("focusin",A),E.forEach((function(e){var t=e[0],n=e[1];t.tabIndex=n}))}}(o,h),Object(r.createElement)(i,v({"data-reach-popover":"",ref:E},l,{style:v({position:"absolute"},S.apply(void 0,[a,f,d].concat(c)),l.style)}))}));function S(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return n?e.apply(void 0,[t,n].concat(i.map((function(e){return e.current})))):{visibility:"hidden"}}function b(e,t,n){return{top:n?e.top-t.height+window.pageYOffset+"px":e.top+e.height+window.pageYOffset+"px"}}var D=function(e,t){if(!e||!t)return{};var n=C(e,t),r=n.directionRight,i=n.directionUp;return v({left:r?e.right-t.width+window.pageXOffset+"px":e.left+window.pageXOffset+"px"},b(e,t,i))},T=function(e,t){if(!e||!t)return{};var n=C(e,t),r=n.directionLeft,i=n.directionUp;return v({left:r?e.left+window.pageXOffset+"px":e.right-t.width+window.pageXOffset+"px"},b(e,t,i))};function C(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={top:e.top-t.height<0,right:window.innerWidth<e.left+t.width-n,bottom:window.innerHeight<e.bottom+t.height-r,left:e.left+e.width-t.width<0};return{directionRight:i.right&&!i.left,directionLeft:i.left&&!i.right,directionUp:i.bottom&&!i.top,directionDown:i.top&&!i.bottom}}t.b=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(44);function i(e,t){const n=document.createElement("div");return n.innerHTML=e,o(n.childNodes,t)}function o(e,t){return Array.from(e).map((e=>{var n;switch(e.nodeType){case Node.TEXT_NODE:return null!==(n=e.textContent)&&void 0!==n?n:"";case Node.ELEMENT_NODE:{const n=e,i=function(e,t){const n=e.split(".").map((e=>+e));return n.reduce(((e,t)=>(r.a.has(e,"children"),e.children[t])),{children:t})}(n.getAttribute("id"),t);return"string"==typeof i?i:"children"in i?Object.assign(Object.assign({},i),{children:o(n.childNodes,t)}):i}default:r.a.never()}}))}},function(e,t,n){"use strict";e.exports=n(213)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(143);function i(e){return Object(r.a)()?e?e.ownerDocument:document:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),i=n(101);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){if(null!=e)if(Object(i.b)(e))e(t);else try{e.current=t}catch(n){throw new Error('Cannot assign value "'+t+'" to ref "'+e+'"')}}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.useCallback)((function(e){for(var n,r=s(t);!(n=r()).done;){a(n.value,e)}}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(82),i=n(2);class o extends r.a{constructor(e,t){super(e,t,["UrlStore"],{conversationId:void 0})}onChange(e,t,n){const{conversation:r,me:o,participants:s}=n.getCurrentConversationData();if(void 0===r)return{conversationId:void 0};if(null===r&&null===e.conversationId)return e;if(r&&r.id===e.conversationId)return e;if(i.a.defined(o),null===r)return t({conversation:null,me:o.toJS(),sideId:null,conversationId:null,participants:[],externalNymIds:{}}),{conversationId:null};i.a.defined(s);const a={[o.id]:o.externalId};s.forEach((e=>a[e.id]=e.externalId));const u=s.map((e=>Object.assign(Object.assign({},e.toJS()),{_type:"nym",role:e.configuration}))).toArray();return t({conversation:r.toJS(),me:o.toJS(),participants:u,sideId:r.id,conversationId:r.id,externalNymIds:a}),{conversationId:r.id}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));n(28);var r=n(8);function i(e,t){const n=Object.assign(Object.assign({},e),t);return r.b(n,(e=>!1!==e))}function o(e){return function(t){try{return t()}catch(t){if(t.prettyMessage)return console.error("[TalkJS] error in template file: \n"+t.prettyMessage),e;throw t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),i=n.n(r),o=n(0),s=n.n(o),a=n(96),u=n(13),c=n(3),l=n(7);class h extends u.a{constructor(e,t){super(e),this._tick=(e,t)=>{const{changeTimeout:n,formatted:r,ariaLabel:i}=f(e.timestamp,t);this.changeTimeout=n,this._scheduleTimeout(),this.setState({ts:r,ariaLabel:i})};const{changeTimeout:n,formatted:r}=f(e.timestamp,t);this.state={ts:r},this.changeTimeout=n}componentDidMount(){var e,t;this._scheduleTimeout(),this.setState({toolTip:(e=this.props.timestamp,t=this.context.locale,new Date(e).toLocaleString(t,{weekday:"short",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}))})}componentWillReceiveProps(e){this.handle&&clearTimeout(this.handle),this._tick(e,this.context)}componentWillUnmount(){this.handle&&clearTimeout(this.handle)}_scheduleTimeout(){this.changeTimeout&&(this.handle=window.setTimeout((()=>this._tick(this.props,this.context)),this.changeTimeout))}render(){return s.a.createElement("span",{role:"time",className:this.props.className,title:this.state.toolTip,"aria-label":this.state.ariaLabel},s.a.createElement("span",{"aria-hidden":"true"},this.state.ts))}}function d({timestamp:e,className:t}){return e?s.a.createElement(h,{timestamp:e,className:t}):null}function f(e,t){const n=c.B(t);return e>n&&(e=n-2e3),Object(a.c)(n,e,t)}h.propTypes={timestamp:i.a.number.isRequired,className:i.a.string},h.contextType=l.a},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(55),s=n(7),a=n(2),u=n(3);t.a=i.a.forwardRef((function(e,t){const{nav:n}=Object(r.useContext)(s.a);Object(a.a)((()=>function(e){if("string"!=typeof e||"/"!==e[0]||e.includes("?"))return!1;return!0}(e.href)),`InternalLink href must be a string that starts with a slash and does not contain a query string. Got: "${e.href}"`);return i.a.createElement("a",Object.assign({className:Object(u.g)("InternalLink",e.className),onClick:async t=>{if(t.preventDefault(),e.onClick){if(!1===await e.onClick())return}const r=n.location.setRelativePath(e.href).toSafeString();a.a.is(n,o.a),await n.go(r),e.onAfterNav&&await e.onAfterNav()},title:e.title},e.extraAttrs,{ref:t,style:{cursor:"pointer"},"data-destination":e.destination}),e.children)}))},function(e,t,n){"use strict";var r=n(46),i=n(42),o=n(41),s=n(58);class a extends r.a{constructor(e){super(e),this._dispatcher=e,this._meStore=this._dispatcher.getStore(i.a),this._nymStore=this._dispatcher.getStore(o.a),this._settingsStore=this._dispatcher.getStore(s.a),this._currentEntryPoint=null}async setEntryPoint({entryPoint:e}){const t=this.getConversationId(this._currentEntryPoint),n=this.getConversationId(e);if(void 0!==n&&(this._meStore.getMe()||await e.gotData,null!==n)){const t=this._meStore.getChats().get(n);t&&t.conversation||await e.gotData}this._currentEntryPoint=e,t!==n&&this.emitChange()}getConversationId(e){return e&&e.props.forceHubPage&&this._settingsStore.getBrowserMode().isNarrow?null:e&&e.props.conversationId?e.props.conversationId:e&&e.props.hubOnly?null:void 0}getCurrentConversationData(e=this._currentEntryPoint){const t=this._meStore.getChats(),n=this.getConversationId(e),r=this._meStore.getMe();if(void 0===n)return{};if(null===n)return{conversation:null,me:r};const i=t.get(n);if(!i)return{};const{conversation:o}=i;if(!o)return{};const s=o.participantNyms(this._nymStore.getNyms());return{conversation:o,me:r,participants:s}}}a.storeName="UrlStore",a.handlers={LOCATION_MAYBE_CHANGED:"setEntryPoint"},t.a=a},function(e,t,n){"use strict";function r(){const e=document.documentElement,t=document.body;return{width:e.clientWidth||t.clientWidth,height:window.innerHeight}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return it}));var r=n(115),i=n(116),o=n(0),s=n.n(o),a=(n(25),n(8)),u=n(97);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n)}function m(e){return function(e,t){var n=[];return p(e,(function(e,r){n.push(t(e,r))})),n}(e,(function(e,t){return[t,e]}))}function g(e,t){return E(e,(function(e){var n=h(e,2),r=n[0],i=n[1];return[r,t(i,r)]}))}function E(e,t){var n={},r=0;return p(e,(function(e,i){var o=h(t([i,e],r++),2),s=o[0],a=o[1];n[s]=a})),n}var _=new RegExp("".concat(/'[^']*'/.source,"|").concat(/"[^"]*"/.source)),v=new RegExp("(?:".concat(_.source,"|[^'\"])*")),A=new RegExp("(?:".concat(_.source,"|[^'\"])*?")),y=/-?\d+\.?\d*|\.?\d+/,O=/true|false/,S=/[\w-]+[?]?/,b=new RegExp("\\[(?:".concat(_.source,"|[\\w-\\.]+)\\]")),D=new RegExp("(?:".concat(_.source,"|").concat(O.source,"|").concat(y.source,")")),T=new RegExp("".concat(S.source,"(?:\\.").concat(S.source,"|").concat(b.source,")*")),C=new RegExp("(?:".concat(T.source,"|").concat(y.source,")")),R=new RegExp("\\(".concat(C.source,"\\.\\.").concat(C.source,"\\)")),I=new RegExp("\\((".concat(C.source,")\\.\\.(").concat(C.source,")\\)")),N=new RegExp("(?:".concat(T.source,"|").concat(D.source,"|").concat(R.source,")")),w=new RegExp("^".concat(D.source,"$"),"i"),k=new RegExp("^".concat(T.source,"$")),x=new RegExp("^".concat(y.source,"$")),L=new RegExp("^".concat(O.source,"$"),"i"),M=new RegExp("^".concat(_.source,"$")),P=new RegExp("^".concat(I.source,"$")),F=new RegExp("^".concat(/-?\d+/.source,"$")),j=new RegExp("(?:".concat(S.source,"\\s*:\\s*)?").concat(N.source)),B=new RegExp("".concat(j.source,"(\\s*,\\s*").concat(j.source,")*")),U=new RegExp("".concat(S.source,"(?:\\s*:\\s*").concat(B.source,")?"),"g"),H=new RegExp("(".concat(S.source,")(?:\\s*:\\s*(").concat(B.source,"))?")),z=new RegExp("^".concat(H.source,"$")),V=[/\s+or\s+|\s+and\s+/,/==|!=|<=|>=|<|>|\s+contains\s+/];function G(e){return F.test(e)}var $=Object.prototype.toString;function Y(e){return"[object String]"===$.call(e)}function W(e){return Object.create(e)}function K(e){return null==e}function q(e){e=X(e)?e:{};var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){return Object.assign(e,t)})),e}function X(e){var t=c(e);return null!==e&&("object"===t||"function"===t)}function J(){this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}function Z(e,t){J.call(this),this.input=t.input,this.line=t.line,this.file=t.file;var n,r,i,o,s,a=(n=t.input,r=t.line,i=n.split("\n"),o=Math.max(r-2,1),s=Math.min(r+3,i.length),function(e,t,n){1===arguments.length&&(t=e,e=0),n=n||1;for(var r=[],i=e;i<t;i+=n)r.push(i);return r}(o,s+1).map((function(e){return[e===r?">> ":"   ",ie(e,s),"| ",i[e-1]].join("")})).join("\n"));this.message=function(e,t){e=e||"",t.file&&(e+=", file:"+t.file);t.line&&(e+=", line:"+t.line);return e}(e.message,t),this.stack=a+"\n"+(this.stack||this.message)+(e.stack?"\nFrom "+e.stack:"")}function Q(e,t){Z.call(this,{message:e},t)}function ee(e,t){q(this,e),this.originalError=e,Z.call(this,e,t)}function te(e,t){if(e instanceof te)return e;q(this,e),this.originalError=e,Z.call(this,e,t.token)}function ne(e){J.call(this),this.message=e+""}function re(e){J.call(this),this.message=e+""}function ie(e,t){var n=e+"";return Array((t+"").length-n.length).join(" ")+n}function oe(e,t){if(!e)throw new re(t=t||"expect ".concat(e," to be true"))}function se(e,t){var n={init:function(e){return this.tokens=e,this.handlers={},this},on:function(e,t){return this.handlers[e]=t,this},trigger:function(e,t){var n=this.handlers[e];if("function"==typeof n)return n(t),!0},start:function(){var e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());)if(!(this.trigger("token",e)||"tag"===e.type&&this.trigger("tag:".concat(e.name),e))){var t=r(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this},stop:function(){return this.stopRequested=!0,this}};function r(e,t){try{var n=null;return(n="tag"===e.type?i(e,t):"value"===e.type?o(e.value):e).token=e,n}catch(t){throw new ee(t,e)}}function i(t,n){return"continue"===t.name||"break"===t.name?t:e.construct(t,n)}function o(e){var n=function(e){return N.exec(e)}(e);oe(n,"illegal value string: ".concat(e));var r=n[0];e=e.substr(n.index+n[0].length);for(var i=[];n=U.exec(e);)i.push([n[0].trim()]);return{type:"value",initial:r,filters:i.map((function(e){return t.construct(e)}))}}return{parse:function(e){for(var t,n=[];t=e.shift();)n.push(r(t,e));return n},parseTag:i,parseStream:function(e){return W(n).init(e)},parseValue:o}}Q.prototype=W(Error.prototype),Q.prototype.constructor=Q,ee.prototype=W(Error.prototype),ee.prototype.constructor=ee,te.prototype=W(Error.prototype),te.prototype.constructor=te,ne.prototype=W(Error.prototype),ne.prototype.constructor=ne,re.prototype=W(Error.prototype),re.prototype.constructor=re;var ae=function(e){return{"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},">":function(e,t){return null!==e&&null!==t&&e>t},"<":function(e,t){return null!==e&&null!==t&&e<t},">=":function(e,t){return null!==e&&null!==t&&e>=t},"<=":function(e,t){return null!==e&&null!==t&&e<=t},contains:function(e,t){return!!e&&("function"==typeof e.indexOf&&e.indexOf(t)>-1)},and:function(t,n){return e(t)&&e(n)},or:function(t,n){return e(t)||e(n)}}}(le);function ue(e,t){oe(t,"unable to evalExp: scope undefined");for(var n,r=V,i=0;i<r.length;i++){var o=r[i],s=new RegExp("^(".concat(A.source,")(").concat(o.source,")(").concat(v.source,")$"));if(n=e.match(s)){var a=ue(n[1],t),u=n[2].trim(),c=ae[u];return("and"!==u||!he(a))&&(!("or"!==u||!le(a))||c(a,ue(n[3],t)))}}if(n=e.match(P)){for(var l=ce(n[1],t),h=ce(n[2],t),d=[],f=l;f<=h;f++)d.push(f);return d}return ce(e,t)}function ce(e,t){if(e=e&&e.trim()){if(function(e){return w.test(e)}(e))return function(e){var t=e.match(x);if(t)return Number(e);if(t=e.match(L))return"true"===e.toLowerCase();if(t=e.match(M))return e.slice(1,-1);throw new TypeError("cannot parse '".concat(e,"' as literal"))}(e);if(function(e){return k.test(e)}(e))return t.get(e);throw new TypeError("cannot eval '".concat(e,"' as value"))}}function le(e){return!he(e)}function he(e){return!1===e||null==e}var de=new RegExp("".concat(N.source),"g");var fe=["January","February","March","April","May","June","July","August","September","October","November","December"],pe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],me=fe.map(_e),ge=pe.map(_e),Ee={1:"st",2:"nd",3:"rd",default:"th"};function _e(e){return e.slice(0,3)}var ve={daysInMonth:function(e){return[31,ve.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31]},getDayOfYear:function(e){for(var t=0,n=0;n<e.getMonth();++n)t+=ve.daysInMonth(e)[n];return t+e.getDate()},getWeekOfYear:function(e,t){var n=this.getDayOfYear(e)+(t-e.getDay()),r=7-new Date(e.getFullYear(),0,1).getDay()+t;return Ae.pad(Math.floor((n-r)/7)+1,2)},isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getSuffix:function(e){var t=e.getDate().toString(),n=parseInt(t.slice(-1));return Ee[n]||Ee.default},century:function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}},Ae={pad:function(e,t,n){n||(n="0");for(var r=e.toString(),i=t-r.length;i-- >0;)r=n+r;return r}},ye={a:function(e){return ge[e.getDay()]},A:function(e){return pe[e.getDay()]},b:function(e){return me[e.getMonth()]},B:function(e){return fe[e.getMonth()]},c:function(e){return e.toLocaleString()},C:function(e){return ve.century(e)},d:function(e){return Ae.pad(e.getDate(),2)},e:function(e){return Ae.pad(e.getDate(),2," ")},H:function(e){return Ae.pad(e.getHours(),2)},I:function(e){return Ae.pad(e.getHours()%12||12,2)},j:function(e){return Ae.pad(ve.getDayOfYear(e),3)},k:function(e){return Ae.pad(e.getHours(),2," ")},l:function(e){return Ae.pad(e.getHours()%12||12,2," ")},L:function(e){return Ae.pad(e.getMilliseconds(),3)},m:function(e){return Ae.pad(e.getMonth()+1,2)},M:function(e){return Ae.pad(e.getMinutes(),2)},p:function(e){return e.getHours()<12?"AM":"PM"},P:function(e){return e.getHours()<12?"am":"pm"},q:function(e){return ve.getSuffix(e)},s:function(e){return Math.round(e.valueOf()/1e3)},S:function(e){return Ae.pad(e.getSeconds(),2)},u:function(e){return e.getDay()||7},U:function(e){return ve.getWeekOfYear(e,0)},w:function(e){return e.getDay()},W:function(e){return ve.getWeekOfYear(e,1)},x:function(e){return e.toLocaleDateString()},X:function(e){return e.toLocaleTimeString()},y:function(e){return e.getFullYear().toString().substring(2,4)},Y:function(e){return e.getFullYear()},z:function(e){var t=e.getTimezoneOffset()/60*100;return(t>0?"-":"+")+Ae.pad(Math.abs(t),4)},"%":function(){return"%"}};ye.h=ye.b,ye.N=ye.L;var Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},Se={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"},be={abs:function(e){return Math.abs(e)},append:function(e,t){return e+t},at_least:function(e,t){return Math.max(e,t)},at_most:function(e,t){return Math.min(e,t)},capitalize:function(e){return Ce(e).charAt(0).toUpperCase()+e.slice(1)},ceil:function(e){return Math.ceil(e)},concat:function(e,t){return Array.prototype.concat.call(e,t)},date:function(e,t){var n=e;return"now"===e?n=new Date:(Y(e)||"number"==typeof e)&&(n=new Date(e)),function(e){return e instanceof Date&&!isNaN(e.getTime())}(n)?function(e,t){for(var n="",r=t;;){var i=/%./g,o=i.exec(r);if(!o)return n+r;n+=r.slice(0,i.lastIndex-2),r=r.slice(i.lastIndex);var s=o[0].charAt(1),a=ye[s];n+=a?a.call(this,e):"%"+s}}(n,t):e},default:function(e,t){return le(e)&&""!==e?e:t},divided_by:function(e,t){return e/t},downcase:function(e){return e.toLowerCase()},escape:De,escape_once:function(e){return De(function(e){return Ce(e).replace(/&(amp|lt|gt|#34|#39);/g,(function(e){return Se[e]}))}(e))},first:function(e){return e[0]},floor:function(e){return Math.floor(e)},join:function(e,t){return e.join(void 0===t?" ":t)},last:function(e){return(t=e)[t.length-1];var t},lstrip:function(e){return Ce(e).replace(/^\s+/,"")},map:function(e,t){return e.map((function(e){return Ie(e,t)}))},minus:Re((function(e,t){return e-t})),modulo:Re((function(e,t){return e%t})),newline_to_br:function(e){return e.replace(/\n/g,"<br />")},plus:Re((function(e,t){return Number(e)+Number(t)})),prepend:function(e,t){return t+e},remove:function(e,t){return e.split(t).join("")},remove_first:function(e,t){return e.replace(t,"")},remove_last:function(e,t){var n=Ce(e),r=Ce(t),i=n.lastIndexOf(r);return i<0?n:"".concat(n.slice(0,i)).concat(n.slice(i+r.length))},replace:function(e,t,n){return Ce(e).split(t).join(n)},replace_first:function(e,t,n){return Ce(e).replace(t,n)},replace_last:function(e,t,n){var r=Ce(e),i=Ce(t),o=Ce(n),s=r.lastIndexOf(i);return s<0?r:"".concat(r.slice(0,s)).concat(o).concat(r.slice(s+i.length))},reverse:function(e){return e.reverse()},round:function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n,t)/n},rstrip:function(e){return Ce(e).replace(/\s+$/,"")},size:function(e){return e.length},slice:function(e,t,n){return void 0===n&&(n=1),e.slice(t,t+n)},sort:function(e,t){return e.sort(t?function(e,n){var r=Ie(e,t),i=Ie(n,t);return r<i?-1:r>i?1:0}:void 0)},split:function(e,t){return Ce(e).split(t)},strip:function(e){return Ce(e).trim()},strip_html:function(e){return Ce(e).replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")},strip_newlines:function(e){return Ce(e).replace(/\n/g,"")},times:function(e,t){return e*t},truncate:function(e,t,n){return n=void 0===n?"...":n,t=t||16,(e=Ce(e)).length<=t?e:e.substr(0,t-n.length)+n},truncatewords:function(e,t,n){void 0===n&&(n="...");var r=e.split(" "),i=r.slice(0,t).join(" ");return r.length>t&&(i+=n),i},uniq:function(e){var t={};return(e||[]).filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0,!0)}))},upcase:function(e){return Ce(e).toUpperCase()},url_decode:function(e){return e.split("+").map(decodeURIComponent).join(" ")},url_encode:function(e){return e.split(" ").map(encodeURIComponent).join("+")},where:function(e,t,n){return void 0===n?e.filter((function(e){return Ie(e,t)})):e.filter((function(e){return Ie(e,t)===n}))}};function De(e){return Ce(e).replace(/&|<|>|"|'/g,(function(e){return Oe[e]}))}function Te(e){var t=(e+"").split(".");return t.length>1?t[1].length:0}function Ce(e){return e+""}function Re(e){return function(t,n){var r=function(e,t){return Math.max(Te(e),Te(t))}(t,n);return e(t,n).toFixed(r)}}function Ie(e,t){if(e){var n,r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(Ce(t).split("."));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(null==e||!e.hasOwnProperty(i))return;e=e[i]}}catch(e){r.e(e)}finally{r.f()}return e}}function Ne(e){return function(e,t){for(var n in e=e||{})if(e.hasOwnProperty(n)&&!1===t(e[n],n,e))break;return e}(be,(function(t,n){return e.registerFilter(n,t)}))}Ne.filters=be;var we=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=this;return this.propertyAccessSeq(e).reduce((function(n,r){return t.readProperty(n,r,e)}),this.context)}},{key:"readProperty",value:function(e,t,n){if(K(e))throw new TypeError("Cannot read property '".concat(t,"' in expression '").concat(n,"'"));return"size"===t?function(e){return K(e.size)&&(function(e){return"[object Array]"===$.call(e)}(e)||Y(e))?e.length:e.size}(e):e[t]}},{key:"propertyAccessSeq",value:function(e){e=String(e);for(var t,n=[],r="",i=0;i<e.length;)switch(e[i]){case"[":s();var o=e[i+1];/['"]/.test(o)?(oe(-1!==(t=e.indexOf(o,i+2)),"unbalanced ".concat(o,": ").concat(e)),r=e.slice(i+2,t),s(),i=t+2):(oe(-1!==(t=ke(e,i+1)),"unbalanced []: ".concat(e)),G(r=e.slice(i+1,t))||(r=String(this.get(r))),s(),i=t+1);break;case".":s(),i++;break;default:r+=e[i],i++}if(s(),!n.length)throw new TypeError('invalid path:"'.concat(e,'"'));return n;function s(){r.length&&n.push(r),r=""}}}])&&l(t.prototype,n),r&&l(t,r),e}();function ke(e,t){for(var n=1,r=t;r<e.length;r++)if("["===e[r]&&n++,"]"===e[r]&&0===--n)return r;return-1}class xe extends Error{constructor(e,t){super(e),this.pos=t,Object.setPrototypeOf&&Object.setPrototypeOf(this,new.target.prototype)}get prettyMessage(){return`${this.message}\nFile: ${this.pos.filename}\nLine: ${this.pos.line}\nColumn: ${this.pos.col}`}}function Le(e,t){try{const n=new we(t);return e.filters.reduce(((e,t)=>t.render(e,n)),ue(e.initial,n))}catch(t){throw new xe(t.message,e.pos)}}function Me(e,t){const n=e.map((e=>"expression"===e.type?Le(e.value,t):e.text));return 1===n.length?n[0]:n.join("")}function Pe(e,t){return t.map((t=>{switch(t.type){case"element":return function(e,t){return{type:"element",name:t.name,pos:t.pos,children:Pe(e,t.children),attributes:g(t.attributes,(t=>Fe(e,t))),if:t.if&&Fe(e,t.if),elseIf:t.elseIf&&Fe(e,t.elseIf),else:t.else&&Fe(e,t.else),key:t.key&&Fe(e,t.key),for:t.for&&je(e,t.for)}}(e,t);case"expression":return Be(e,t);case"text":return t}}))}function Fe(e,t){return t.map((t=>"expression"===t.type?Be(e,t):t))}function je(e,t){return Object.assign(Object.assign({},t),{iterable:Be(e,t.iterable)})}function Be(e,t){return{type:"expression",value:e.parse(t.code,t.pipePos,t.pos),pos:t.pos}}function Ue(e){return e}function He(e,t,n){let r;return e.map((e=>{switch(e.type){case"text":return e.text;case"expression":return Le(e.value,t);case"element":if(e.for)return function(e,t,n){const{iterable:r,iterator:i,index:o}=e.for,s=Le(r.value,t),a=Object.assign(Object.assign({},e),{attributes:Object.assign(Object.assign({},e.attributes),{key:e.key})});function u(r,s,u){const c=o?{[o]:s}:{},l=Object.assign(Object.assign(Object.assign({},t),c),{forloop:u,[i]:r});if(e.if&&!We(e.if,l))return null;if("t:set"!==e.name)return ze(a,l,n);ze(e,l,n);for(let n in e.attributes)t[n].push(l[n])}if("t:set"===e.name)for(let n in e.attributes)t[n]=[];const c=Array.isArray(s)?s.map(((e,t)=>[t,e])):m(s);return c.map((([e,n],r)=>{const i=c.length-r-1;return u(n,e,{length:c.length,index:r,rindex:i,first:0===r,last:0===i,parentloop:t.forloop})}))}(e,t,n);if(e.if){if(r=We(e.if,t),!r)return null}else if(e.elseIf)switch(r){case!0:return null;case void 0:throw new xe("t:else-if without corresponding t:if",e.pos);case!1:if(r=We(e.elseIf,t),!r)return null}else if(e.else)switch(r){case!0:return null;case void 0:throw new xe("t:else without corresponding t:if",e.pos)}else r=void 0;return ze(e,t,n)}}))}function ze(e,t,n){const r=He(e.children,t,n),i="t:set"===e.name?function(e,t){return E(e,(([e,n])=>[e,Me(n,t)]))}(e.attributes,t):function(e,t,n){const r=E(e,(([e,n])=>[$e[e]||e,Ge(e,Me(n,t))]));r.style&&(r.style=function(e,t,n){if(!Ke)return n(t);let r=Ke.get(e)||{};r.hasOwnProperty(t)||(r[t]=n(t),Ke.set(e,r));return r[t]}(e,r.style+"",Ye));return n.propsFilter(r)}(e.attributes,t,n);let o;if("t:set"===e.name){for(let e in i)t[e]=i[e];return}if(e.name.match(/^[A-Z]/)){if(o=n.subcomponents[e.name],!o)throw new xe(`Could not find subcomponent ${e.name}.`,e.pos)}else o=e.name;let s=Object(u.createElement)(o,i,...r);return"string"==typeof o&&n.elementTransformer&&(s=n.elementTransformer(s)),s}const Ve=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i;function Ge(e,t){return("href"===e||"action"===e)&&Ve.test(t)?"about:blank":t}const $e={class:"className",for:"htmlFor"};function Ye(e){let t={};const n=function(e){const t=e.replace(/url\(.+?\)/g,(e=>e.replace(/./g,"x")));let n=0,r=[];for(let i of t.split(";"))r.push(e.substr(n,i.length)),n+=i.length+1;return r}(e);for(let e of n){const n=e.indexOf(":");if(-1===n)continue;const r=e.substr(0,n).trim(),i=e.substr(n+1).trim();if(!i)continue;t[r.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))]=i}return t}function We(e,t){return le(Me(e,t))}let Ke=function(e){try{return e()}catch(e){return}}((()=>new WeakMap));var qe=n(3),Xe=n(6);const Je={random_color:e=>Object(Xe.g)(e+""),initials:e=>Object(Xe.f)(e+""),filesize:e=>qe.f(e+0),format_duration:e=>qe.l(e+0)};const Ze=new class{constructor(e={filters:{}}){const t=function(e){e=q({},e);var t={},n={render:function(e,t){var n=this.args.map((function(e){return ce(e,t)}));return n.unshift(e),this.filter.apply(null,n)},parse:function(n){var r=z.exec(n);oe(r,"illegal filter: "+n);var i=r[1],o=r[2]||"",s=t[i];if("function"!=typeof s){if(e.strict_filters)throw new TypeError("undefined filter: ".concat(i));return this.name=i,this.filter=function(e){return e},this.args=[],this}for(var a=[];r=de.exec(o.trim());){var u=r[0],c=new RegExp("".concat(u,"\\s*:"),"g").exec(r.input);c&&c.index===r.index?a.push("'".concat(u,"'")):a.push(u)}return this.name=i,this.filter=s,this.args=a,this}};return{construct:function(e){return W(n).parse(e)},register:function(e,n){t[e]=n},clear:function(){t={}}}}({strict_filters:!0});for(let e in Ne.filters)t.register(e,Ne.filters[e]);t.register("then",((e,t)=>le(e)?t:null)),t.register("else",((e,t)=>null===e?t:e)),t.register("is_truthy",le),t.register("is_falsy",he);for(let n in e.filters)t.register(n,e.filters[n]);this._liquidParser=new se(void 0,t)}parse(e,t,n){if(void 0!==t){const r=e.substring(0,t),i="___ident |"+e.substring(t+1);try{let e=this._liquidParser.parseValue(i);return Object.assign(Object.assign({},e),{initial:r,pos:n})}catch(e){throw new xe(e.message,n)}}return{type:"value",filters:[],initial:e,pos:n}}}({filters:Je});var Qe=n(54),et=n(51),tt=n(43);class nt{constructor(e,t,n){this.prefixClassName=e=>(e.className&&(e.className=e.className.split(/\s+/).map((e=>this._classNamePrefix+e)).join(" ")),e.id&&(e.id=this._classNamePrefix+e.id),e.htmlFor&&(e.htmlFor=this._classNamePrefix+e.htmlFor),e);const i=Object(r.a)({nodes:[]});this._preparedTemplate=i((()=>function(e,t){return{nodes:Pe(e,t.nodes)}}(Ze,e.template))),this._classNamePrefix=t+"__",this._globals=n}render(e,t={}){const n=Object.assign(Object.assign({},this._globals),e);return Object(r.a)(null)((()=>function(e){const{template:t,scope:n,subcomponents:r,propsFilter:i,elementTransformer:o}=e,s={subcomponents:r||{},propsFilter:i||Ue,elementTransformer:o};return Object(u.createElement)(u.Fragment,null,...He(t.nodes,n,s))}({template:this._preparedTemplate,scope:n,subcomponents:t,propsFilter:this.prefixClassName,elementTransformer:e=>"a"===e.type?s.a.createElement(Qe.a,Object.assign({},e.props)):["input","textarea","select","button","iframe"].includes(e.type)?s.a.createElement(et.c,null,e):e})))}}class rt{constructor(e,t,n){this._template=e,this._context=s.a.createContext({});const r=a.g(n,((e,t)=>{const n=t=>{const n=s.a.useContext(this._context);return s.a.createElement(e,Object.assign({},t,{__jsContext:n}))};return n.displayName=t+"Wrapper",n})),o=a.g(t,((e,t)=>{const n=t=>e.render(t,this._subcomponents);return n.displayName=t,n}));this._subcomponents=Object.assign(Object.assign({TimeAgo:i.a,Icon:tt.b},o),r)}render(e,t={}){const n=this._context;return s.a.createElement(n.Provider,{value:t},this._template.render(e,this._subcomponents))}}class it{constructor(e,t){var n,r;this.version="v2",e.context.strings=t.values,this.settings={messageFieldLayout:null!==(r=null===(n=e.layout.panelFooter)||void 0===n?void 0:n.layout)&&void 0!==r?r:"regular"},this.name=e.name,this._components=a.g(e.components,((t,n)=>new nt(t,n,e.context)))}getComponent(e,t={}){return new rt(this._components[e],this._components,t)}useComponent(e,t={}){return s.a.useMemo((()=>this.getComponent(e,t)),[])}hasComponent(e){return!!this._components[e]}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));const r=()=>{const e=document.createElement("canvas");e.width=e.height=1;const t=e.getContext("2d");return t.textBaseline="top",t.font='100px "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',t.scale(.01,.01),t},i=(e,t)=>{const n=r();return n.fillStyle=t,n.fillText(e,0,0),n.getImageData(0,0,1,1).data};function o(e){const t=i(e,"#000"),n=i(e,"#fff"),o=(e=>!e.includes("")||r().measureText(e).width<160)(e);return t&&n&&o&&((e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&!n.startsWith("0,0,0,")})(t,n)}function s(e){try{return o(e)}catch(e){return!0}}function a(){if("undefined"==typeof window||window.E2E)return 16;const e={"":16,"":15.1,"":15,"":14,"":13.1,"":13,"":12.1,"":12,"":11,"":5,"":4,"":3,"":2,"":1,"":.7,"":.6};for(const[t,n]of Object.entries(e))if(s(t))return n}},function(e,t,n){e.exports=!n(98)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(240);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(127);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"set",(function(){return s})),n.d(t,"get",(function(){return a})),n.d(t,"waitFor",(function(){return u}));var r=n(12),i=n(2);const o={};function s(e,t){i.a.is(e,String),i.a.is(t,String),Object.hasOwnProperty.call(o,e)||(o[e]=Object(r.b)()),o[e].value||(o[e].value=t,o[e].resolve(t))}function a(e){const t=o[e];return t&&t.value}function u(e){if(i.a.is(e,String),!Object.hasOwnProperty.call(o,e))throw new Error(`Cannot find ${e} in postbuffer`);return o[e].promise}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(23),i=n(79),o=n(38),s=n(131);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(e,t){this._delegate=e,this.firebase=t,Object(o._addComponent)(e,new i.a("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Object(o.deleteApp)(this._delegate))))}_getService(e,t=o._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Object(o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){Object(o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},c=new r.b("app-compat","Firebase",u);const l=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(){const t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){const t={},n={__esModule:!0,initializeApp:function(i,s={}){const a=o.initializeApp(i,s);if(Object(r.e)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&Object(r.i)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(...e){return this._getService.bind(this,s).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function i(e){if(e=e||o._DEFAULT_ENTRY_NAME,!Object(r.e)(t,e))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(r.i)(t,e)},createSubscribe:r.g,ErrorFactory:r.b,deepExtend:r.i}),t}(),h=new s.a("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(r.k)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const d=l;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var f;Object(o.registerVersion)("@firebase/app-compat","0.1.26",f)},function(e,t,n){"use strict";n.r(t),n.d(t,"Decoration",(function(){return Bt})),n.d(t,"DecorationSet",(function(){return zt})),n.d(t,"EditorView",(function(){return mn})),n.d(t,"__endComposition",(function(){return pn})),n.d(t,"__parseFromClipboard",(function(){return fn})),n.d(t,"__serializeForClipboard",(function(){return dn}));var r=n(10),i=n(5),o=n(27);const s=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},a=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let u=null;const c=function(e,t,n){let r=u||(u=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},l=function(e,t,n,r){return n&&(d(e,t,n,r,-1)||d(e,t,n,r,1))},h=/^(img|br|input|textarea|hr)$/i;function d(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:f(e))){let n=e.parentNode;if(!n||1!=n.nodeType||p(e)||h.test(e.nodeName)||"false"==e.contentEditable)return!1;t=s(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?f(e):0}}}function f(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function p(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const m=function(e){return e.focusNode&&l(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function g(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const E="undefined"!=typeof navigator?navigator:null,_="undefined"!=typeof document?document:null,v=E&&E.userAgent||"",A=/Edge\/(\d+)/.exec(v),y=/MSIE \d/.exec(v),O=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(v),S=!!(y||O||A),b=y?document.documentMode:O?+O[1]:A?+A[1]:0,D=!S&&/gecko\/(\d+)/i.test(v);D&&(/Firefox\/(\d+)/.exec(v)||[0,0])[1];const T=!S&&/Chrome\/(\d+)/.exec(v),C=!!T,R=T?+T[1]:0,I=!S&&!!E&&/Apple Computer/.test(E.vendor),N=I&&(/Mobile\/\w+/.test(v)||!!E&&E.maxTouchPoints>2),w=N||!!E&&/Mac/.test(E.platform),k=!!E&&/Win/.test(E.platform),x=/Android \d/.test(v),L=!!_&&"webkitFontSmoothing"in _.documentElement.style,M=L?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function P(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function F(e,t){return"number"==typeof e?e:e[t]}function j(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function B(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;s=a(s)){if(1!=s.nodeType)continue;let e=s,n=e==o.body,a=n?P(o):j(e),u=0,c=0;if(t.top<a.top+F(r,"top")?c=-(a.top-t.top+F(i,"top")):t.bottom>a.bottom-F(r,"bottom")&&(c=t.bottom-t.top>a.bottom-a.top?t.top+F(i,"top")-a.top:t.bottom-a.bottom+F(i,"bottom")),t.left<a.left+F(r,"left")?u=-(a.left-t.left+F(i,"left")):t.right>a.right-F(r,"right")&&(u=t.right-a.right+F(i,"right")),u||c)if(n)o.defaultView.scrollBy(u,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),u&&(e.scrollLeft+=u);let i=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-i,top:t.top-o,right:t.right-i,bottom:t.bottom-o}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function U(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=a(r));return t}function H(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let z=null;function V(e,t){let n,r,i,o,s=2e8,a=0,u=t.top,l=t.top;for(let h=e.firstChild,d=0;h;h=h.nextSibling,d++){let e;if(1==h.nodeType)e=h.getClientRects();else{if(3!=h.nodeType)continue;e=c(h).getClientRects()}for(let c=0;c<e.length;c++){let f=e[c];if(f.top<=u&&f.bottom>=l){u=Math.max(f.bottom,u),l=Math.min(f.top,l);let e=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(e<s){n=h,s=e,r=e&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==h.nodeType&&e&&(a=d+(t.left>=(f.left+f.right)/2?1:0));continue}}else f.top>t.top&&!i&&f.left<=t.left&&f.right>=t.left&&(i=h,o={left:Math.max(f.left,Math.min(f.right,t.left)),top:f.top});!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(a=d+1)}}return!n&&i&&(n=i,r=o,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=K(r,1);if(n.top!=n.bottom&&G(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:a}:V(n,r)}function G(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function $(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(G(t,i))return $(n,t,i)}}if((o=(o+1)%r)==i)break}return e}function Y(e,t){let n,r=e.dom.ownerDocument,i=0,o=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}(r,t.left,t.top);o&&({node:n,offset:i}=o);let s,u=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){let n=e.dom.getBoundingClientRect();if(!G(t,n))return null;if(u=$(e.dom,t,n),!u)return null}if(I)for(let e=u;n&&e;e=a(e))e.draggable&&(n=void 0);if(u=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),n){if(D&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}let r;L&&i&&1==n.nodeType&&1==(r=n.childNodes[i-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=function(e,t,n,r){let i=-1;for(let n=t,o=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent&&!o||!t.contentDOM)){let e=t.dom.getBoundingClientRect();if(t.node.isBlock&&t.parent&&!o&&(o=!0,e.left>r.left||e.top>r.top?i=t.posBefore:(e.right<r.left||e.bottom<r.top)&&(i=t.posAfter)),!t.contentDOM&&i<0&&!t.node.isText)return(t.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?t.posBefore:t.posAfter}n=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}(e,n,i,t))}null==s&&(s=function(e,t,n){let{node:r,offset:i}=V(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}(e,u,t));let c=e.docView.nearestDesc(u,!0);return{pos:s,inside:c?c.posAtStart-c.border:-1}}function W(e){return e.top<e.bottom||e.left<e.right}function K(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(W(e))return e}return Array.prototype.find.call(n,W)||e.getBoundingClientRect()}const q=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function X(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=L||D;if(3==r.nodeType){if(!s||!q.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,o=n<0?1:-1;return n<0&&!i?(t++,o=-1):n>=0&&i==r.nodeValue.length?(e--,o=1):n<0?e--:t++,J(K(c(r,e,t),o),o<0)}{let e=K(c(r,i,i),n);if(D&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=K(c(r,i-1,i-1),-1);if(t.top==e.top){let n=K(c(r,i,i+1),-1);if(n.top!=e.top)return J(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==f(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return Z(e.getBoundingClientRect(),!1)}if(null==o&&i<f(r)){let e=r.childNodes[i];if(1==e.nodeType)return Z(e.getBoundingClientRect(),!0)}return Z(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==f(r))){let e=r.childNodes[i-1],t=3==e.nodeType?c(e,f(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return J(K(t,1),!1)}if(null==o&&i<f(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?c(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return J(K(t,-1),!0)}return J(K(3==r.nodeType?c(r):r,-n),n>=0)}function J(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Z(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Q(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}const ee=/[\u0590-\u08ac]/;let te=null,ne=null,re=!1;function ie(e,t,n){return te==t&&ne==n?re:(te=t,ne=n,re="up"==n||"down"==n?function(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return Q(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=X(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=c(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return ee.test(r.parent.textContent)&&a.modify?Q(e,t,(()=>{let{focusNode:t,focusOffset:i,anchorNode:o,anchorOffset:s}=e.domSelectionRange(),u=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:l,focusOffset:h}=e.domSelectionRange(),d=l&&!c.contains(1==l.nodeType?l:l.parentNode)||t==l&&i==h;try{a.collapse(o,s),t&&(t!=o||i!=s)&&a.extend&&a.extend(t,i)}catch(e){}return null!=u&&(a.caretBidiLevel=u),d})):"left"==n||"backward"==n?o:s}(e,t,n))}class oe{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,i=0;for(let t=0;r<this.children.length;r++){let n=this.children[r],o=t+n.size;if(o>e||n instanceof de){i=e-t;break}t=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof se&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;e=r?this.children[r-1]:null,e&&e.dom.parentNode!=this.contentDOM;r--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?s(e.dom)+1:0}}{let e,n=!0;for(;e=r<this.children.length?this.children[r]:null,e&&e.dom.parentNode!=this.contentDOM;r++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?s(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],u=o+n.size;if(-1==r&&e<=u){let i=o+n.border;if(e>=i&&t<=u-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=o;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(u>t||a==this.children.length-1)){t=u;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=s(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let s=0,a=0;s<this.children.length;s++){let u=this.children[s],c=a+u.size;if(i>a&&o<c)return u.setSelection(e-a-u.border,t-a-u.border,n,r);a=c}let a=this.domFromPos(e,e?-1:1),u=t==e?a:this.domFromPos(t,t?-1:1),c=n.getSelection(),h=!1;if((D||I)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(h=!(!t||"\n"!=e.nodeValue[t-1]),h&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(a=u={node:t.parentNode,offset:s(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];h=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(D&&c.focusNode&&c.focusNode!=u.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||h&&I)&&l(a.node,a.offset,c.anchorNode,c.anchorOffset)&&l(u.node,u.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==t)&&!h){c.collapse(a.node,a.offset);try{e!=t&&c.extend(u.node,u.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=a;a=u,u=e}let n=document.createRange();n.setEnd(u.node,u.offset),n.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+i.border,s=o-i.border;if(e>=r&&t<=s)return this.dirty=e==n||t==o?2:1,void(e!=r||t!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class se extends oe{constructor(e,t,n,r){let i,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ae extends oe{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class ue extends oe{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],s=o&&o(t,r,n);return s&&s.dom||(s=i.b.renderSpec(document,t.type.spec.toDOM(t,n))),new ue(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=ue.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=De(i,t,o,n)),e>0&&(i=De(i,0,e,n));for(let e=0;e<i.length;e++)i[e].parent=r;return r.children=i,r}}class ce extends oe{constructor(e,t,n,r,i,o,s,a,u){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,o,s){let a,u=o.nodeViews[t.type.name],c=u&&u(t,o,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:s),n,r),l=c&&c.dom,h=c&&c.contentDOM;if(t.isText)if(l){if(3!=l.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else l=document.createTextNode(t.text);else l||({dom:l,contentDOM:h}=i.b.renderSpec(document,t.type.spec.toDOM(t)));h||t.isText||"BR"==l.nodeName||(l.hasAttribute("contenteditable")||(l.contentEditable="false"),t.type.spec.draggable&&(l.draggable=!0));let d=l;return l=Ae(l,n,t),c?a=new fe(e,t,n,r,l,h||null,d,c,o,s+1):t.isText?new he(e,t,n,r,l,d,o):new ce(e,t,n,r,l,h||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>i.c.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ye(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,u=new Se(this,s&&s.node,e);!function(e,t,n,r){let i=t.locals(e),o=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,i,t.forChild(o,s),n),o+=s.nodeSize}return}let s=0,a=[],u=null;for(let c=0;;){let l,h,d,f;for(;s<i.length&&i[s].to==o;){let e=i[s++];e.widget&&(l?(h||(h=[l])).push(e):l=e)}if(l)if(h){h.sort(be);for(let e=0;e<h.length;e++)n(h[e],c,!!u)}else n(l,c,!!u);if(u)f=-1,d=u,u=null;else{if(!(c<e.childCount))break;f=c,d=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=o&&a.splice(e--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+d.nodeSize;if(d.isText){let e=p;s<i.length&&i[s].from<e&&(e=i[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<p&&(u=d.cut(e-o),d=d.cut(0,e-o),p=e,f=-1)}else for(;s<i.length&&i[s].to<=p;)s++;r(d,d.isInline&&!d.isLeaf?a.filter((e=>!e.inline)):a.slice(),t.forChild(o,d),f),o=p}}(this.node,this.innerDeco,((t,o,s)=>{t.spec.marks?u.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!s&&u.syncToMarks(o==this.node.childCount?i.d.none:this.node.child(o).marks,n,e),u.placeWidget(t,e,r)}),((t,i,s,c)=>{let l;u.syncToMarks(t.marks,n,e),u.findNodeMatch(t,i,s,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(l=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(t,i,s,l,e)||u.updateNextNode(t,i,s,e,c,r)||u.addNode(t,i,s,e,r),r+=t.nodeSize})),u.syncToMarks([],n,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),pe(this.contentDOM,this.children,e),N&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof r.TextSelection)||n<t||i>t+this.node.content.size)return null;let o=e.domSelectionRange(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=f(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let e=s.nodeValue,r=function(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<e.childCount;){let t=e.child(i++);if(o+=t.nodeSize,!t.isText)break;u+=t.text}if(o>=n){if(o>=r&&u.slice(r-t.length-a,r-a)==t)return r-t.length;let e=a<r?u.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&u.length>=r+t.length-a&&u.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,e,n-t,i-t);return r<0?null:{node:s,pos:r,text:e}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new ae(this,i,t,r);e.input.compositionNodes.push(o),this.children=De(this.children,n,n+r.length,e,o)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(ye(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=_e(this.dom,this.nodeDOM,Ee(this.outerDeco,this.node,t),Ee(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function le(e,t,n,r,i){Ae(r,t,e);let o=new ce(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class he extends ce{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new he(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class de extends oe{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class fe extends ce{constructor(e,t,n,r,i,o,s,a,u,c){super(e,t,n,r,i,o,s,u,c),this.spec=a}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function pe(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=Oe(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof ue){let t=r?r.previousSibling:e.lastChild;pe(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Oe(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const me=function(e){e&&(this.nodeName=e)};me.prototype=Object.create(null);const ge=[new me];function Ee(e,t,n){if(0==e.length)return ge;let r=n?ge[0]:new me,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new me(s.nodeName));for(let e in s){let o=s[e];null!=o&&(n&&1==i.length&&i.push(r=new me(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o))}}}return i}function _e(e,t,n,r){if(n==ge&&r==ge)return t;let i=t;for(let t=0;t<r.length;t++){let o=r[t],s=n[t];if(t){let t;s&&s.nodeName==o.nodeName&&i!=e&&(t=i.parentNode)&&t.nodeName.toLowerCase()==o.nodeName||(t=document.createElement(o.nodeName),t.pmIsDeco=!0,t.appendChild(i),s=ge[0]),i=t}ve(i,s||ge[0],o)}return i}function ve(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Ae(e,t,n){return _e(e,e,ge,Ee(t,n,1!=e.nodeType))}function ye(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Oe(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Se{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof ue)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=a.node;if(u){if(u!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=ue.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof ce){let u=this.preMatch.matched.get(a);if(null!=u&&u!=i)return!1;let c,l=a.dom,h=this.isLocked(l)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&ye(t,a.outerDeco));if(!h&&a.update(e,t,n,r))return this.destroyBetween(this.index,s),a.dom!=l&&(this.changed=!0),this.index++,!0;if(!h&&(c=this.recreateWrapper(a,e,t,n,r,o)))return this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,o+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let s=ce.create(this.top,t,n,r,i,o);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,r,i){let o=ce.create(this.top,e,t,n,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new se(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ue;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof he)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((I||C)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new de(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function be(e,t){return e.type.side-t.type.side}function De(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let u=e[s],c=a,l=a+=u.size;c>=n||l<=t?o.push(u):(c<t&&o.push(u.slice(0,t-c,r)),i&&(o.push(i),i=void 0),l>n&&o.push(u.slice(n-c,u.size,r)))}return o}function Te(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),a=o&&0==o.size,u=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(u<0)return null;let c,l,h=i.resolve(u);if(m(n)){for(c=h;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&r.NodeSelection.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,i=t==f(e);r||i;){if(e==n)return!0;let t=s(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==f(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new r.NodeSelection(u==e?h:i.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;c=i.resolve(t)}if(!l){l=Me(e,c,h,"pointer"==t||e.state.selection.head<h.pos&&!a?1:-1)}return l}function Ce(e){return e.editable?e.hasFocus():Fe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Re(e,t=!1){let n=e.state.selection;if(xe(e,n),Ce(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&C){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&l(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,s(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&S&&b<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let i,o,{anchor:s,head:a}=n;!Ie||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(i=Ne(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Ne(e,n.to))),e.docView.setSelection(s,a,e.root,t),Ie&&(i&&ke(i),o&&ke(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Ce(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Ie=I||C&&R<63;function Ne(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(I&&i&&"false"==i.contentEditable)return we(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return we(i);if(o)return we(o)}}function we(e){return e.contentEditable="true",I&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ke(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function xe(e,t){if(t instanceof r.NodeSelection){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Le(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Le(e)}function Le(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Me(e,t,n,i){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||r.TextSelection.between(t,n,i)}function Pe(e){return!(e.editable&&!e.hasFocus())&&Fe(e)}function Fe(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function je(e,t){let{$anchor:n,$head:i}=e.selection,o=t>0?n.max(i):n.min(i),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&r.Selection.findFrom(s,t)}function Be(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ue(e,t,n){let i=e.state.selection;if(!(i instanceof r.TextSelection)){if(i instanceof r.NodeSelection&&i.node.isInline)return Be(e,new r.TextSelection(t>0?i.$to:i.$from));{let n=je(e.state,t);return!!n&&Be(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=i,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return Be(e,new r.TextSelection(i.$anchor,s))}if(!i.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=je(e.state,t);return!!(n&&n instanceof r.NodeSelection)&&Be(e,n)}if(!(w&&n.indexOf("m")>-1)){let n,o=i.$head,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText)return!1;let a=t<0?o.pos-s.nodeSize:o.pos;return!!(s.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(r.NodeSelection.isSelectable(s)?Be(e,new r.NodeSelection(t<0?e.state.doc.resolve(o.pos-s.nodeSize):o)):!!L&&Be(e,new r.TextSelection(e.state.doc.resolve(t<0?a:a+s.nodeSize))))}}function He(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ze(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function Ve(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;D&&1==n.nodeType&&r<He(n)&&ze(n.childNodes[r],-1)&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(ze(e,-1))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(Ge(n))break;{let t=n.previousSibling;for(;t&&ze(t,-1);)i=n.parentNode,o=s(t),t=t.previousSibling;if(t)n=t,r=He(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?$e(e,n,r):i&&$e(e,i,o)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=He(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!ze(n.childNodes[r],1))break;i=n,o=++r}else{if(Ge(n))break;{let t=n.nextSibling;for(;t&&ze(t,1);)i=t.parentNode,o=s(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=He(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}i&&$e(e,i,o)}(e)}function Ge(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function $e(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!p(e);)t=s(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!p(e);)t=s(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(m(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&Re(e)}),50)}function Ye(e,t){let n=e.state.doc.resolve(t);if(!C&&!k&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function We(e,t,n){let i=e.state.selection;if(i instanceof r.TextSelection&&!i.empty||n.indexOf("s")>-1)return!1;if(w&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=i;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=je(e.state,t);if(n&&n instanceof r.NodeSelection)return Be(e,n)}if(!o.parent.inlineContent){let n=t<0?o:s,a=i instanceof r.AllSelection?r.Selection.near(n,t):r.Selection.findFrom(n,t);return!!a&&Be(e,a)}return!1}function Ke(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;let{$head:n,$anchor:i,empty:o}=e.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=e.state.tr;return t<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),e.dispatch(r),!0}return!1}function qe(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Xe(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||w&&72==n&&"c"==r)return Ke(e,-1)||Ve(e,-1);if(46==n&&!t.shiftKey||w&&68==n&&"c"==r)return Ke(e,1)||Ve(e,1);if(13==n||27==n)return!0;if(37==n||w&&66==n&&"c"==r){let t=37==n?"ltr"==Ye(e,e.state.selection.from)?-1:1:-1;return Ue(e,t,r)||Ve(e,t)}if(39==n||w&&70==n&&"c"==r){let t=39==n?"ltr"==Ye(e,e.state.selection.from)?1:-1:1;return Ue(e,t,r)||Ve(e,t)}return 38==n||w&&80==n&&"c"==r?We(e,-1,r)||Ve(e,-1):40==n||w&&78==n&&"c"==r?function(e){if(!I||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;qe(e,n,"true"),setTimeout((()=>qe(e,n,"false")),20)}return!1}(e)||We(e,1,r)||Ve(e,1):r==(w?"m":"c")&&(66==n||73==n||89==n||90==n)}function Je(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:o,openEnd:s}=t;for(;o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,s--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||i.b.fromSchema(e.state.schema),u=at(),c=u.createElement("div");c.appendChild(a.serializeFragment(r,{document:u}));let l,h=c.firstChild,d=0;for(;h&&1==h.nodeType&&(l=ot[h.nodeName.toLowerCase()]);){for(let e=l.length-1;e>=0;e--){let t=u.createElement(l[e]);for(;c.firstChild;)t.appendChild(c.firstChild);c.appendChild(t),d++}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${o} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:c,text:e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ze(e,t,n,r,o){let s,a,u=o.parent.type.spec.code;if(!n&&!t)return null;let c=t&&(r||u||!n);if(c){if(e.someProp("transformPastedText",(n=>{t=n(t,u||r,e)})),u)return t?new i.i(i.c.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):i.i.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,r,e)));if(n)a=n;else{let n=o.marks(),{schema:r}=e.state,a=i.b.fromSchema(r);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=s.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),s=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=at().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);(n=i&&ot[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),L&&function(e){let t=e.querySelectorAll(C?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(s);let l=s&&s.querySelector("[data-pm-slice]"),h=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let e=+h[3];e>0;e--){let e=s.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;s=e}if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||i.a.fromSchema(e.state.schema);a=t.parseSlice(s,{preserveWhitespace:!(!c&&!h),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Qe.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(h)a=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:s,openEnd:a}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=i.c.from(t.create(n[e+1],o)),s++,a++}return new i.i(o,s,a)}(it(a,+h[1],+h[2]),h[4]);else if(a=i.i.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),s=[];if(e.forEach((e=>{if(!s)return;let t,n=o.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&tt(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=nt(s[s.length-1],r.length));let t=et(e,n);s.push(t),o=o.matchType(t.type),r=n}})),s)return i.c.from(s)}return e}(a.content,o),!0),a.openStart||a.openEnd){let e=0,t=0;for(let t=a.content.firstChild;e<a.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=a.content.lastChild;t<a.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);a=it(a,e,t)}return e.someProp("transformPasted",(t=>{a=t(a,e)})),a}const Qe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function et(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,i.c.from(e));return e}function tt(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let s=tt(e,t,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(i.c.from(et(n,e,o+1))))}}function nt(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,nt(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(i.c.empty,!0);return e.copy(n.append(r))}function rt(e,t,n,r,o,s){let a=t<0?e.firstChild:e.lastChild,u=a.content;return e.childCount>1&&(s=0),o<r-1&&(u=rt(u,t,n,r,o+1,s)),o>=n&&(u=t<0?a.contentMatchAt(0).fillBefore(u,s<=o).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(i.c.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(u))}function it(e,t,n){return t<e.openStart&&(e=new i.i(rt(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new i.i(rt(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const ot={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let st=null;function at(){return st||(st=document.implementation.createHTMLDocument("title"))}const ut={},ct={},lt={touchstart:!0,touchmove:!0};class ht{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dt(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function ft(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>pt(e,t))}))}function pt(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function mt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function gt(e){return{left:e.clientX,top:e.clientY}}function Et(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(e.someProp(t,(t=>r>o.depth?t(e,n,o.nodeAfter,o.before(r),i,!0):t(e,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function _t(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function vt(e,t,n,i,o){return Et(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(n=>n(e,t,i)))||(o?function(e,t){if(-1==t)return!1;let n,i,o=e.state.selection;o instanceof r.NodeSelection&&(n=o.node);let s=e.state.doc.resolve(t);for(let e=s.depth+1;e>0;e--){let t=e>s.depth?s.nodeAfter:s.node(e);if(r.NodeSelection.isSelectable(t)){i=n&&o.$from.depth>0&&e>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(e);break}}return null!=i&&(_t(e,r.NodeSelection.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&r.NodeSelection.isSelectable(i))&&(_t(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function At(e,t,n,r){return Et(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function yt(e,t,n,i){return Et(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(n=>n(e,t,i)))||function(e,t,n){if(0!=n.button)return!1;let i=e.state.doc;if(-1==t)return!!i.inlineContent&&(_t(e,r.TextSelection.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),s=o.before(t);if(n.inlineContent)_t(e,r.TextSelection.create(i,s+1,s+1+n.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(n))continue;_t(e,r.NodeSelection.create(i,s),"pointer")}return!0}}(e,n,i)}function Ot(e){return It(e)}ct.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Dt(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!x||!C||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!N||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||Xe(e,n)?n.preventDefault():dt(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,g(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},ct.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},ct.keypress=(e,t)=>{let n=t;if(Dt(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||w&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let i=e.state.selection;if(!(i instanceof r.TextSelection&&i.$from.sameParent(i.$to))){let t=String.fromCharCode(n.charCode);/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,i.$from.pos,i.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const St=w?"metaKey":"ctrlKey";ut.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Ot(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[St]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(gt(n));s&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new bt(e,s,n,!!r)):("doubleClick"==o?At:yt)(e,s.pos,s.inside,n)?n.preventDefault():dt(e,"pointer"))};class bt{constructor(e,t,n,i){let o,s;if(this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[St],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,s=n.depth?n.before():0}const a=i?null:n.target,u=a?e.docView.nearestDesc(a,!0):null;this.target=u?u.dom:null;let{selection:c}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof r.NodeSelection&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!D||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),dt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Re(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(gt(e))),this.updateAllowDefault(e),this.allowDefault||!t?dt(this.view,"pointer"):vt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||I&&this.mightDrag&&!this.mightDrag.node.isAtom||C&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(_t(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):dt(this.view,"pointer")}move(e){this.updateAllowDefault(e),dt(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function Dt(e,t){return!!e.composing||!!(I&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}ut.touchstart=e=>{e.input.lastTouch=Date.now(),Ot(e),dt(e,"pointer")},ut.touchmove=e=>{e.input.lastTouch=Date.now(),dt(e,"pointer")},ut.contextmenu=e=>Ot(e);const Tt=x?5e3:-1;function Ct(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>It(e)),t))}function Rt(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function It(e,t=!1){if(!(x&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Rt(e),t||e.docView&&e.docView.dirty){let t=Te(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}ct.compositionstart=ct.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),It(e,!0),e.markCursor=null;else if(It(e),D&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}Ct(e,Tt)},ct.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then((()=>e.domObserver.flush())),e.input.compositionID++,Ct(e,20))};const Nt=S&&b<15||N&&M<604;function wt(e,t,n,r,o){let s=Ze(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,s||i.i.empty))))return!0;if(!s)return!1;let a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(s),u=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function kt(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ut.copy=ct.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=Nt?null:n.clipboardData,s=r.content(),{dom:a,text:u}=Je(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",u)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ct.paste=(e,t)=>{let n=t;if(e.composing&&!x)return;let r=Nt?null:n.clipboardData,i=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&wt(e,kt(r),r.getData("text/html"),i,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?wt(e,r.value,null,i,t):wt(e,r.textContent,r.innerHTML,i,t)}),50)}(e,n)};class xt{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Lt=w?"altKey":"ctrlKey";ut.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o,s=e.state.selection,a=s.empty?null:e.posAtCoords(gt(n));if(a&&a.pos>=s.from&&a.pos<=(s instanceof r.NodeSelection?s.to-1:s.to));else if(i&&i.mightDrag)o=r.NodeSelection.create(e.state.doc,i.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=r.NodeSelection.create(e.state.doc,t.posBefore))}let u=(o||e.state.selection).content(),{dom:c,text:l}=Je(e,u);n.dataTransfer.clearData(),n.dataTransfer.setData(Nt?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nt||n.dataTransfer.setData("text/plain",l),e.dragging=new xt(u,!n[Lt],o)},ut.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},ct.dragover=ct.dragenter=(e,t)=>t.preventDefault(),ct.drop=(e,t)=>{let n=t,s=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let a=e.posAtCoords(gt(n));if(!a)return;let u=e.state.doc.resolve(a.pos),c=s&&s.slice;c?e.someProp("transformPasted",(t=>{c=t(c,e)})):c=Ze(e,kt(n.dataTransfer),Nt?null:n.dataTransfer.getData("text/html"),!1,u);let l=!(!s||n[Lt]);if(e.someProp("handleDrop",(t=>t(e,n,c||i.i.empty,l))))return void n.preventDefault();if(!c)return;n.preventDefault();let h=c?Object(o.g)(e.state.doc,u.pos,c):u.pos;null==h&&(h=u.pos);let d=e.state.tr;if(l){let{node:e}=s;e?e.replace(d):d.deleteSelection()}let f=d.mapping.map(h),p=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=d.doc;if(p?d.replaceRangeWith(f,f,c.content.firstChild):d.replaceRange(f,f,c),d.doc.eq(m))return;let g=d.doc.resolve(f);if(p&&r.NodeSelection.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new r.NodeSelection(g));else{let t=d.mapping.map(h);d.mapping.maps[d.mapping.maps.length-1].forEach(((e,n,r,i)=>t=i)),d.setSelection(Me(e,g,d.doc.resolve(t)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))},ut.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Re(e)}),20))},ut.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},ut.beforeinput=(e,t)=>{if(C&&x&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,g(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in ct)ut[e]=ct[e];function Mt(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Pt{constructor(e,t){this.toDOM=e,this.spec=t||Ht,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Bt(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Pt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Mt(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ft{constructor(e,t){this.attrs=e,this.spec=t||Ht}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Bt(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ft&&Mt(this.attrs,e.attrs)&&Mt(this.spec,e.spec)}static is(e){return e.type instanceof Ft}destroy(){}}class jt{constructor(e,t){this.attrs=e,this.spec=t||Ht}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Bt(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof jt&&Mt(this.attrs,e.attrs)&&Mt(this.spec,e.spec)}destroy(){}}class Bt{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Bt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Bt(e,e,new Pt(t,n))}static inline(e,t,n,r){return new Bt(e,t,new Ft(n,r))}static node(e,t,n,r){return new Bt(e,t,new jt(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ft}get widget(){return this.type instanceof Pt}}const Ut=[],Ht={};class zt{constructor(e,t){this.local=e.length?e:Ut,this.children=t.length?t:Ut}static create(e,t){return t.length?Kt(t,e,0,Ht):Vt}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,r+s,i)}}map(e,t,n){return this==Vt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Ht)}mapInner(e,t,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,i,o,s){let a=e.slice();for(let e=0,t=o;e<n.maps.length;e++){let r=0;n.maps[e].forEach(((e,n,i,o)=>{let s=o-i-(n-e);for(let i=0;i<a.length;i+=3){let o=a[i+1];if(o<0||e>o+t-r)continue;let u=a[i]+t-r;n>=u?a[i+1]=e<=u?-2:-1:e>=t&&s&&(a[i]+=s,a[i+1]+=s)}r+=s})),t=n.maps[e].map(t,-1)}let u=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){u=!0,a[t+1]=-1;continue}let c=n.map(e[t]+o),l=c-i;if(l<0||l>=r.content.size){u=!0;continue}let h=n.map(e[t+1]+o,-1)-i,{index:d,offset:f}=r.content.findIndex(l),p=r.maybeChild(d);if(p&&f==l&&f+p.nodeSize==h){let r=a[t+2].mapInner(n,p,c+1,e[t]+o+1,s);r!=Vt?(a[t]=l,a[t+1]=h,a[t+2]=r):(a[t+1]=-2,u=!0)}else u=!0}if(u){let u=Kt(function(e,t,n,r,i,o,s){function a(e,t){for(let o=0;o<e.local.length;o++){let a=e.local[o].map(r,i,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+o+1);return n}(a,e,t,n,i,o,s),r,0,s);t=u.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<u.children.length;e+=3){let n=u.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,u.children[e],u.children[e+1],u.children[e+2])}}return new zt(t.sort(qt),a)}(this.children,o||[],e,t,n,r,i):o?new zt(o.sort(qt),Ut):Vt}add(e,t){return t.length?this==Vt?zt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach(((e,o)=>{let s,a=o+n;if(s=Yt(t,e,a)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,s,a+1):r.splice(i,0,o,o+e.nodeSize,Kt(s,e,a+1,Ht)),i+=3}}));let o=$t(i?Wt(t):t,-n);for(let t=0;t<o.length;t++)o[t].type.valid(e,o[t])||o.splice(t--,1);return new zt(o.length?this.local.concat(o).sort(qt):this.local,r||this.children)}remove(e){return 0==e.length||this==Vt?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+t,s=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<s&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(i,o+1);a!=Vt?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<e.length;i++)if(n=e[i])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new zt(r,n):Vt}forChild(e,t){if(this==Vt)return this;if(t.isLeaf)return zt.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let i=e+1,o=i+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<o&&t.to>i&&t.type instanceof Ft){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new zt(r.sort(qt),Ut);return n?new Gt([e,n]):e}return n||Vt}eq(e){if(this==e)return!0;if(!(e instanceof zt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Xt(this.localsInner(e))}localsInner(e){if(this==Vt)return Ut;if(e.inlineContent||!this.local.some(Ft.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Ft||t.push(this.local[e]);return t}}zt.empty=new zt([],[]),zt.removeOverlap=Xt;const Vt=zt.empty;class Gt{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Ht)));return Gt.from(n)}forChild(e,t){if(t.isLeaf)return zt.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=Vt&&(i instanceof Gt?n=n.concat(i.members):n.push(i))}return Gt.from(n)}eq(e){if(!(e instanceof Gt)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?Xt(n?t:t.sort(qt)):Ut}static from(e){switch(e.length){case 0:return Vt;case 1:return e[0];default:return new Gt(e.every((e=>e instanceof zt))?e:e.reduce(((e,t)=>e.concat(t instanceof zt?t:t.members)),[]))}}}function $t(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Bt(i.from+t,i.to+t,i.type))}return n}function Yt(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let t,o=0;o<e.length;o++)(t=e[o])&&t.from>n&&t.to<r&&((i||(i=[])).push(t),e[o]=null);return i}function Wt(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Kt(e,t,n,r){let i=[],o=!1;t.forEach(((t,s)=>{let a=Yt(e,t,s+n);if(a){o=!0;let e=Kt(a,t,n+s+1,r);e!=Vt&&i.push(s,s+t.nodeSize,e)}}));let s=$t(o?Wt(e):e,-n).sort(qt);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(r.onRemove&&r.onRemove(s[e].spec),s.splice(e--,1));return s.length||i.length?new zt(s,i):Vt}function qt(e,t){return e.from-t.from||e.to-t.to}function Xt(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Jt(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Jt(t,i+1,o.copy(r.to,o.to)))}}return t}function Jt(e,t,n){for(;t<e.length&&qt(n,e[t])>0;)t++;e.splice(t,0,n)}function Zt(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Vt&&t.push(r)})),e.cursorWrapper&&t.push(zt.create(e.state.doc,[e.cursorWrapper.deco])),Gt.from(t)}const Qt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},en=S&&b<=11;class tn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class nn{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new tn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);S&&b<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),en&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Qt)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Pe(this.view)){if(this.suppressingSelectionUpdates)return Re(this.view);if(S&&b<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&l(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=a(t))n.add(t);for(let r=e.anchorNode;r;r=a(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Pe(e)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,u=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],u);n&&(o=o<0?n.from:Math.min(n.from,o),s=s<0?n.to:Math.max(n.to,s),n.typeOver&&(a=!0))}if(D&&u.length>1){let e=u.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&m(n)&&(c=Te(e))&&c.eq(r.Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Re(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),function(e){if(rn.has(e))return;if(rn.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=D,on)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),on=!0}}(e)),this.handleDOMChange(o,s,a,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Re(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(S&&b<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==e.target?s(r)+1:0,a=n.localPosFromDOM(e.target,o,-1),u=i&&i.parentNode==e.target?s(i):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,u,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let rn=new WeakMap,on=!1;function sn(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(I&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||I&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const an=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function un(e,t,n,o,s){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Te(e,t);if(n&&!e.state.selection.eq(n)){if(C&&x&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,g(13,"Enter")))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),a&&r.setMeta("composition",a),e.dispatch(r)}return}let u=e.state.doc.resolve(t),c=u.sharedDepth(n);t=u.before(c+1),n=e.state.doc.resolve(n).after(c+1);let l,h,d=e.state.selection,f=function(e,t,n){let r,{node:o,fromOffset:s,toOffset:a,from:u,to:c}=e.docView.parseRange(t,n),l=e.domSelectionRange(),h=l.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:l.anchorOffset}],m(l)||r.push({node:l.focusNode,offset:l.focusOffset})),C&&8===e.input.lastKeyCode)for(let e=a;e>s;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){a=e;break}if(!n||n.size)break}let d=e.state.doc,f=e.someProp("domParser")||i.a.fromSchema(e.state.schema),p=d.resolve(u),g=null,E=f.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:sn,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),g={anchor:e+u,head:t+u}}return{doc:E,sel:g,from:u,to:c}}(e,t,n),p=e.state.doc,E=p.slice(f.from,f.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,h="end"):(l=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let _=function(e,t,n,r,i){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i){r-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.size<t.size){let e=r<=o&&r>=s?o-r:0;o-=e,o&&o<t.size&&hn(t.textBetween(o-1,o+1))&&(o+=e?1:-1),a=o+(a-s),s=o}else if(a<o){let t=r<=o&&r>=a?o-r:0;o-=t,o&&o<e.size&&hn(e.textBetween(o-1,o+1))&&(o+=t?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}(E.content,f.doc.content,f.from,l,h);if((N&&e.input.lastIOSEnter>Date.now()-225||x)&&s.some((e=>1==e.nodeType&&!an.test(e.nodeName)))&&(!_||_.endA>=_.endB)&&e.someProp("handleKeyDown",(t=>t(e,g(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!_){if(!(o&&d instanceof r.TextSelection&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){let t=cn(e,e.state.doc,f.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);a&&n.setMeta("composition",a),e.dispatch(n)}}return}_={start:d.from,endA:d.to,endB:d.to}}if(C&&e.cursorWrapper&&f.sel&&f.sel.anchor==e.cursorWrapper.deco.from&&f.sel.head==f.sel.anchor){let e=_.endB-_.start;f.sel={anchor:f.sel.anchor+e,head:f.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&_.start==_.endB&&e.state.selection instanceof r.TextSelection&&(_.start>e.state.selection.from&&_.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?_.start=e.state.selection.from:_.endA<e.state.selection.to&&_.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(_.endB+=e.state.selection.to-_.endA,_.endA=e.state.selection.to)),S&&b<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>f.from&&" "==f.doc.textBetween(_.start-f.from-1,_.start-f.from+1)&&(_.start--,_.endA--,_.endB--);let v,A=f.doc.resolveNoCache(_.start-f.from),y=f.doc.resolveNoCache(_.endB-f.from),O=p.resolve(_.start),D=A.sameParent(y)&&A.parent.inlineContent&&O.end()>=_.endA;if((N&&e.input.lastIOSEnter>Date.now()-225&&(!D||s.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!D&&A.pos<f.doc.content.size&&!A.sameParent(y)&&(v=r.Selection.findFrom(f.doc.resolve(A.pos+1),1,!0))&&v.head==y.pos)&&e.someProp("handleKeyDown",(t=>t(e,g(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>_.start&&function(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||ln(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(ln(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||ln(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(p,_.start,_.endA,A,y)&&e.someProp("handleKeyDown",(t=>t(e,g(8,"Backspace")))))return void(x&&C&&e.domObserver.suppressSelectionUpdates());C&&x&&_.endB==_.start&&(e.input.lastAndroidDelete=Date.now()),x&&!D&&A.start()!=y.start()&&0==y.parentOffset&&A.depth==y.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==_.endA&&(_.endB-=2,y=f.doc.resolveNoCache(_.endB-f.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,g(13,"Enter"))}))}),20));let T,R,I,w=_.start,k=_.endA;if(D)if(A.pos==y.pos)S&&b<=11&&0==A.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Re(e)),20)),T=e.state.tr.delete(w,k),R=p.resolve(_.start).marksAcross(p.resolve(_.endA));else if(_.endA==_.endB&&(I=function(e,t){let n,r,o,s=e.firstChild.marks,a=t.firstChild.marks,u=s,c=a;for(let e=0;e<a.length;e++)u=a[e].removeFromSet(u);for(let e=0;e<s.length;e++)c=s[e].removeFromSet(c);if(1==u.length&&0==c.length)r=u[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=u.length||1!=c.length)return null;r=c[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let l=[];for(let e=0;e<t.childCount;e++)l.push(o(t.child(e)));if(i.c.from(l).eq(e))return{mark:r,type:n}}(A.parent.content.cut(A.parentOffset,y.parentOffset),O.parent.content.cut(O.parentOffset,_.endA-O.start()))))T=e.state.tr,"add"==I.type?T.addMark(w,k,I.mark):T.removeMark(w,k,I.mark);else if(A.parent.child(A.index()).isText&&A.index()==y.index()-(y.textOffset?0:1)){let t=A.parent.textBetween(A.parentOffset,y.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,w,k,t))))return;T=e.state.tr.insertText(t,w,k)}if(T||(T=e.state.tr.replace(w,k,f.doc.slice(_.start-f.from,_.endB-f.from))),f.sel){let t=cn(e,T.doc,f.sel);t&&!(C&&x&&e.composing&&t.empty&&(_.start!=_.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==w||t.head==T.mapping.map(k)-1)||S&&t.empty&&t.head==w)&&T.setSelection(t)}R&&T.ensureMarks(R),a&&T.setMeta("composition",a),e.dispatch(T.scrollIntoView())}function cn(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Me(e,t.resolve(n.anchor),t.resolve(n.head))}function ln(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}function hn(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}const dn=Je,fn=Ze,pn=It;class mn{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ht,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(An),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=_n(this),En(this),this.nodeViews=vn(this),this.docView=le(this.state.doc,gn(this),Zt(this),this.dom,this),this.domObserver=new nn(this,((e,t,n,r)=>un(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in ut){let n=ut[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!mt(e,t)||pt(e,t)||!e.editable&&t.type in ct||n(e,t)},lt[t]?{passive:!0}:void 0)}I&&e.dom.addEventListener("input",(()=>null)),ft(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ft(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(An),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(Rt(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=vn(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,i=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&ft(this),this.editable=_n(this),En(this);let a=Zt(this),u=gn(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",h=i||!this.docView.matchesNode(e.doc,u,a);!h&&e.selection.eq(r.selection)||(o=!0);let d="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(o,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:U(e.dom)}}(this);if(o){this.domObserver.stop();let t=h&&(S||C)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(h){let n=C?this.trackWrites=this.domSelectionRange().focusNode:null;!i&&this.docView.update(e.doc,u,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=le(e.doc,u,a,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return l(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Re(this,t):(xe(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;H(n,0==r?0:r-t)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof r.NodeSelection){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&B(this,t.getBoundingClientRect(),e)}else B(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(i=e)}this.dragging=new xt(e.slice,e.move,i<0?void 0:r.NodeSelection.create(this.state.doc,i))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[e];if(null!=o&&(n=t?t(o):o))return n}}hasFocus(){if(S){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(z)return e.focus(z);let t=U(e);e.focus(null==z?{get preventScroll(){return z={preventScroll:!0},!0}}:void 0),z||(z=!1,H(t,0))}(this.dom),Re(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}updateRoot(){this._root=null}posAtCoords(e){return Y(this,e)}coordsAtPos(e,t=1){return X(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return ie(this,t||this.state,e)}pasteHTML(e,t){return wt(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return wt(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Zt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){pt(e,t)||!ut[t.type]||!e.editable&&t.type in ct||ut[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return I&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return l(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function gn(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),t.translate||(t.translate="no"),[Bt.node(0,e.state.doc.content.size,t)]}function En(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Bt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function _n(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function vn(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function An(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(80),i=n(107),o=n(134)("src"),s="toString",a=Function.toString,u=(""+a).split(s);n(145).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,s){"function"==typeof n&&(n.hasOwnProperty(o)||i(n,o,e[t]?""+e[t]:u.join(String(t))),n.hasOwnProperty("name")||i(n,"name",t)),e===r?e[t]=n:(s||delete e[t],i(e,t,n))})(Function.prototype,s,(function(){return"function"==typeof this&&this[o]||a.call(this)}))},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(66)("unscopables"),i=Array.prototype;null==i[r]&&n(107)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e){e.installColorSpace("XYZ",["x","y","z","alpha"],{fromRgb:function(){var t=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},n=t(this._red),r=t(this._green),i=t(this._blue);return new e.XYZ(.4124564*n+.3575761*r+.1804375*i,.2126729*n+.7151522*r+.072175*i,.0193339*n+.119192*r+.9503041*i,this._alpha)},rgb:function(){var t=this._x,n=this._y,r=this._z,i=function(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e};return new e.RGB(i(3.2404542*t+-1.5371385*n+-.4985314*r),i(-.969266*t+1.8760108*n+.041556*r),i(.0556434*t+-.2040259*n+1.0572252*r),this._alpha)},lab:function(){var t=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},n=t(this._x/95.047),r=t(this._y/100),i=t(this._z/108.883);return new e.LAB(116*r-16,500*(n-r),200*(r-i),this._alpha)}})}},function(e,t){e.exports=function(e){e.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var t,n,r,i=this._hue,o=this._saturation,s=this._value,a=Math.min(5,Math.floor(6*i)),u=6*i-a,c=s*(1-o),l=s*(1-u*o),h=s*(1-(1-u)*o);switch(a){case 0:t=s,n=h,r=c;break;case 1:t=l,n=s,r=c;break;case 2:t=c,n=s,r=h;break;case 3:t=c,n=l,r=s;break;case 4:t=h,n=c,r=s;break;case 5:t=s,n=c,r=l}return new e.RGB(t,n,r,this._alpha)},hsl:function(){var t,n=(2-this._saturation)*this._value,r=this._saturation*this._value,i=n<=1?n:2-n;return t=i<1e-9?0:r/i,new e.HSL(this._hue,t,n/2,this._alpha)},fromRgb:function(){var t,n=this._red,r=this._green,i=this._blue,o=Math.max(n,r,i),s=o-Math.min(n,r,i),a=0===o?0:s/o,u=o;if(0===s)t=0;else switch(o){case n:t=(r-i)/s/6+(r<i?1:0);break;case r:t=(i-n)/s/6+1/3;break;case i:t=(n-r)/s/6+2/3}return new e.HSV(t,a,u,this._alpha)}})}},function(e,t){e.exports=function(e){function t(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}e.installMethod("luminance",(function(){var e=this.rgb();return.2126*t(e._red)+.7152*t(e._green)+.0722*t(e._blue)}))}},function(e,t){e.exports=function(e){e.installMethod("isDark",(function(){var e=this.rgb();return(255*e._red*299+255*e._green*587+255*e._blue*114)/1e3<128}))}},function(e,t,n){var r=n(204),i=n(205);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";var r=n(206),i=n(209).EventEmitter,o="change";function s(e){this.dispatcher=e,this._hasChanged=!1,this.initialize&&this.initialize()}r.inherits(s,i),s.prototype.getContext=function(){return this.dispatcher.getContext()},s.prototype.addChangeListener=function(e){this.on(o,e)},s.prototype.removeChangeListener=function(e){this.removeListener(o,e)},s.prototype.shouldDehydrate=function(){return this._hasChanged},s.prototype.emitChange=function(e){this._hasChanged=!0,this.emit(o,e||this)},e.exports=s},function(e,t,n){"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(){var e=Object(r.useState)(Object.create(null))[1];return Object(r.useCallback)((function(){e(Object.create(null))}),[])}},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(108);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(125);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(148),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(65).setDesc,i=n(124),o=n(66)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},,,,function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.triggerCharacter=s,t.suggestionsPlugin=function(e){var t=e.matcher,n=void 0===t?s("#"):t,a=e.suggestionClass,u=void 0===a?"ProseMirror-suggestion":a,c=e.onEnter,l=void 0===c?function(){return!1}:c,h=e.onChange,d=void 0===h?function(){return!1}:h,f=e.onExit,p=void 0===f?function(){return!1}:f,m=e.onKeyDown,g=void 0===m?function(){return!1}:m,E=e.debug,_=void 0!==E&&E;return new i.Plugin({key:new i.PluginKey("suggestions"),view:function(){var e=this;return{update:function(t,n){var r=e.key.getState(n),i=e.key.getState(t.state),o=r.active&&i.active&&r.range.from!==i.range.from,s=!r.active&&i.active,a=r.active&&!i.active,u=!s&&!a&&r.text!==i.text;(a||o)&&p({view:t,range:r.range,text:r.text}),u&&!o&&d({view:t,range:i.range,text:i.text}),(s||o)&&l({view:t,range:i.range,text:i.text})}}},state:{init:function(){return{active:!1,range:{},text:null}},apply:function(e,t){var i=e.selection,o=r({},t);if(i.from===i.to){(i.from<t.range.from||i.from>t.range.to)&&(o.active=!1);var s=i.$from,a=n(s);a?(o.active=!0,o.range=a.range,o.text=a.text):o.active=!1}else o.active=!1;return o.active||(o.range={},o.text=null),o}},props:{handleKeyDown:function(e,t){return!!this.getState(e.state).active&&g({view:e,event:t})},decorations:function(e){var t=this.getState(e),n=t.active,r=t.range;return n?o.DecorationSet.create(e.doc,[o.Decoration.inline(r.from,r.to,{nodeName:"span",class:u,style:_?"background: rgba(0, 0, 255, 0.05); color: blue; border: 2px solid blue;":null})]):null}}})};var i=n(10),o=n(130);function s(e,t){var n=t.allowSpaces,r=void 0!==n&&n;return function(t){for(var n=new RegExp("\\s"+e+"$"),i=r?new RegExp(e+".*?(?=\\s"+e+"|$)","g"):new RegExp("(?:^)?"+e+"[^\\s"+e+"]*","g"),o=t.before(),s=t.end(),a=t.doc.textBetween(o,s,"\0","\0"),u=void 0;u=i.exec(a);){var c=u.input.slice(Math.max(0,u.index-1),u.index);if(/^[\s\0]?$/.test(c)){var l=u.index+t.start(),h=l+u[0].length;if(r&&n.test(a.slice(h-1,h+1))&&(u[0]+=" ",h++),l<t.pos&&h>=t.pos)return{range:{from:l,to:h},text:u[0]}}}}}},function(e,t,n){var r=n(123),i=n(147),o=n(126),s=n(90),a=n(282);e.exports=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,l=6==e,h=5==e||l;return function(d,f,p){for(var m,g,E=o(d),_=i(E),v=r(f,p,3),A=s(_.length),y=0,O=t?a(d,A):n?a(d,0):void 0;A>y;y++)if((h||y in _)&&(g=v(m=_[y],y,E),e))if(t)O[y]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return y;case 2:O.push(m)}else if(c)return!1;return l?-1:u||c?c:O}}},function(e,t,n){var r=n(125);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(246),i=n(45),o=n(133),s=n(107),a=n(124),u=n(135),c=n(299),l=n(150),h=n(65).getProto,d=n(66)("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",g="values",E=function(){return this};e.exports=function(e,t,n,_,v,A,y){c(n,t,_);var O,S,b=function(e){if(!f&&e in R)return R[e];switch(e){case m:case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},D=t+" Iterator",T=v==g,C=!1,R=e.prototype,I=R[d]||R[p]||v&&R[v],N=I||b(v);if(I){var w=h(N.call(new e));l(w,D,!0),!r&&a(R,p)&&s(w,d,E),T&&I.name!==g&&(C=!0,N=function(){return I.call(this)})}if(r&&!y||!f&&!C&&R[d]||s(R,d,N),u[t]=N,u[D]=E,v)if(O={values:T?N:b(g),keys:A?N:b(m),entries:T?b("entries"):N},y)for(S in O)S in R||o(R,S,O[S]);else i(i.P+i.F*(f||C),t,O);return O}},function(e,t,n){var r=n(301),i=n(127);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(66)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(100),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,E="function"==typeof Symbol&&Symbol.iterator;function _(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function v(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);_(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function O(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||A}function S(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||A}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=O.prototype;var D=b.prototype=new S;D.constructor=b,r(D,O.prototype),D.isPureReactComponent=!0;var T={current:null},C={current:null},R=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r=void 0,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)R.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:C.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,x=[];function L(e,t,n,r){if(x.length){var i=x.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>x.length&&x.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+j(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+j(i=e[u],u);a+=P(i,c,n,r)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=E&&e[E]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)a+=P(i=i.value,c=t+j(i,u++),n,r);else"object"===i&&v("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function F(e,t,n){return null==e?0:P(e,"",t,n)}function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?H(e,r,n,(function(e){return e})):null!=e&&(w(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function H(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),F(e,U,t=L(t,o,r,i)),M(t)}function z(){var e=T.current;return null===e&&v("321"),e}var V={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return H(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;F(e,B,t=L(null,null,t,n)),M(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return H(e,t,null,(function(e){return e})),t},only:function(e){return w(e)||v("143"),e}},createRef:function(){return{current:null}},Component:O,PureComponent:b,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:a,StrictMode:u,Suspense:p,createElement:N,cloneElement:function(e,t,n){null==e&&v("267",e);var i=void 0,s=r({},e.props),a=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=C.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)R.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))s.children=n;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];s.children=l}return{$$typeof:o,type:e.type,key:a,ref:u,props:s,_owner:c}},createFactory:function(e){var t=N.bind(null,e);return t.type=e,t},isValidElement:w,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentOwner:C,assign:r}},G={default:V},$=G&&V||G;e.exports=$.default||$},function(e,t,n){"use strict";var r=n(162);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){e.exports={ar:n(164),bg:n(165),bs:n(166),ca:n(167),cs:n(168),da:n(169),de:n(170),el:n(171),en:n(172),es:n(173),et:n(174),fa:n(175),fi:n(176),fr:n(177),he:n(178),hi:n(179),hr:n(180),hu:n(181),id:n(182),is:n(183),it:n(184),ja:n(185),ka:n(186),ko:n(187),nb:n(188),nl:n(189),pl:n(190),pt:n(191),ro:n(192),ru:n(193),sq:n(194),sr:n(195),sv:n(196),tr:n(197),uk:n(198),vi:n(199),zh:n(200),"zh-tw":n(201)}},function(e,t){e.exports={meta:{code:"ar",name:"Arabic"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:" ",LOCATION:"",CANCEL:"",INBOX:" ",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"         .        .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:" $APPNAME ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"             .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"   10.000 .",ENTRYBOX_PLACEHOLDER:"  ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"    .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"       .",MESSAGELIST_LOADING_OLDER:"    ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"      ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"  ...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:" ",UPLOAD_ERROR:"     .        .",SHARE_LOCATION_ERROR:"   :",LOADING:"  ...",HUB_EMPTY:"    ",HUB_SHOW_EARLIER:"  ",INBOX_NO_CHATS_TITLE:"   !",INBOX_NO_CHATS_BODY:"            .",TRANSLATION_INDICATOR:"   $GOOGLE_LOGO",ENABLE_TRANSLATION:"    ",ENABLE_TRANSLATION_GENERIC:"  ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...  ",SEARCH_NO_RESULTS:"    ",SEARCH_NO_MORE_RESULTS:"    ",CHAT_NOT_FOUND:"    ",DELETE_MESSAGE:" ",DELETION_EXPLANATION:"       .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"    ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"    ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:"  ",MARK_CONVERSATION_AS_UNREAD:"   ",ARIA_LEAVE_SEARCH_MODE:"   ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:"  ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:"  ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:"  ",ARIA_REPLYING_TO:"  $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"   "}}},function(e,t){e.exports={meta:{code:"bg-BG",name:"Bulgarian"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"m",JUST_NOW:"-",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:"  ",DESKTOP_NOTIFICATIONS_ERROR:"      ,      .          .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME  ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"      ,     ,     .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"    10.000 .",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"     .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"  ,      .",MESSAGELIST_LOADING_OLDER:"  - ...",MESSAGELIST_SHOW_OLDER:"  - ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"     ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:"  ",UPLOAD_SHARE_LOCATION:"  ",UPLOAD_ERROR:"      .          .",SHARE_LOCATION_ERROR:"     : ",LOADING:"...",HUB_EMPTY:"       ",HUB_SHOW_EARLIER:"  - ",INBOX_NO_CHATS_TITLE:"   !",INBOX_NO_CHATS_BODY:"      ,     .",TRANSLATION_INDICATOR:"  $GOOGLE_LOGO",ENABLE_TRANSLATION:"    ",ENABLE_TRANSLATION_GENERIC:"  ",DISABLE_TRANSLATION:"  ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"  ",CHAT_NOT_FOUND:"   ",DELETE_MESSAGE:"  ",DELETION_EXPLANATION:"   ,     .",EDIT_MESSAGE:"  ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"    ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:" ,   ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:"  ",MARK_CONVERSATION_AS_UNREAD:"  ",ARIA_LEAVE_SEARCH_MODE:"   ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"   ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"   ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" emoji",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"  $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"    "}}},function(e,t){e.exports={meta:{code:"bs-BA",name:"Bosnian"},values:{YESTERDAY:"Juer",TODAY:"Danas",DAYS:"d",HOURS:"s",MINUTES:"m",JUST_NOW:"Upravo sad",LOCATION:"Lokacija",CANCEL:"Otkai",INBOX:"Pretinac",DESKTOP_NOTIFICATIONS:"Obavijesti preglednika",DESKTOP_NOTIFICATIONS_ERROR:"Notifikacije preglednika se ne mogu omoguiti jer ih va preglednik aktivno blokira. Pokuajte pregledati postavke ili koristiti drugi preglednik.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikacija",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ako karticu preglednika ostavite otvorenu, pojavit e se ovaj pop-up kada netko razgovara s vama.",SEND_BUTTON_TEXT:"Poalji",ENTRYBOX_TEXT_LIMIT:"Dozvoljeno je samo 10.000 znakova.",ENTRYBOX_PLACEHOLDER:"Reci neto...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Ovaj razgovor vie nije aktivan.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Moe itati, ali ne i slati poruke.",MESSAGELIST_LOADING_OLDER:"Uitavam starije poruke...",MESSAGELIST_SHOW_OLDER:"Prikai starije poruke",MESSAGELIST_NEW_MARKER:"Novo",MESSAGE_SENT_VIA_EMAIL:"Ova poruka je poslana e-potom",YOU_MARKER:"ti",UPLOAD_IN_PROGRESS:"Uitavam...",UPLOAD_SEND_FILE:"Poalji datoteku",UPLOAD_SHARE_LOCATION:"Podijeli lokaciju",UPLOAD_ERROR:"Naalost, neto je polo krivo. Datoteka moda nije podrana ili je prevelika.",SHARE_LOCATION_ERROR:"Nije mogue podijeliti lokaciju: ",LOADING:"Uitavam...",HUB_EMPTY:"Ovdje e se prikazati vaa povijest razgovora",HUB_SHOW_EARLIER:"Prikai ranije razgovore",INBOX_NO_CHATS_TITLE:"Nema razgovora!",INBOX_NO_CHATS_BODY:"Nakon to vodite jedan ili vie razgovora, oni e se pojaviti ovdje.",TRANSLATION_INDICATOR:"Prevedeno s $GOOGLE_LOGO",ENABLE_TRANSLATION:"Prevedi ovaj razgovor na bosanski jezik",ENABLE_TRANSLATION_GENERIC:"Prevedi ovaj razgovor",DISABLE_TRANSLATION:"Prikai original",SEARCH_PLACEHOLDER_TEXT:"Pretrai...",SEARCH_SEARCHING:"Pretraivanje...",SEARCH_NO_RESULTS:"Nema rezultata",SEARCH_NO_MORE_RESULTS:"Nema vie rezultata",CHAT_NOT_FOUND:"askanje nije pronaeno",DELETE_MESSAGE:"Obrii poruku",DELETION_EXPLANATION:"Ako izbriete ovu poruku, ona e nestati za sve.",EDIT_MESSAGE:"Uredi poruku",SAVE:"Sauvati",EDITED_INDICATOR:"ureeno",REPLY_TO_MESSAGE:"Odgovorite",ADD_REACTION:"Dodajte reakciju",AUTH_EXPIRED_OVERLAY_TITLE:"Vaa chat sesija je istekla",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Osvjeite stranicu da nastavite",VOICE_MESSAGE:"Glasovna poruka",CONTACT_INFORMATION_HIDDEN:"Skrivene informacije",LEAVE_CONVERSATION:"Napusti razgovor",MARK_CONVERSATION_AS_UNREAD:"Oznai kao neproitano",ARIA_LEAVE_SEARCH_MODE:"Napusti nain pretrage",ARIA_SEARCH_UP:"Trai gore",ARIA_SEARCH_DOWN:"Trai dolje",ARIA_CLOSE_CHAT_POPUP:"Zatvori prozor chata",ARIA_SEARCH_INSIDE_CONVERSATION:"Trai u ovom razgovoru",ARIA_SEARCH:"Trai",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"postavi brzinu reprodukcije",ARIA_CANCEL_UPLOAD:"Otkai uitavanje",ARIA_STOP_RECORDING:"Zaustavi snimanje",ARIA_CANCEL_RECORDING:"Otkai snimanje",ARIA_INSERT_EMOJI:"Umetni emoji",ARIA_PLAY_AUDIO:"reproduciraj audio",ARIA_PAUSE_AUDIO:"pauziraj audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reakcija s $EMOJI",ARIA_MORE_ACTIONS:"Vie radnji",ARIA_REPLYING_TO:"Odgovaranje korisniku $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Izai iz moda odgovaranja"}}},function(e,t){e.exports={meta:{code:"ca-ES",name:"Catalan (ES)"},values:{YESTERDAY:"Ahir",TODAY:"Avui",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"ara mateix",LOCATION:"Ubicaci",CANCEL:"Cancellar",INBOX:"Safata d'entrada",DESKTOP_NOTIFICATIONS:"Notificacions d'escriptori",DESKTOP_NOTIFICATIONS_ERROR:"No es poden habilitar les notificacions del navegador perqu el teu navegador les bloqueja activament. Prova de buscar a la configuraci o utilitza un altre navegador.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"Notificaci de demostraci de $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Si mantens la pestanya del navegador oberta, veurs aquesta notificaci quan alg et parli.",SEND_BUTTON_TEXT:"Enviar",ENTRYBOX_TEXT_LIMIT:"Noms es permeten 10.000 carcters.",ENTRYBOX_PLACEHOLDER:"Digues alguna cosa...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Aquesta conversa ja no est activa.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Pots llegir, per no enviar missatges.",MESSAGELIST_LOADING_OLDER:"Carregant missatges antics...",MESSAGELIST_SHOW_OLDER:"Mostrar missatges ms antics",MESSAGELIST_NEW_MARKER:"Nou",MESSAGE_SENT_VIA_EMAIL:"Aquest missatge s'ha enviat per correu electrnic",YOU_MARKER:"tu",UPLOAD_IN_PROGRESS:"S'est pujant...",UPLOAD_SEND_FILE:"Enviar arxiu",UPLOAD_SHARE_LOCATION:"Compartir ubicaci",UPLOAD_ERROR:"Desafortunadament, alguna cosa ha anat malament en pujar. L'arxiu pot ser no compatible o massa gran.",SHARE_LOCATION_ERROR:"No es pot compartir la ubicaci: ",LOADING:"Carregant...",HUB_EMPTY:"El teu historial de xat apareixer aqu",HUB_SHOW_EARLIER:"Mostra xats anteriors",INBOX_NO_CHATS_TITLE:"Encara no hi ha xats!",INBOX_NO_CHATS_BODY:"Un cop hagis tingut una o ms converses, apareixeran aqu.",TRANSLATION_INDICATOR:"Tradut per $GOOGLE_LOGO",ENABLE_TRANSLATION:"Traduir aquesta conversa al catal",ENABLE_TRANSLATION_GENERIC:"Traduir aquesta conversa",DISABLE_TRANSLATION:"Mostrar original",SEARCH_PLACEHOLDER_TEXT:"Cerca...",SEARCH_SEARCHING:"Buscant...",SEARCH_NO_RESULTS:"No s'han trobat resultats",SEARCH_NO_MORE_RESULTS:"No hi ha ms resultats",CHAT_NOT_FOUND:"Xat no trobat",DELETE_MESSAGE:"Esborrar missatge",DELETION_EXPLANATION:"Si esborres aquest missatge, desapareixer per a tothom.",EDIT_MESSAGE:"Editar missatge",SAVE:"Desar",EDITED_INDICATOR:"editat",REPLY_TO_MESSAGE:"Respondre",REPLY_MODE_LEAVE_ARIA_LABEL:"Sortir del mode de resposta",ADD_REACTION:"Afegir reacci",VOICE_MESSAGE:"Missatge de veu",LEAVE_CONVERSATION:"Abandonar la conversa",MARK_CONVERSATION_AS_UNREAD:"marcar com no llegit",STATUS_INDICATOR_ONLINE:"Actiu",STATUS_INDICATOR_OFFLINE:"Absent",CONTACT_INFORMATION_HIDDEN:"informaci oculta",AUTH_EXPIRED_OVERLAY_TITLE:"La teva sessi de xat ha caducat",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Actualitza la pgina per continuar",ARIA_LEAVE_SEARCH_MODE:"Sortir del mode de cerca",ARIA_SEARCH_UP:"Cercar cap amunt",ARIA_SEARCH_DOWN:"Cercar cap avall",ARIA_CLOSE_CHAT_POPUP:"Tancar la finestra de xat",ARIA_SEARCH_INSIDE_CONVERSATION:"Cercar en aquesta conversa",ARIA_SEARCH:"Cercar",ARIA_CHAT:"Xat",ARIA_SET_PLAYBACK_SPEED:"establir velocitat de reproducci",ARIA_CANCEL_UPLOAD:"Cancellar la crrega",ARIA_STOP_RECORDING:"Aturar l'enregistrament",ARIA_CANCEL_RECORDING:"Cancellar l'enregistrament",ARIA_INSERT_EMOJI:"Inserir un emoji",ARIA_PLAY_AUDIO:"reproduir udio",ARIA_PAUSE_AUDIO:"pausar udio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reaccions amb $EMOJI",ARIA_MORE_ACTIONS:"Ms accions",ARIA_REPLYING_TO:"Responent a $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Sortir del mode de resposta"}}},function(e,t){e.exports={meta:{code:"cs-CZ",name:"Czech"},values:{YESTERDAY:"Vera",TODAY:"Dnes",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"prv te",LOCATION:"Lokace",CANCEL:"Zruit",INBOX:"Doruen",DESKTOP_NOTIFICATIONS:"Oznmen v prohlei",DESKTOP_NOTIFICATIONS_ERROR:"Nelze povolit notifikace prohlee, protoe v prohle je aktivn blokuje. Zkuste se podvat na nastaven nebo zkuste pout jin prohle.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikace",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Pokud nechte kartu prohlee otevenou, uvidte tento popup jakmile s vmi bude nkdo mluvit.",SEND_BUTTON_TEXT:"Odeslat",ENTRYBOX_TEXT_LIMIT:"Je povoleno Maximln 10.000 znak.",ENTRYBOX_PLACEHOLDER:"Napite nco...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Tato konverzace ji nen aktivn.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Mete st, ale nemete poslat zprvy.",MESSAGELIST_LOADING_OLDER:"Nahrvm star zprvy...",MESSAGELIST_SHOW_OLDER:"Zobrazit star zprvy",MESSAGELIST_NEW_MARKER:"Nov",MESSAGE_SENT_VIA_EMAIL:"Tato zprva byla odeslna pes mail.",YOU_MARKER:"vy",UPLOAD_IN_PROGRESS:"Nahrvm...",UPLOAD_SEND_FILE:"Poslat soubor",UPLOAD_SHARE_LOCATION:"Sdlet pozici",UPLOAD_ERROR:"Nepodailo se nahrt soubor. Ten je bu nepodporovn a/nebo pli velk.",SHARE_LOCATION_ERROR:"Nen mon sdlet pozici: ",LOADING:"Nahrvm...",HUB_EMPTY:"Vae historie se zde zobraz",HUB_SHOW_EARLIER:"Zobrazit dvj konverzace",INBOX_NO_CHATS_TITLE:"Zatm zde nejsou dn konverzace!",INBOX_NO_CHATS_BODY:"Jakmile budete mt jednu nebo vce konverzac, objev se zde.",TRANSLATION_INDICATOR:"Zdroj pekladu $GOOGLE_LOGO",ENABLE_TRANSLATION:"Peloit tuto konverzaci do etiny",ENABLE_TRANSLATION_GENERIC:"Peloit tuto konverzaci",DISABLE_TRANSLATION:"Zobrazit pvodn",SEARCH_PLACEHOLDER_TEXT:"Hledat...",SEARCH_SEARCHING:"Hledn...",SEARCH_NO_RESULTS:"Nenaly se dn vsledky",SEARCH_NO_MORE_RESULTS:"dn dal vsledky",CHAT_NOT_FOUND:"Chat nenalezen",DELETE_MESSAGE:"Smazat zprvu",DELETION_EXPLANATION:"Pokud tuto zprvu smaete, zmiz pro vechny.",EDIT_MESSAGE:"Upravit zprvu",SAVE:"Uloit",EDITED_INDICATOR:"upraveno",REPLY_TO_MESSAGE:"Odpovdt",ADD_REACTION:"Reagovat",AUTH_EXPIRED_OVERLAY_TITLE:"V chat byl kvli neinnosti odpojen",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Pro pokraovn obnovte strnku",VOICE_MESSAGE:"Hlasov zprva",CONTACT_INFORMATION_HIDDEN:"Skryt informace",LEAVE_CONVERSATION:"Opustit konverzaci",MARK_CONVERSATION_AS_UNREAD:"Oznait jako nepeten",ARIA_LEAVE_SEARCH_MODE:"Opustit reim vyhledvn",ARIA_SEARCH_UP:"Hledat nahoru",ARIA_SEARCH_DOWN:"Hledat dol",ARIA_CLOSE_CHAT_POPUP:"Zavt okno chatu",ARIA_SEARCH_INSIDE_CONVERSATION:"Hledat v tto konverzaci",ARIA_SEARCH:"Hledat",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"nastavit rychlost pehrvn",ARIA_CANCEL_UPLOAD:"Zruit nahrvn",ARIA_STOP_RECORDING:"Zastavit nahrvn",ARIA_CANCEL_RECORDING:"Zruit nahrvn",ARIA_INSERT_EMOJI:"Vloit emoji",ARIA_PLAY_AUDIO:"pehrt audio",ARIA_PAUSE_AUDIO:"pozastavit audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reakc s $EMOJI",ARIA_MORE_ACTIONS:"Dal akce",ARIA_REPLYING_TO:"Odpov na $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Opustit reim odpovdi"}}},function(e,t){e.exports={meta:{code:"da-DK",name:"Danish"},values:{YESTERDAY:"I gr",TODAY:"I dag",DAYS:"d",HOURS:"t",MINUTES:"m",JUST_NOW:"lige nu",LOCATION:"Placering",CANCEL:"Annuller",INBOX:"Indbakke",DESKTOP_NOTIFICATIONS:"Browsermeddelelser",DESKTOP_NOTIFICATIONS_ERROR:"Kan ikke aktivere Browsermeddelelser, fordi din browser aktivt blokerer dem. Prv at kigge i indstillingerne eller benyt en anden browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demomeddelelse",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Hvis du holder dit browser-faneblad ben, vil du se det her komme op, nr nogen taler til dig.",SEND_BUTTON_TEXT:"Send",ENTRYBOX_TEXT_LIMIT:"Kun 10.000 tegn er tilladt.",ENTRYBOX_PLACEHOLDER:"Sig noget...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Denne samtale er ikke lngere aktiv.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Du kan lse, men ikke sende beskeder.",MESSAGELIST_LOADING_OLDER:"Indlser ldre beskeder...",MESSAGELIST_SHOW_OLDER:"Vis ldre beskeder",MESSAGELIST_NEW_MARKER:"Ny",MESSAGE_SENT_VIA_EMAIL:"Denne besked blev sendt via e-mail",YOU_MARKER:"dig",UPLOAD_IN_PROGRESS:"Overfrer...",UPLOAD_SEND_FILE:"Send fil",UPLOAD_SHARE_LOCATION:"Del placering",UPLOAD_ERROR:"Der er sket noget forkert ved upload. Filen kan ikke understttes eller filen er for stor.",SHARE_LOCATION_ERROR:"Kan ikke dele placering: ",LOADING:"Indlser...",HUB_EMPTY:"Dine samtaler vises her",HUB_SHOW_EARLIER:"Vis tidligere chats",INBOX_NO_CHATS_TITLE:"Ingen chats endnu!",INBOX_NO_CHATS_BODY:"Nr du har haft en eller flere samtaler, vises de her.",TRANSLATION_INDICATOR:"Oversat af $GOOGLE_LOGO",ENABLE_TRANSLATION:"Overst samtalen til dansk",ENABLE_TRANSLATION_GENERIC:"Overst samtalen",DISABLE_TRANSLATION:"Vis den oprindelige",SEARCH_PLACEHOLDER_TEXT:"Sg...",SEARCH_SEARCHING:"Sger...",SEARCH_NO_RESULTS:"Ingen resultater fundet",SEARCH_NO_MORE_RESULTS:"Ikke flere resultater",CHAT_NOT_FOUND:"Chat ikke fundet",DELETE_MESSAGE:"Slet besked",DELETION_EXPLANATION:"Hvis du sletter denne besked, vil ingen kunne se den.",EDIT_MESSAGE:"Rediger besked",SAVE:"Gem",EDITED_INDICATOR:"redigeret",REPLY_TO_MESSAGE:"Svar",ADD_REACTION:"Tilfj reaktion",AUTH_EXPIRED_OVERLAY_TITLE:"Din chatsession er udlbet",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Opdater siden for at fortstte",VOICE_MESSAGE:"Talebesked",CONTACT_INFORMATION_HIDDEN:"Skjulte oplysninger",LEAVE_CONVERSATION:"Forlad samtale",MARK_CONVERSATION_AS_UNREAD:"Marker som ulst",STATUS_INDICATOR_ONLINE:"Online",STATUS_INDICATOR_OFFLINE:"Offline",ARIA_LEAVE_SEARCH_MODE:"Forlad sgemodus",ARIA_SEARCH_UP:"Sg opad",ARIA_SEARCH_DOWN:"Sg nedad",ARIA_CLOSE_CHAT_POPUP:"Luk chatvindue",ARIA_SEARCH_INSIDE_CONVERSATION:"Sg i denne samtale",ARIA_SEARCH:"Sg",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"Indstil afspilningshastighed",ARIA_CANCEL_UPLOAD:"Annuller upload",ARIA_STOP_RECORDING:"Stop optagelse",ARIA_CANCEL_RECORDING:"Annuller optagelse",ARIA_INSERT_EMOJI:"Indst en emoji",ARIA_PLAY_AUDIO:"Afspil lyd",ARIA_PAUSE_AUDIO:"Pauser lyd",ARIA_REACTION_COUNT:"$NUM_REACTIONS Reaktioner med $EMOJI",ARIA_MORE_ACTIONS:"Flere handlinger",ARIA_REPLYING_TO:"Svarer til $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Forlad svarstilstand"}}},function(e,t){e.exports={meta:{code:"de-DE",name:"German"},values:{YESTERDAY:"Gestern",TODAY:"Heute",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"gerade jetzt",LOCATION:"Standort",CANCEL:"Abbrechen",INBOX:"Inbox",DESKTOP_NOTIFICATIONS:"Browser-Benachrichtigungen",DESKTOP_NOTIFICATIONS_ERROR:"Browser-Benachrichtigungen knnen nicht aktiviert werden, da Ihr Browser sie aktiv blockiert. Versuchen Sie, in den Einstellungen nachzuschlagen oder einen anderen Browser zu verwenden.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME Demo-Benachrichtigung",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Wenn Sie Ihre Browser-Registerkarte geffnet lassen, wird dies angezeigt, wenn jemand mit Ihnen spricht.",SEND_BUTTON_TEXT:"Senden",ENTRYBOX_TEXT_LIMIT:"Nur 10.000 Zeichen sind erlaubt.",ENTRYBOX_PLACEHOLDER:"Sag etwas...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Diese Konversation ist nicht mehr aktiv.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Sie knnen Nachrichten lesen, aber nicht senden.",MESSAGELIST_LOADING_OLDER:"ltere Nachrichten werden geladen...",MESSAGELIST_SHOW_OLDER:"Zeige ltere Nachrichten",MESSAGELIST_NEW_MARKER:"Neu",MESSAGE_SENT_VIA_EMAIL:"Diese Nachricht wurde per E-Mail gesendet",YOU_MARKER:"du",UPLOAD_IN_PROGRESS:"Hochladen...",UPLOAD_SEND_FILE:"Datei senden",UPLOAD_SHARE_LOCATION:"Standort teilen",UPLOAD_ERROR:"Beim Hochladen ist ein Fehler aufgetreten. Die Datei ist mglicherweise nicht untersttzt oder zu gro.",SHARE_LOCATION_ERROR:"Standort kann nicht freigegeben werden: ",LOADING:"Laden...",HUB_EMPTY:"Ihr Chat-Verlauf wird hier angezeigt",HUB_SHOW_EARLIER:"Zeige frhere Chats",INBOX_NO_CHATS_TITLE:"Noch keine Chats!",INBOX_NO_CHATS_BODY:"Sobald Sie eine oder mehrere Unterhaltungen gefhrt haben, werden sie hier angezeigt.",TRANSLATION_INDICATOR:"bersetzt mit $GOOGLE_LOGO",ENABLE_TRANSLATION:"Dieses Gesprch auf Deutsch bersetzen",ENABLE_TRANSLATION_GENERIC:"Dieses Gesprch bersetzen",DISABLE_TRANSLATION:"Originaltext anzeigen",SEARCH_PLACEHOLDER_TEXT:"Suche...",SEARCH_SEARCHING:"Suchen...",SEARCH_NO_RESULTS:"Keine Suchergebnisse gefunden",SEARCH_NO_MORE_RESULTS:"Keine weiteren Suchergebnisse",CHAT_NOT_FOUND:"Chat nicht gefunden",DELETE_MESSAGE:"Nachricht lschen",DELETION_EXPLANATION:"Wenn Sie diese Nachricht lschen, wird sie fr alle verschwinden.",EDIT_MESSAGE:"Nachricht bearbeiten",SAVE:"Speichern",EDITED_INDICATOR:"bearbeitet",REPLY_TO_MESSAGE:"Antworten",ADD_REACTION:"Reaktion hinzufgen",AUTH_EXPIRED_OVERLAY_TITLE:"Ihre Chatsitzung ist abgelaufen",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Laden Sie zum Fortfahren die Seite neu",VOICE_MESSAGE:"Sprachnachricht",CONTACT_INFORMATION_HIDDEN:"Geschtzte Angaben",LEAVE_CONVERSATION:"Unterhaltung verlassen",MARK_CONVERSATION_AS_UNREAD:"als ungelesen markieren",ARIA_LEAVE_SEARCH_MODE:"Suchmodus verlassen",ARIA_SEARCH_UP:"Nach oben suchen",ARIA_SEARCH_DOWN:"Nach unten suchen",ARIA_CLOSE_CHAT_POPUP:"Chat-Popup schlieen",ARIA_SEARCH_INSIDE_CONVERSATION:"In dieser Unterhaltung suchen",ARIA_SEARCH:"Suchen",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"Wiedergabegeschwindigkeit einstellen",ARIA_CANCEL_UPLOAD:"Upload abbrechen",ARIA_STOP_RECORDING:"Aufnahme stoppen",ARIA_CANCEL_RECORDING:"Aufnahme abbrechen",ARIA_INSERT_EMOJI:"Emoji einfgen",ARIA_PLAY_AUDIO:"Audio abspielen",ARIA_PAUSE_AUDIO:"Audio pausieren",ARIA_REACTION_COUNT:"$NUM_REACTIONS Reaktionen mit $EMOJI",ARIA_MORE_ACTIONS:"Weitere Aktionen",ARIA_REPLYING_TO:"Antworten an $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Antwortmodus verlassen"}}},function(e,t){e.exports={meta:{code:"el-GR",name:"Greek (Greece)"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"'",MINUTES:"",JUST_NOW:" ",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"         ,       .           .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME  ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"       ,     pop up ()    .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"  10.000 .",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"      .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"        .",MESSAGELIST_LOADING_OLDER:"  ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"      ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:"  ",UPLOAD_ERROR:"     .           .",SHARE_LOCATION_ERROR:"      : ",LOADING:"...",HUB_EMPTY:"       ",HUB_SHOW_EARLIER:"  ",INBOX_NO_CHATS_TITLE:"   !",INBOX_NO_CHATS_BODY:"     ,   .",TRANSLATION_INDICATOR:"  $GOOGLE_LOGO",ENABLE_TRANSLATION:"     ",ENABLE_TRANSLATION_GENERIC:"   ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"   ",CHAT_NOT_FOUND:"   ",DELETE_MESSAGE:" ",DELETION_EXPLANATION:"    ,    .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"      ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"     ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:"   ",MARK_CONVERSATION_AS_UNREAD:"   ",ARIA_LEAVE_SEARCH_MODE:"    ",ARIA_SEARCH_UP:"   ",ARIA_SEARCH_DOWN:"   ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"    ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" emoji",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"  $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"    "}}},function(e,t){e.exports={meta:{code:"en-US",name:"English (US)"},values:{YESTERDAY:"Yesterday",TODAY:"Today",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"just now",LOCATION:"Location",CANCEL:"Cancel",INBOX:"Inbox",DESKTOP_NOTIFICATIONS:"Browser notifications",DESKTOP_NOTIFICATIONS_ERROR:"Can't enable browser notifications because your browser actively blocks them. Try looking in the settings or using a different browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notification",DESKTOP_NOTIFICATIONS_DEMO_BODY:"If you keep your browser tab open, you'll see this pop up when someone talks to you.",SEND_BUTTON_TEXT:"Send",ENTRYBOX_TEXT_LIMIT:"Only 10,000 characters are allowed.",ENTRYBOX_PLACEHOLDER:"Say something...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"This conversation is no longer active.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"You can read, but not send messages.",MESSAGELIST_LOADING_OLDER:"Loading older messages...",MESSAGELIST_SHOW_OLDER:"Show older messages",MESSAGELIST_NEW_MARKER:"New",MESSAGE_SENT_VIA_EMAIL:"This message was sent via email",YOU_MARKER:"you",UPLOAD_IN_PROGRESS:"Uploading...",UPLOAD_SEND_FILE:"Send file",UPLOAD_SHARE_LOCATION:"Share location",UPLOAD_ERROR:"Unfortunately, something went wrong uploading. The file might be unsupported or too large.",SHARE_LOCATION_ERROR:"Cannot share location: ",LOADING:"Loading...",HUB_EMPTY:"Your chat history will show up here",HUB_SHOW_EARLIER:"Show earlier chats",INBOX_NO_CHATS_TITLE:"No chats yet!",INBOX_NO_CHATS_BODY:"Once you've had one or more conversations, they will show up here.",TRANSLATION_INDICATOR:"Translated by $GOOGLE_LOGO",ENABLE_TRANSLATION:"Translate this conversation to English",ENABLE_TRANSLATION_GENERIC:"Translate this conversation",DISABLE_TRANSLATION:"Show original",SEARCH_PLACEHOLDER_TEXT:"Search...",SEARCH_SEARCHING:"Searching...",SEARCH_NO_RESULTS:"No results found",SEARCH_NO_MORE_RESULTS:"No more results",CHAT_NOT_FOUND:"Chat not found",DELETE_MESSAGE:"Delete message",DELETION_EXPLANATION:"If you delete this message, it will disappear for everybody.",EDIT_MESSAGE:"Edit message",SAVE:"Save",EDITED_INDICATOR:"edited",REPLY_TO_MESSAGE:"Reply",ADD_REACTION:"Add reaction",AUTH_EXPIRED_OVERLAY_TITLE:"Your chat session has expired",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Refresh the page to continue",VOICE_MESSAGE:"Voice message",LEAVE_CONVERSATION:"Leave conversation",MARK_CONVERSATION_AS_UNREAD:"Mark as unread",STATUS_INDICATOR_ONLINE:"Online",STATUS_INDICATOR_OFFLINE:"Offline",CONTACT_INFORMATION_HIDDEN:"hidden information",ARIA_LEAVE_SEARCH_MODE:"Leave search mode",ARIA_SEARCH_UP:"Search up",ARIA_SEARCH_DOWN:"Search down",ARIA_CLOSE_CHAT_POPUP:"Close the chat popup",ARIA_SEARCH_INSIDE_CONVERSATION:"Search inside this conversation",ARIA_SEARCH:"Search",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"set playback speed",ARIA_CANCEL_UPLOAD:"Cancel upload",ARIA_STOP_RECORDING:"Stop recording",ARIA_CANCEL_RECORDING:"Cancel recording",ARIA_INSERT_EMOJI:"Insert an emoji",ARIA_PLAY_AUDIO:"play audio",ARIA_PAUSE_AUDIO:"pause audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reactions with $EMOJI",ARIA_MORE_ACTIONS:"More actions",ARIA_REPLYING_TO:"Replying to $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Exit reply mode"}}},function(e,t){e.exports={meta:{code:"es-ES",name:"Spanish"},values:{YESTERDAY:"Ayer",TODAY:"Hoy",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"justo ahora",LOCATION:"Ubicacin",CANCEL:"Cancelar",INBOX:"Inbox",DESKTOP_NOTIFICATIONS:"Notificaciones del navigator",DESKTOP_NOTIFICATIONS_ERROR:"No se logr habilitar las notificaciones del navigador, comprueba que tu navegador no las est bloqueando o intenta con otro navegador.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME notificacin de prueba",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Si dejas esta pestaa abierta, vers este pop up cuando alguien te hable.",SEND_BUTTON_TEXT:"Enviar",ENTRYBOX_TEXT_LIMIT:"Slo 10.000 caracteres permitidos.",ENTRYBOX_PLACEHOLDER:"Escribe algo...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Esta conversacin ya no est activa.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Puedes leer pero no enviar mensajes.",MESSAGELIST_LOADING_OLDER:"Cargando mensajes pasados...",MESSAGELIST_SHOW_OLDER:"Ver mensajes pasados",MESSAGELIST_NEW_MARKER:"Nuevo",MESSAGE_SENT_VIA_EMAIL:"Este mensaje ha sido enviado va email",YOU_MARKER:"t",UPLOAD_IN_PROGRESS:"Subir...",UPLOAD_SEND_FILE:"Enviar archivo",UPLOAD_SHARE_LOCATION:"Compartir ubicacin",UPLOAD_ERROR:"Ocurri un problema subiendo el archivo. Puede que el archivo est en un formato no soportado o que sea demasiado grande.",SHARE_LOCATION_ERROR:"No se logr compartir la ubicacin: ",LOADING:"Cargando...",HUB_EMPTY:"Tu historial de conversaciones se mostrar aqu",HUB_SHOW_EARLIER:"Ver conversaciones pasadas",INBOX_NO_CHATS_TITLE:"An sin conversaciones!",INBOX_NO_CHATS_BODY:"Una vez que tengas una o ms conversaciones, se mostrarn aqu.",TRANSLATION_INDICATOR:"Traducido por $GOOGLE_LOGO",ENABLE_TRANSLATION:"Traducir esta conversacin al espaol",ENABLE_TRANSLATION_GENERIC:"Traducir esta conversacin",DISABLE_TRANSLATION:"Mostrar la conversacin original",SEARCH_PLACEHOLDER_TEXT:"Buscar...",SEARCH_SEARCHING:"Buscando...",SEARCH_NO_RESULTS:"No se encontraron resultados",SEARCH_NO_MORE_RESULTS:"No hay ms resultados",CHAT_NOT_FOUND:"Chat no encontrado",DELETE_MESSAGE:"Eliminar mensaje",DELETION_EXPLANATION:"Este mensaje desaparecer para todos si lo borras.",EDIT_MESSAGE:"Editar mensaje",SAVE:"Guardar",EDITED_INDICATOR:"editado",REPLY_TO_MESSAGE:"Responder",ADD_REACTION:"Aadir reaccin",AUTH_EXPIRED_OVERLAY_TITLE:"Su sesin de chat ha expirado",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Actualice la pgina para continuar",VOICE_MESSAGE:"Mensaje de voz",CONTACT_INFORMATION_HIDDEN:"Informacin oculta",LEAVE_CONVERSATION:"Abandonar conversacin",MARK_CONVERSATION_AS_UNREAD:"Marcar como no leda",ARIA_LEAVE_SEARCH_MODE:"Salir del modo bsqueda",ARIA_SEARCH_UP:"Buscar hacia arriba",ARIA_SEARCH_DOWN:"Buscar hacia abajo",ARIA_CLOSE_CHAT_POPUP:"Cerrar la ventana de chat",ARIA_SEARCH_INSIDE_CONVERSATION:"Buscar en esta conversacin",ARIA_SEARCH:"Buscar",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"establecer velocidad de reproduccin",ARIA_CANCEL_UPLOAD:"Cancelar envo",ARIA_STOP_RECORDING:"Detener grabacin",ARIA_CANCEL_RECORDING:"Cancelar grabacin",ARIA_INSERT_EMOJI:"Insertar un emoji",ARIA_PLAY_AUDIO:"reproducir audio",ARIA_PAUSE_AUDIO:"pausar audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reacciones con $EMOJI",ARIA_MORE_ACTIONS:"Ms acciones",ARIA_REPLYING_TO:"Respondiendo a $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Salir del modo respuesta"}}},function(e,t){e.exports={meta:{code:"et-EE",name:"Estonian"},values:{YESTERDAY:"Eile",TODAY:"Tna",DAYS:"p",HOURS:"t",MINUTES:"m",JUST_NOW:"Just nd",LOCATION:"Asukoht",CANCEL:"Katkesta",INBOX:"Postkast",DESKTOP_NOTIFICATIONS:"Veebibrauseri teated",DESKTOP_NOTIFICATIONS_ERROR:"Tlaua teatisi ei saa lubada, kuna Teie brauser blokeerib need aktiivselt. Proovige muuta seadeid vi kasutada mnda muud brauserit.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo teavitus",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Kui hoiate oma brauseri vahekaardi lahti ja nete seda hpikakent, siis keegi soovib Teiega rkida.",SEND_BUTTON_TEXT:"Saada",ENTRYBOX_TEXT_LIMIT:"Ainult kuni 10.000 themrki on lubatud.",ENTRYBOX_PLACEHOLDER:"Kirjuta midagi...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"See vestlus ei ole enam aktiivne.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Sa saad lugeda teateid, aga mitte kirjutada.",MESSAGELIST_LOADING_OLDER:"Laen vanemaid teateid...",MESSAGELIST_SHOW_OLDER:"Nita vanemaid teateid",MESSAGELIST_NEW_MARKER:"Uus",MESSAGE_SENT_VIA_EMAIL:"See teade on saadetud e-postiga",YOU_MARKER:"Sina",UPLOAD_IN_PROGRESS:"Laen...",UPLOAD_SEND_FILE:"Saada fail",UPLOAD_SHARE_LOCATION:"Jaga faili asukohta",UPLOAD_ERROR:"Nd lks midagi nihu, seoses faili lesse laadimisega. Tundmatu fail vi liiga suur.",SHARE_LOCATION_ERROR:"Ei suuda jagada faili asukohta: ",LOADING:"Laen...",HUB_EMPTY:"Siin on Sinu vestluste ajalugu",HUB_SHOW_EARLIER:"Nita vanemaid vestlusi",INBOX_NO_CHATS_TITLE:"Pole htegi vestlust!",INBOX_NO_CHATS_BODY:"Kui Sul tekib ks vi rohkem vestlust, siis on need kuvatakse siin.",TRANSLATION_INDICATOR:"Tlgitud $GOOGLE_LOGO poolt",ENABLE_TRANSLATION:"Tlgi see vestlus eesti keelde",ENABLE_TRANSLATION_GENERIC:"Tlgi see vestlus",DISABLE_TRANSLATION:"Nita algteksti",SEARCH_PLACEHOLDER_TEXT:"Otsi...",SEARCH_SEARCHING:"Otsin...",SEARCH_NO_RESULTS:"Otsingu tulemused puuduvad",SEARCH_NO_MORE_RESULTS:"Rohkem tulemusi ei ole ",CHAT_NOT_FOUND:"Vestlust ei leitud",DELETE_MESSAGE:"Kustuta snum",DELETION_EXPLANATION:"Kui kustutate selle snumi, kaob see kigi jaoks.",EDIT_MESSAGE:"Redigeeri snumit",SAVE:"Salvesta",EDITED_INDICATOR:"muudetud",REPLY_TO_MESSAGE:"Vasta",ADD_REACTION:"Lisa reaktsioon",AUTH_EXPIRED_OVERLAY_TITLE:"Teie vestlussessioon on lppenud",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Jtkamiseks vrskendage lehte",VOICE_MESSAGE:"Hlsnum",CONTACT_INFORMATION_HIDDEN:"Varjatud informatsioon",LEAVE_CONVERSATION:"Lahku vestlusest",MARK_CONVERSATION_AS_UNREAD:"Mrgi mitteloetuks",ARIA_LEAVE_SEARCH_MODE:"Vlju otsingureiimist",ARIA_SEARCH_UP:"Otsi les",ARIA_SEARCH_DOWN:"Otsi alla",ARIA_CLOSE_CHAT_POPUP:"Sulge vestluse aken",ARIA_SEARCH_INSIDE_CONVERSATION:"Otsi sellest vestlusest",ARIA_SEARCH:"Otsi",ARIA_CHAT:"Vestlus",ARIA_SET_PLAYBACK_SPEED:"mra taasesituse kiirus",ARIA_CANCEL_UPLOAD:"Thista leslaadimine",ARIA_STOP_RECORDING:"Peata salvestamine",ARIA_CANCEL_RECORDING:"Thista salvestamine",ARIA_INSERT_EMOJI:"Sisesta emoji",ARIA_PLAY_AUDIO:"esita heli",ARIA_PAUSE_AUDIO:"pausi heli",ARIA_REACTION_COUNT:"$NUM_REACTIONS reaktsiooni ($EMOJI)",ARIA_MORE_ACTIONS:"Rohkem toiminguid",ARIA_REPLYING_TO:"Vastamine kasutajale $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Vlju vastamisreiimist"}}},function(e,t){e.exports={meta:{code:"fa",name:"Persian (Farsi)"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:" ",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"                           .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"  $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"                  ",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"     .",ENTRYBOX_PLACEHOLDER:"... ",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:".     ",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"        ",MESSAGELIST_LOADING_OLDER:"...      ",MESSAGELIST_SHOW_OLDER:"    ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"     ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...  ",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:"  ",UPLOAD_ERROR:"      .         .",SHARE_LOCATION_ERROR:"    : ",LOADING:"...",HUB_EMPTY:"     ",HUB_SHOW_EARLIER:"   ",INBOX_NO_CHATS_TITLE:"   ",INBOX_NO_CHATS_BODY:"           .",TRANSLATION_INDICATOR:"$GOOGLE_LOGO   ",ENABLE_TRANSLATION:"      ",ENABLE_TRANSLATION_GENERIC:"    ",DISABLE_TRANSLATION:"    ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...  ",SEARCH_NO_RESULTS:"   ",SEARCH_NO_MORE_RESULTS:"   ",CHAT_NOT_FOUND:"  ",DELETE_MESSAGE:"  ",DELETION_EXPLANATION:"          .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:" ",ADD_REACTION:"   ",AUTH_EXPIRED_OVERLAY_TITLE:"     ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"     ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:"  ",MARK_CONVERSATION_AS_UNREAD:"      ",ARIA_LEAVE_SEARCH_MODE:"   ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"    $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"   "}}},function(e,t){e.exports={meta:{code:"fi-FI",name:"Finnish"},values:{YESTERDAY:"Eilen",TODAY:"Tnn",DAYS:"p",HOURS:"t",MINUTES:"m",JUST_NOW:"juuri nyt",LOCATION:"Sijainti",CANCEL:"Peruuta",INBOX:"Saapuneet",DESKTOP_NOTIFICATIONS:"Selaimen ilmoitukset",DESKTOP_NOTIFICATIONS_ERROR:"Typydn ilmoituksia ei voitu kytke plle, koska selaimesi est ne aktiivisesti. Koeta tutkia sen asetuksia tai vaihda selainta.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo ilmoitus",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Jos pidt tmn sivun auki, net vastaavan ilmoituksen kun joku puhuu sinulle.",SEND_BUTTON_TEXT:"Lhet",ENTRYBOX_TEXT_LIMIT:"Maksimissaan 10000 merkki.",ENTRYBOX_PLACEHOLDER:"Sano jotain...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Tm keskustelu ei ole en aktiivinen.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Voit lukea, mutta et lhett viestej.",MESSAGELIST_LOADING_OLDER:"Ladataan vanhoja viestej..",MESSAGELIST_SHOW_OLDER:"Nyt vanhat viestit",MESSAGELIST_NEW_MARKER:"Uusi",MESSAGE_SENT_VIA_EMAIL:"Tm viesti on lhetetty shkpostin vlityksell",YOU_MARKER:"sin",UPLOAD_IN_PROGRESS:"Ladataan...",UPLOAD_SEND_FILE:"Lhet tiedosto",UPLOAD_SHARE_LOCATION:"Jaa sijainti",UPLOAD_ERROR:"Valitettavasti jokin meni vikaan. Tiedostotyyppi ei ehk tueta tai se saattaa olla liian suuri.",SHARE_LOCATION_ERROR:"Sijaintia ei pystytty jakamaan: ",LOADING:"Ladataan...",HUB_EMPTY:"Keskusteluhistoriasi nkyy tss",HUB_SHOW_EARLIER:"Nyt aiemmat keskustelut",INBOX_NO_CHATS_TITLE:"Ei keskusteluja, viel!",INBOX_NO_CHATS_BODY:"Kun olet kynyt yhden tai useamman keskustelun, ne nkyvt tll.",TRANSLATION_INDICATOR:"Kntnyt $GOOGLE_LOGO",ENABLE_TRANSLATION:"Knn keskustelu kielelle suomi",ENABLE_TRANSLATION_GENERIC:"Knn keskustelu",DISABLE_TRANSLATION:"Nyt alkuperinen",SEARCH_PLACEHOLDER_TEXT:"Etsi...",SEARCH_SEARCHING:"Etsiminen...",SEARCH_NO_RESULTS:"Tuloksia ei lytynyt",SEARCH_NO_MORE_RESULTS:"Ei enemp tuloksia",CHAT_NOT_FOUND:"Keskustelua ei lytynyt",DELETE_MESSAGE:"Poista viesti",DELETION_EXPLANATION:"Jos poistat tmn viestin, se hvi kaikilta.",EDIT_MESSAGE:"Muokkaa viesti",SAVE:"Tallenna",EDITED_INDICATOR:"muokattu",REPLY_TO_MESSAGE:"Vastaa",ADD_REACTION:"Lis reaktio",AUTH_EXPIRED_OVERLAY_TITLE:"Istuntosi on vanhentunut",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Pivit sivu jatkaaksesi",VOICE_MESSAGE:"niviesti",CONTACT_INFORMATION_HIDDEN:"Piilotetut tiedot",LEAVE_CONVERSATION:"Poistu keskustelusta",MARK_CONVERSATION_AS_UNREAD:"Merkitse lukemattomaksi",ARIA_LEAVE_SEARCH_MODE:"Poistu hakutilasta",ARIA_SEARCH_UP:"Hae ylspin",ARIA_SEARCH_DOWN:"Hae alaspin",ARIA_CLOSE_CHAT_POPUP:"Sulje chat-ikkuna",ARIA_SEARCH_INSIDE_CONVERSATION:"Hae tst keskustelusta",ARIA_SEARCH:"Hae",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"aseta toistonopeus",ARIA_CANCEL_UPLOAD:"Peruuta lhetys",ARIA_STOP_RECORDING:"Lopeta tallennus",ARIA_CANCEL_RECORDING:"Peruuta tallennus",ARIA_INSERT_EMOJI:"Lis emoji",ARIA_PLAY_AUDIO:"toista ni",ARIA_PAUSE_AUDIO:"keskeyt ni",ARIA_REACTION_COUNT:"$NUM_REACTIONS reaktiota ($EMOJI)",ARIA_MORE_ACTIONS:"Lis toimintoja",ARIA_REPLYING_TO:"Vastataan kyttjlle $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Poistu vastaustilasta"}}},function(e,t){e.exports={meta:{code:"fr-FR",name:"French"},values:{YESTERDAY:"Hier",TODAY:"Aujourd'hui",DAYS:"j",HOURS:"h",MINUTES:"m",JUST_NOW:"maintenant",LOCATION:"Emplacement",CANCEL:"Annuler",INBOX:"Bote de rception",DESKTOP_NOTIFICATIONS:"Notifications du navigateur",DESKTOP_NOTIFICATIONS_ERROR:"Impossible d'activer les notifications du navigateur car votre navigateur les bloque. Essayez de changer ses paramtres ou de changer de navigateur.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"Notification de dmonstration $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Si vous maintenez l'onglet ouvert dans votre navigateur vous verrez apparatre une alerte lorsque quelqu'un vous parlera.",SEND_BUTTON_TEXT:"Envoyer",ENTRYBOX_TEXT_LIMIT:"Seuls 10.000 caractres sont autoriss.",ENTRYBOX_PLACEHOLDER:"Ecrivez quelque chose...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Cette conversation n'est plus active.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Vous pouvez lire, mais pas envoyer de messages.",MESSAGELIST_LOADING_OLDER:"Chargement des anciens messages ...",MESSAGELIST_SHOW_OLDER:"Afficher les anciens messages",MESSAGELIST_NEW_MARKER:"Nouveau",MESSAGE_SENT_VIA_EMAIL:"Ce message a t envoy par e-mail",YOU_MARKER:"vous",UPLOAD_IN_PROGRESS:"Envoi en cours...",UPLOAD_SEND_FILE:"Envoyer un fichier",UPLOAD_SHARE_LOCATION:"Partager mon emplacement",UPLOAD_ERROR:"Un problme est survenu lors de l'envoi: le fichier est peut-tre non pris en charge ou trop volumineux.",SHARE_LOCATION_ERROR:"Impossible de partager votre emplacement: ",LOADING:"Chargement en cours...",HUB_EMPTY:"Votre historique de discussion apparatra ici",HUB_SHOW_EARLIER:"Afficher les conversations prcdentes",INBOX_NO_CHATS_TITLE:"Aucune conversation pour l'instant!",INBOX_NO_CHATS_BODY:"Une fois que vous aurez eu une ou plusieurs conversations, elles apparatront ici.",TRANSLATION_INDICATOR:"Traduit par $GOOGLE_LOGO",ENABLE_TRANSLATION:"Traduire cette conversation en franais",ENABLE_TRANSLATION_GENERIC:"Traduire cette conversation",DISABLE_TRANSLATION:"Remontrer la conversation originale",SEARCH_PLACEHOLDER_TEXT:"Rechercher...",SEARCH_SEARCHING:"Recherche...",SEARCH_NO_RESULTS:"Aucun rsultat trouv",SEARCH_NO_MORE_RESULTS:"Il ny a plus de rsultats",CHAT_NOT_FOUND:"Conversation introuvable",DELETE_MESSAGE:"Supprimer le message",DELETION_EXPLANATION:"Si vous supprimez ce message, il disparatra pour tout le monde.",EDIT_MESSAGE:"Modifier le message",SAVE:"Enregistrer",EDITED_INDICATOR:"modifi",REPLY_TO_MESSAGE:"Rpondre",ADD_REACTION:"Ajouter une raction",AUTH_EXPIRED_OVERLAY_TITLE:"Votre session de chat a expir",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Actualisez la page pour continuer",VOICE_MESSAGE:"Message vocal",CONTACT_INFORMATION_HIDDEN:"Informations masques",LEAVE_CONVERSATION:"Quitter la conversation",MARK_CONVERSATION_AS_UNREAD:"Marquer comme non lu",ARIA_LEAVE_SEARCH_MODE:"Quitter le mode recherche",ARIA_SEARCH_UP:"Rechercher vers le haut",ARIA_SEARCH_DOWN:"Rechercher vers le bas",ARIA_CLOSE_CHAT_POPUP:"Fermer la fentre de chat",ARIA_SEARCH_INSIDE_CONVERSATION:"Rechercher dans cette conversation",ARIA_SEARCH:"Rechercher",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"dfinir la vitesse de lecture",ARIA_CANCEL_UPLOAD:"Annuler l'envoi",ARIA_STOP_RECORDING:"Arrter l'enregistrement",ARIA_CANCEL_RECORDING:"Annuler l'enregistrement",ARIA_INSERT_EMOJI:"Insrer un emoji",ARIA_PLAY_AUDIO:"lire l'audio",ARIA_PAUSE_AUDIO:"mettre en pause l'audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS ractions avec $EMOJI",ARIA_MORE_ACTIONS:"Plus d'actions",ARIA_REPLYING_TO:"Rpondre  $SENDER_NAME : $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Quitter le mode rponse"}}},function(e,t){e.exports={meta:{code:"he-IL",name:"Hebrew"},values:{YESTERDAY:"",TODAY:"",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"",LOCATION:"",CANCEL:"",INBOX:" ",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"            .       .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME   ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"       ,       .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:" 10.000 ",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"    .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"  ,    .",MESSAGELIST_LOADING_OLDER:"  ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"    ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:" ...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:" ",UPLOAD_ERROR:"    .       .",SHARE_LOCATION_ERROR:"   : ",LOADING:"...",HUB_EMPTY:" '   ",HUB_SHOW_EARLIER:" ' ",INBOX_NO_CHATS_TITLE:"  '!",INBOX_NO_CHATS_BODY:"     ,   .",TRANSLATION_INDICATOR:"$GOOGLE_LOGO  -",ENABLE_TRANSLATION:"   ",ENABLE_TRANSLATION_GENERIC:"   ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"  ",CHAT_NOT_FOUND:"'  ",DELETE_MESSAGE:" ",DELETION_EXPLANATION:"   ,    .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"   ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"    ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:" ",MARK_CONVERSATION_AS_UNREAD:"  ",ARIA_LEAVE_SEARCH_MODE:"  ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  '",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"'",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" '",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:" -$SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"  "}}},function(e,t){e.exports={meta:{code:"hi-IN",name:"Hindi (IN)"},values:{YESTERDAY:"",TODAY:"",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"",LOCATION:"",CANCEL:" ",INBOX:"",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"                            ",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME  ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"       ,             ",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:" 10,000    ",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"     ",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"   ,     ",MESSAGELIST_LOADING_OLDER:"      ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"        ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"   ...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:"  ",UPLOAD_ERROR:" ,               ",SHARE_LOCATION_ERROR:"    : ",LOADING:"   ...",HUB_EMPTY:"     ",HUB_SHOW_EARLIER:"   ",INBOX_NO_CHATS_TITLE:"    !",INBOX_NO_CHATS_BODY:"          ,     ",TRANSLATION_INDICATOR:"$GOOGLE_LOGO  ",ENABLE_TRANSLATION:"      ",ENABLE_TRANSLATION_GENERIC:"    ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"  ...",SEARCH_NO_RESULTS:"   ",SEARCH_NO_MORE_RESULTS:"   ",CHAT_NOT_FOUND:"  ",DELETE_MESSAGE:"  ",DELETION_EXPLANATION:"      ,        .",EDIT_MESSAGE:"   ",SAVE:"",EDITED_INDICATOR:"  ",REPLY_TO_MESSAGE:"  ",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"      ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"     ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:"  ",LEAVE_CONVERSATION:"   ",MARK_CONVERSATION_AS_UNREAD:"     ",ARIA_LEAVE_SEARCH_MODE:"    ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"   ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"   ",ARIA_CANCEL_UPLOAD:"  ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:"  ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS  ($EMOJI)",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"$SENDER_NAME     : $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"    "}}},function(e,t){e.exports={meta:{code:"hr-HR",name:"Croatian"},values:{YESTERDAY:"Juer",TODAY:"Danas",DAYS:"d",HOURS:"s",MINUTES:"m",JUST_NOW:"Upravo sad",LOCATION:"Lokacija",CANCEL:"Otkai",INBOX:"Pretinac",DESKTOP_NOTIFICATIONS:"Obavijesti preglednika",DESKTOP_NOTIFICATIONS_ERROR:"Notifikacije preglednika nisu omoguene jer ih va preglednik aktivno blokira. Pokuajte pogledati postavke ili koristiti neki drugi preglednik.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikacija",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ako karticu preglednika ostavite otvorenu, pojavit e se ovaj pop-up kada netko razgovara s vama.",SEND_BUTTON_TEXT:"Poalji",ENTRYBOX_TEXT_LIMIT:"Dozvoljeno je samo 10.000 znakova.",ENTRYBOX_PLACEHOLDER:"Reci neto...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Ovaj razgovor vie nije aktivan.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Moe itati, ali ne i slati poruke.",MESSAGELIST_LOADING_OLDER:"Uitavam starije poruke...",MESSAGELIST_SHOW_OLDER:"Prikai starije poruke",MESSAGELIST_NEW_MARKER:"Novo",MESSAGE_SENT_VIA_EMAIL:"Ova poruka je poslana e-potom",YOU_MARKER:"ti",UPLOAD_IN_PROGRESS:"Uitavam...",UPLOAD_SEND_FILE:"Poalji datoteku",UPLOAD_SHARE_LOCATION:"Podijeli lokaciju",UPLOAD_ERROR:"Naalost, neto je polo krivo. Datoteka moda nije podrana ili je prevelika.",SHARE_LOCATION_ERROR:"Nije mogue podijeliti lokaciju: ",LOADING:"Uitavam...",HUB_EMPTY:"Ovdje e se prikazati vaa povijest razgovora",HUB_SHOW_EARLIER:"Prikai ranije razgovore",INBOX_NO_CHATS_TITLE:"Nema razgovora!",INBOX_NO_CHATS_BODY:"Nakon to vodite jedan ili vie razgovora, oni e se pojaviti ovdje.",TRANSLATION_INDICATOR:"Prevedeno s $GOOGLE_LOGO",ENABLE_TRANSLATION:"Prevedi ovaj razgovor na hrvatski jezik",ENABLE_TRANSLATION_GENERIC:"Prevedi ovaj razgovor",DISABLE_TRANSLATION:"Prikai original",SEARCH_PLACEHOLDER_TEXT:"Pretrai...",SEARCH_SEARCHING:"Pretraivanje...",SEARCH_NO_RESULTS:"Nema rezultata",SEARCH_NO_MORE_RESULTS:"Nema vie rezultata",CHAT_NOT_FOUND:"Razgovor nije pronaen",DELETE_MESSAGE:"Obrii poruku",DELETION_EXPLANATION:"Ako izbriete ovu poruku, nestat e za sve.",EDIT_MESSAGE:"Uredi poruku",SAVE:"Spremi",EDITED_INDICATOR:"ureivao",REPLY_TO_MESSAGE:"Odgovorite",ADD_REACTION:"Dodajte reakciju",AUTH_EXPIRED_OVERLAY_TITLE:"Vaa sesija razgovora je istekla",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Osvjeite stranicu za nastavak",VOICE_MESSAGE:"Glasovna poruka",CONTACT_INFORMATION_HIDDEN:"Skrivene informacije",LEAVE_CONVERSATION:"Napustiti razgovor",MARK_CONVERSATION_AS_UNREAD:"Oznai kao neproitano",ARIA_LEAVE_SEARCH_MODE:"Napusti nain pretraivanja",ARIA_SEARCH_UP:"Trai gore",ARIA_SEARCH_DOWN:"Trai dolje",ARIA_CLOSE_CHAT_POPUP:"Zatvori prozor chata",ARIA_SEARCH_INSIDE_CONVERSATION:"Trai u ovom razgovoru",ARIA_SEARCH:"Trai",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"postavi brzinu reprodukcije",ARIA_CANCEL_UPLOAD:"Otkai uitavanje",ARIA_STOP_RECORDING:"Zaustavi snimanje",ARIA_CANCEL_RECORDING:"Otkai snimanje",ARIA_INSERT_EMOJI:"Umetni emoji",ARIA_PLAY_AUDIO:"reproduciraj audio",ARIA_PAUSE_AUDIO:"pauziraj audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reakcija s $EMOJI",ARIA_MORE_ACTIONS:"Vie radnji",ARIA_REPLYING_TO:"Odgovaranje korisniku $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Izai iz moda odgovaranja"}}},function(e,t){e.exports={meta:{code:"hu-HU",name:"Hungarian"},values:{YESTERDAY:"Tegnap",TODAY:"Ma",DAYS:"n",HOURS:"",MINUTES:"p",JUST_NOW:"ppen most",LOCATION:"Helyszn",CANCEL:"Visszavons",INBOX:"Postalda",DESKTOP_NOTIFICATIONS:"Bngsz rtestsek",DESKTOP_NOTIFICATIONS_ERROR:"Azrt nem tudja bekapcsolni a bngsz rtestsek funkcit, mert bngszje aktvan blokkolja azt. Tekintse meg a belltsokat vagy hasznljon msik bngszt.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo rtests",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ha nyitva hagyja bngszjt, felugr ablak fog megjelenni, ha valaki beszlni szeretne nnel.",SEND_BUTTON_TEXT:"Klds",ENTRYBOX_TEXT_LIMIT:"Mindssze 10.000 karakter megengedett.",ENTRYBOX_PLACEHOLDER:"Mondjon valamit...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Ez a beszlgets mr nem aktv.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Elolvashatja az zeneteket, de nem kldhet jat.",MESSAGELIST_LOADING_OLDER:"Korbbi zenetek betltse...",MESSAGELIST_SHOW_OLDER:"Korbbi zenetek megjelentse",MESSAGELIST_NEW_MARKER:"j",MESSAGE_SENT_VIA_EMAIL:"Ez az zenet e-mailben kerlt elkldsre",YOU_MARKER:"n",UPLOAD_IN_PROGRESS:"Feltlts...",UPLOAD_SEND_FILE:"Fjl kldse",UPLOAD_SHARE_LOCATION:"Helyszn megosztsa",UPLOAD_ERROR:"Sajnos hiba trtnt a feltlts sorn. A fjl nem tmogatott vagy tl nagy.",SHARE_LOCATION_ERROR:"Helyszn megosztsa nem lehetsges: ",LOADING:"Betlts...",HUB_EMPTY:"A beszlgetsek elzmnyei itt lthatk",HUB_SHOW_EARLIER:"Korbbi beszlgetsek megjelentse",INBOX_NO_CHATS_TITLE:"Mg nincs megjelenthet beszlgets!",INBOX_NO_CHATS_BODY:"Amint egy vagy tbb beszlgetssel rendelkezik, azok itt fognak megjelenni.",TRANSLATION_INDICATOR:"Fordts a $GOOGLE_LOGO ltal",ENABLE_TRANSLATION:"A beszlgets lefordtsa erre a nyelvre: magyar",ENABLE_TRANSLATION_GENERIC:"Fordtsa le ezt a beszlgetst",DISABLE_TRANSLATION:"Eredeti megjelentse",SEARCH_PLACEHOLDER_TEXT:"Keress...",SEARCH_SEARCHING:"Keress...",SEARCH_NO_RESULTS:"Nincs tallat",SEARCH_NO_MORE_RESULTS:"Nincs tbb tallat",CHAT_NOT_FOUND:"A csevegs nem tallhat",DELETE_MESSAGE:"zenet trlse",DELETION_EXPLANATION:"Ha trld ezt az zenetet, az mindenki szmra eltnik.",EDIT_MESSAGE:"zenet szerkesztse",SAVE:"Ments",EDITED_INDICATOR:"szerkesztve",REPLY_TO_MESSAGE:"Vlaszads",ADD_REACTION:"Reagls erre",AUTH_EXPIRED_OVERLAY_TITLE:"Chat munkamenete lejrt",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Folytatshoz frisstse az oldalt",VOICE_MESSAGE:"Hangzenet",CONTACT_INFORMATION_HIDDEN:"Rejtett informci",LEAVE_CONVERSATION:"Kilps a beszlgetsbl",MARK_CONVERSATION_AS_UNREAD:"Megjells olvasatlanknt",ARIA_LEAVE_SEARCH_MODE:"Keressi md elhagysa",ARIA_SEARCH_UP:"Keress felfel",ARIA_SEARCH_DOWN:"Keress lefel",ARIA_CLOSE_CHAT_POPUP:"Cseveg ablak bezrsa",ARIA_SEARCH_INSIDE_CONVERSATION:"Keress ebben a beszlgetsben",ARIA_SEARCH:"Keress",ARIA_CHAT:"Csevegs",ARIA_SET_PLAYBACK_SPEED:"lejtszsi sebessg belltsa",ARIA_CANCEL_UPLOAD:"Feltlts megszaktsa",ARIA_STOP_RECORDING:"Felvtel lelltsa",ARIA_CANCEL_RECORDING:"Felvtel megszaktsa",ARIA_INSERT_EMOJI:"Emoji beszrsa",ARIA_PLAY_AUDIO:"hang lejtszsa",ARIA_PAUSE_AUDIO:"hang szneteltetse",ARIA_REACTION_COUNT:"$NUM_REACTIONS reakci ($EMOJI)",ARIA_MORE_ACTIONS:"Tovbbi mveletek",ARIA_REPLYING_TO:"Vlaszols $SENDER_NAME rszre: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Kilps a vlasz mdbl"}}},function(e,t){e.exports={meta:{code:"id-ID",name:"Bahasa Indonesia"},values:{YESTERDAY:"Kemarin",TODAY:"Hari ini",DAYS:"h",HOURS:"j",MINUTES:"m",JUST_NOW:"sekarang",LOCATION:"Lokasi",CANCEL:"Batal",INBOX:"Kotak Masuk",DESKTOP_NOTIFICATIONS:"Notifikasi peramban",DESKTOP_NOTIFICATIONS_ERROR:"Tidak dapat mengaktifkan pemberitahuan browser karena browser Anda secara aktif memblokir mereka. Coba cari di pengaturan atau menggunakan browser yang berbeda.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"pemberitahuan demo $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Jika Anda membiarkan tab browser tetap terbuka, Anda akan melihat ini muncul ketika seseorang berbicara kepada Anda.",SEND_BUTTON_TEXT:"Kirim",ENTRYBOX_TEXT_LIMIT:"Hanya 10.000 karakter yang diizinkan.",ENTRYBOX_PLACEHOLDER:"Katakan sesuatu...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Percakapan ini tidak lagi aktif.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Anda dapat membaca, tetapi tidak mengirim pesan.",MESSAGELIST_LOADING_OLDER:"Memuat pesan lama...",MESSAGELIST_SHOW_OLDER:"Tampilkan pesan yang lebih lama",MESSAGELIST_NEW_MARKER:"Baru",MESSAGE_SENT_VIA_EMAIL:"Pesan ini dikirim melalui email",YOU_MARKER:"Anda",UPLOAD_IN_PROGRESS:"Mengunggah...",UPLOAD_SEND_FILE:"Kirim mengajukan",UPLOAD_SHARE_LOCATION:"Bagikan lokasi",UPLOAD_ERROR:"Ada yang salah diunggah. File mungkin tidak didukung atau terlalu besar.",SHARE_LOCATION_ERROR:"Tidak dapat membagikan lokasi: ",LOADING:"Memuat...",HUB_EMPTY:"Riwayat obrolan Anda akan muncul di sini",HUB_SHOW_EARLIER:"Tampilkan obrolan sebelumnya",INBOX_NO_CHATS_TITLE:"Belum ada obrolan!",INBOX_NO_CHATS_BODY:"Setelah Anda melakukan satu atau lebih percakapan, mereka akan muncul di sini.",TRANSLATION_INDICATOR:"Diterjemahkan oleh $GOOGLE_LOGO",ENABLE_TRANSLATION:"Terjemahkan percakapan ini ke Indonesia",ENABLE_TRANSLATION_GENERIC:"Terjemahkan percakapan ini",DISABLE_TRANSLATION:"Perlihatkan asli",SEARCH_PLACEHOLDER_TEXT:"Cari...",SEARCH_SEARCHING:"Mencari...",SEARCH_NO_RESULTS:"Tidak ditemukan hasil",SEARCH_NO_MORE_RESULTS:"Tidak ada hasil lainnya",CHAT_NOT_FOUND:"Obrolan tidak ditemukan",DELETE_MESSAGE:"Hapus pesan",DELETION_EXPLANATION:"Jika pesan ini Anda hapus, pesan ini akan tidak terlihat bagi siapa pun.",EDIT_MESSAGE:"Sunting pesan",SAVE:"Ments",EDITED_INDICATOR:"diedit",REPLY_TO_MESSAGE:"Balas",ADD_REACTION:"Tambah reaksi",AUTH_EXPIRED_OVERLAY_TITLE:"Sesi obrolan Anda sudah lewat batas waktu",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Muat ulang halaman untuk melanjutkan",VOICE_MESSAGE:"Pesan suara",CONTACT_INFORMATION_HIDDEN:"Informasi tersembunyi",LEAVE_CONVERSATION:"Tinggalkan percakapan",MARK_CONVERSATION_AS_UNREAD:"Tandai sebagai Belum dibaca",ARIA_LEAVE_SEARCH_MODE:"Keluar dari mode pencarian",ARIA_SEARCH_UP:"Cari ke atas",ARIA_SEARCH_DOWN:"Cari ke bawah",ARIA_CLOSE_CHAT_POPUP:"Tutup jendela obrolan",ARIA_SEARCH_INSIDE_CONVERSATION:"Cari dalam percakapan ini",ARIA_SEARCH:"Cari",ARIA_CHAT:"Obrolan",ARIA_SET_PLAYBACK_SPEED:"atur kecepatan pemutaran",ARIA_CANCEL_UPLOAD:"Batalkan unggah",ARIA_STOP_RECORDING:"Hentikan perekaman",ARIA_CANCEL_RECORDING:"Batalkan perekaman",ARIA_INSERT_EMOJI:"Sisipkan emoji",ARIA_PLAY_AUDIO:"putar audio",ARIA_PAUSE_AUDIO:"jeda audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reaksi dengan $EMOJI",ARIA_MORE_ACTIONS:"Tindakan lainnya",ARIA_REPLYING_TO:"Membalas $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Keluar dari mode balasan"}}},function(e,t){e.exports={meta:{code:"is-IS",name:"slenska"},values:{YESTERDAY:" gr",TODAY:" dag",DAYS:"dagar",HOURS:"klst.",MINUTES:"mn.",JUST_NOW:"nna",LOCATION:"Stasetning",CANCEL:"Htta vi",INBOX:"Psthlf",DESKTOP_NOTIFICATIONS:"Tilkynningar  vafra",DESKTOP_NOTIFICATIONS_ERROR:"Ekki er hgt a birta tilkynningar  vafra vegna ess a vafrinn sem  notar hindrar a. Reyndu a leita a stillingum ea a nota annan vafra.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME prufutilkynning",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ef flipinn  vafranum er opinn muntu sj essa tilkynningu birtast egar einhver sendir r skilabo.",SEND_BUTTON_TEXT:"Senda",ENTRYBOX_TEXT_LIMIT:"Aeins 10.000 stafir komast fyrir.",ENTRYBOX_PLACEHOLDER:"Segu eitthva...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"essar samrur eru ekki lengar virkar.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:" getur lesi, en ekki sent skilabo.",MESSAGELIST_LOADING_OLDER:"Ski eldri skilabo...",MESSAGELIST_SHOW_OLDER:"Sna eldri skilabo",MESSAGELIST_NEW_MARKER:"N",MESSAGE_SENT_VIA_EMAIL:"essi skilabo voru send me tlvupsti",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"Hle upp...",UPLOAD_SEND_FILE:"Senda skr",UPLOAD_SHARE_LOCATION:"Deila stasetningu",UPLOAD_ERROR:"v miur fr eitthva rskeiis vi a hlaa upp. Skrin gti veri af rangri tegund e of str.",SHARE_LOCATION_ERROR:"Ekki er hgt a deila stasetningu: ",LOADING:"Hle...",HUB_EMPTY:"Fyrri samtl munu birtast hr",HUB_SHOW_EARLIER:"Sna fyrri samtl",INBOX_NO_CHATS_TITLE:"Engin samtl enn!",INBOX_NO_CHATS_BODY:"egar  hefur tt eitt ea fleiri samtl, munu au birtast hr.",TRANSLATION_INDICATOR:"tt af $GOOGLE_LOGO",ENABLE_TRANSLATION:"a etta samtal  ensku",ENABLE_TRANSLATION_GENERIC:"a etta samtal",DISABLE_TRANSLATION:"Sna upprunalegt",SEARCH_PLACEHOLDER_TEXT:"Leita...",SEARCH_SEARCHING:"Leita...",SEARCH_NO_RESULTS:"Ekkert fannst",SEARCH_NO_MORE_RESULTS:"Engar fleiri niurstur",CHAT_NOT_FOUND:"Samtal fannst ekki",DELETE_MESSAGE:"Eya skilaboum",DELETION_EXPLANATION:"Ef  eyir essum skilaboum munu au hverfa hj llum.",EDIT_MESSAGE:"Breyta skilaboum",SAVE:"Vista",EDITED_INDICATOR:"breytt",REPLY_TO_MESSAGE:"Svara",REPLY_MODE_LEAVE_ARIA_LABEL:"Fara r svari",ADD_REACTION:"Setja inn vibrg",AUTH_EXPIRED_OVERLAY_TITLE:"Spjalli hefur runni t",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Endurnjau suna til a halda fram",VOICE_MESSAGE:"Raddskilabo",LEAVE_CONVERSATION:"Skilja eftir skilabo",MARK_CONVERSATION_AS_UNREAD:"Merkja sem lesi",STATUS_INDICATOR_ONLINE:"Virk",STATUS_INDICATOR_OFFLINE:"Ekki vi",CONTACT_INFORMATION_HIDDEN:"faldar upplsingar",ARIA_LEAVE_SEARCH_MODE:"Htta  leitastillingu",ARIA_SEARCH_UP:"Leita upp",ARIA_SEARCH_DOWN:"Leita niur",ARIA_CLOSE_CHAT_POPUP:"Loka spjallglugga",ARIA_SEARCH_INSIDE_CONVERSATION:"Leita  essari samtal",ARIA_SEARCH:"Leita",ARIA_CHAT:"Spjall",ARIA_SET_PLAYBACK_SPEED:"stilla afspilunarhraa",ARIA_CANCEL_UPLOAD:"Htta vi upphleslu",ARIA_STOP_RECORDING:"Stva upptku",ARIA_CANCEL_RECORDING:"Htta vi upptku",ARIA_INSERT_EMOJI:"Setja inn emoji",ARIA_PLAY_AUDIO:"spila hlj",ARIA_PAUSE_AUDIO:"gera hl  hlji",ARIA_REACTION_COUNT:"$NUM_REACTIONS vibrg me $EMOJI",ARIA_MORE_ACTIONS:"Fleiri agerir",ARIA_REPLYING_TO:"Svara $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Htta  svarmd"}}},function(e,t){e.exports={meta:{code:"it-IT",name:"Italian"},values:{YESTERDAY:"Ieri",TODAY:"Oggi",DAYS:"g",HOURS:"o",MINUTES:"m",JUST_NOW:"adesso",LOCATION:"Posizione",CANCEL:"Annulla",INBOX:"Posta in arrivo",DESKTOP_NOTIFICATIONS:"Notifiche browser",DESKTOP_NOTIFICATIONS_ERROR:"Impossibile abilitare le notifiche browser perch il browser le blocca attivamente. Prova a cercare le impostazioni o utilizzare un browser diverso.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notification",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Se si mantiene aperta la scheda del browser, questo verr visualizzato quando qualcuno ti parla.",SEND_BUTTON_TEXT:"Invia",ENTRYBOX_TEXT_LIMIT:"Sono consentiti solo 10.000 caratteri.",ENTRYBOX_PLACEHOLDER:"D qualcosa...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Questa conversazione non  pi attiva.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Puoi leggere, ma non inviare messaggi.",MESSAGELIST_LOADING_OLDER:"Caricamento dei messaggi precedenti...",MESSAGELIST_SHOW_OLDER:"Mostra messaggi precedenti",MESSAGELIST_NEW_MARKER:"Nuovo",MESSAGE_SENT_VIA_EMAIL:"Questo messaggio  stato inviato via email",YOU_MARKER:"tu",UPLOAD_IN_PROGRESS:"Caricamento in corso...",UPLOAD_SEND_FILE:"Invia file",UPLOAD_SHARE_LOCATION:"Condividi posizione",UPLOAD_ERROR:"Qualcosa  andato storto durante il caricamento. Il file potrebbe non essere supportato o troppo grande.",SHARE_LOCATION_ERROR:"Impossibile condividere la posizione: ",LOADING:"Caricamento in corso...",HUB_EMPTY:"La cronologia della tua chat verr mostrata qui",HUB_SHOW_EARLIER:"Mostra chat precedenti",INBOX_NO_CHATS_TITLE:"Non ci sono ancora chat!",INBOX_NO_CHATS_BODY:"Una volta che hai avuto una o pi conversazioni, verranno visualizzate qui.",TRANSLATION_INDICATOR:"Tradotto con $GOOGLE_LOGO",ENABLE_TRANSLATION:"Traduci questa conversazione in italiano",ENABLE_TRANSLATION_GENERIC:"Traduci questa conversazione",DISABLE_TRANSLATION:"Mostra l'originale",SEARCH_PLACEHOLDER_TEXT:"Cerca...",SEARCH_SEARCHING:"Cercando...",SEARCH_NO_RESULTS:"Nessun risultato trovato",SEARCH_NO_MORE_RESULTS:"Non ci sono pi risultati",CHAT_NOT_FOUND:"Chat non trovata",DELETE_MESSAGE:"Elimina messaggio",DELETION_EXPLANATION:"Se elimini il messaggio, questo scomparir per tutti.",EDIT_MESSAGE:"Modifica messaggio",SAVE:"Salva",EDITED_INDICATOR:"modificato",REPLY_TO_MESSAGE:"Rispondi",ADD_REACTION:"Aggiungi reazione",AUTH_EXPIRED_OVERLAY_TITLE:"La sessione di chat  scaduta",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Aggiorna la pagina per continuare",VOICE_MESSAGE:"Messaggio vocale",CONTACT_INFORMATION_HIDDEN:"Informazioni nascoste",LEAVE_CONVERSATION:"Abbandona la conversazione",MARK_CONVERSATION_AS_UNREAD:"Segna come non letto",ARIA_LEAVE_SEARCH_MODE:"Esci dalla modalit ricerca",ARIA_SEARCH_UP:"Cerca in alto",ARIA_SEARCH_DOWN:"Cerca in basso",ARIA_CLOSE_CHAT_POPUP:"Chiudi la finestra di chat",ARIA_SEARCH_INSIDE_CONVERSATION:"Cerca in questa conversazione",ARIA_SEARCH:"Cerca",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"imposta velocit di riproduzione",ARIA_CANCEL_UPLOAD:"Annulla caricamento",ARIA_STOP_RECORDING:"Interrompi registrazione",ARIA_CANCEL_RECORDING:"Annulla registrazione",ARIA_INSERT_EMOJI:"Inserisci un'emoji",ARIA_PLAY_AUDIO:"riproduci audio",ARIA_PAUSE_AUDIO:"metti in pausa audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reazioni con $EMOJI",ARIA_MORE_ACTIONS:"Altre azioni",ARIA_REPLYING_TO:"Rispondendo a $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Esci dalla modalit risposta"}}},function(e,t){e.exports={meta:{code:"ja-JP",name:"Japanese"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:"",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:"",DESKTOP_NOTIFICATIONS_ERROR:"",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"10.000",ENTRYBOX_PLACEHOLDER:"",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"",MESSAGELIST_LOADING_OLDER:"...",MESSAGELIST_SHOW_OLDER:"",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:"",UPLOAD_SHARE_LOCATION:"",UPLOAD_ERROR:"",SHARE_LOCATION_ERROR:" ",LOADING:"...",HUB_EMPTY:"",HUB_SHOW_EARLIER:"",INBOX_NO_CHATS_TITLE:"",INBOX_NO_CHATS_BODY:"1",TRANSLATION_INDICATOR:" $GOOGLE_LOGO",ENABLE_TRANSLATION:"",ENABLE_TRANSLATION_GENERIC:"",DISABLE_TRANSLATION:"",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"",SEARCH_NO_MORE_RESULTS:"",CHAT_NOT_FOUND:"",DELETE_MESSAGE:"",DELETION_EXPLANATION:"",EDIT_MESSAGE:"",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:"",AUTH_EXPIRED_OVERLAY_TITLE:"",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"",VOICE_MESSAGE:"",CONTACT_INFORMATION_HIDDEN:"",LEAVE_CONVERSATION:"",MARK_CONVERSATION_AS_UNREAD:"",ARIA_LEAVE_SEARCH_MODE:"",ARIA_SEARCH_UP:"",ARIA_SEARCH_DOWN:"",ARIA_CLOSE_CHAT_POPUP:"",ARIA_SEARCH_INSIDE_CONVERSATION:"",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"",ARIA_CANCEL_UPLOAD:"",ARIA_STOP_RECORDING:"",ARIA_CANCEL_RECORDING:"",ARIA_INSERT_EMOJI:"",ARIA_PLAY_AUDIO:"",ARIA_PAUSE_AUDIO:"",ARIA_REACTION_COUNT:"$NUM_REACTIONS$EMOJI",ARIA_MORE_ACTIONS:"",ARIA_REPLYING_TO:"$SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:""}}},function(e,t){e.exports={meta:{code:"ka-GE",name:"Georgian"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:"",LOCATION:"",CANCEL:"",INBOX:" ",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"   .    .       .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME   ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"    ,      .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"  10.000 .",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"    .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:" ,    .",MESSAGELIST_LOADING_OLDER:"  ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"   ",YOU_MARKER:"you",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:" ",UPLOAD_ERROR:" .       .",SHARE_LOCATION_ERROR:"  : ",LOADING:"...",HUB_EMPTY:"   ",HUB_SHOW_EARLIER:"  ",INBOX_NO_CHATS_TITLE:"-   !",INBOX_NO_CHATS_BODY:"    ",TRANSLATION_INDICATOR:" $GOOGLE_LOGO",ENABLE_TRANSLATION:"   ",ENABLE_TRANSLATION_GENERIC:"  ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:" ...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"   ",CHAT_NOT_FOUND:"  ",DELETE_MESSAGE:"  ",DELETION_EXPLANATION:"   ,   .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:" ",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"    ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"  ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:" ",MARK_CONVERSATION_AS_UNREAD:" ",ARIA_LEAVE_SEARCH_MODE:"  ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"  ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS  ($EMOJI)",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:" $SENDER_NAME-: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"  "}}},function(e,t){e.exports={meta:{code:"ko-KR",name:"Korean (South Korea)"},values:{YESTERDAY:"",TODAY:"",DAYS:" ",HOURS:" ",MINUTES:" ",JUST_NOW:"",LOCATION:"",CANCEL:"",INBOX:" ",DESKTOP_NOTIFICATIONS:" ",DESKTOP_NOTIFICATIONS_ERROR:"    .      .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME  ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"           .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:" 10,000   .",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:" .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"     .",MESSAGELIST_LOADING_OLDER:"   ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:" ",MESSAGE_SENT_VIA_EMAIL:"    .",YOU_MARKER:"",UPLOAD_IN_PROGRESS:" ...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:" ",UPLOAD_ERROR:" .       .",SHARE_LOCATION_ERROR:"    : ",LOADING:" ...",HUB_EMPTY:"   ",HUB_SHOW_EARLIER:" ",INBOX_NO_CHATS_TITLE:"  !",INBOX_NO_CHATS_BODY:"     .",TRANSLATION_INDICATOR:" $GOOGLE_LOGO",ENABLE_TRANSLATION:"   ",ENABLE_TRANSLATION_GENERIC:"  ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:" ...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"   ",CHAT_NOT_FOUND:"  ",DELETE_MESSAGE:" ",DELETION_EXPLANATION:"        .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"  ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"  ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:" ",MARK_CONVERSATION_AS_UNREAD:"   ",ARIA_LEAVE_SEARCH_MODE:"  ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:"  ",ARIA_REACTION_COUNT:"$NUM_REACTIONS  ($EMOJI)",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"$SENDER_NAME : $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"  "}}},function(e,t){e.exports={meta:{code:"nb-NO",name:"Norwegian (Bokml)"},values:{YESTERDAY:"I gr",TODAY:"I dag",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"N",LOCATION:"Plassering",CANCEL:"Avbryt",INBOX:"Innboks",DESKTOP_NOTIFICATIONS:"Nettleservarsler",DESKTOP_NOTIFICATIONS_ERROR:"Kan ikke aktivere Nettleservarsler fordi nettleseren din aktivt blokkerer dem. Prv  se i innstillingene eller bruke en annen nettleser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo varslinger",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Hvis du holder nettleservinduet pent, vil du se dette varsel nr noen snakker til deg.",SEND_BUTTON_TEXT:"Send",ENTRYBOX_TEXT_LIMIT:"Kun 10.000 tegn er tillatt.",ENTRYBOX_PLACEHOLDER:"Si noe...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Denne samtale er ikke lengre aktiv.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Du kan lese, men ikke sende meldinger.",MESSAGELIST_LOADING_OLDER:"Laster eldre meldinger...",MESSAGELIST_SHOW_OLDER:"Vis eldre meldinger",MESSAGELIST_NEW_MARKER:"Ny",MESSAGE_SENT_VIA_EMAIL:"Denne meldingen er sendt via e-post",YOU_MARKER:"deg",UPLOAD_IN_PROGRESS:"Laster opp...",UPLOAD_SEND_FILE:"Send fil",UPLOAD_SHARE_LOCATION:"Del din plassering",UPLOAD_ERROR:"Noe gikk galt i uplastingen. Det kan vre filen ikke stttes eller for stor.",SHARE_LOCATION_ERROR:"Kan ikke dele plasseringen: ",LOADING:"Laster...",HUB_EMPTY:"Din chats historikk vil vises her",HUB_SHOW_EARLIER:"Vis tidligere chats",INBOX_NO_CHATS_TITLE:"Ingen chats enda!",INBOX_NO_CHATS_BODY:"S snart du fr en eller flere samtaler, vil de vises her.",TRANSLATION_INDICATOR:"Oversatt av $GOOGLE_LOGO",ENABLE_TRANSLATION:"Oversett denne samtalen til norsk",ENABLE_TRANSLATION_GENERIC:"Oversett denne samtalen",DISABLE_TRANSLATION:"Vis original",SEARCH_PLACEHOLDER_TEXT:"Sk...",SEARCH_SEARCHING:"Sker...",SEARCH_NO_RESULTS:"Finner ingen resultater",SEARCH_NO_MORE_RESULTS:"Ingen flere resultater",CHAT_NOT_FOUND:"Chat ikke funnet",DELETE_MESSAGE:"Slett melding",DELETION_EXPLANATION:"Hvis du sletter denne meldingen, forsvinner den for alle.",EDIT_MESSAGE:"Rediger melding",SAVE:"Lagre",EDITED_INDICATOR:"redigert",REPLY_TO_MESSAGE:"Svar",ADD_REACTION:"Legg til reaksjon",AUTH_EXPIRED_OVERLAY_TITLE:"Chatkten er utlpt",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Oppdater siden for  fortsette",VOICE_MESSAGE:"Lydmelding",CONTACT_INFORMATION_HIDDEN:"Skjult informasjon",LEAVE_CONVERSATION:"Forlat samtalen",MARK_CONVERSATION_AS_UNREAD:"Merk som ulest",ARIA_LEAVE_SEARCH_MODE:"Forlat skemodus",ARIA_SEARCH_UP:"Sk oppover",ARIA_SEARCH_DOWN:"Sk nedover",ARIA_CLOSE_CHAT_POPUP:"Lukk chatvindu",ARIA_SEARCH_INSIDE_CONVERSATION:"Sk i denne samtalen",ARIA_SEARCH:"Sk",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"angi avspillingshastighet",ARIA_CANCEL_UPLOAD:"Avbryt opplasting",ARIA_STOP_RECORDING:"Stopp opptak",ARIA_CANCEL_RECORDING:"Avbryt opptak",ARIA_INSERT_EMOJI:"Sett inn en emoji",ARIA_PLAY_AUDIO:"spill av lyd",ARIA_PAUSE_AUDIO:"pause lyd",ARIA_REACTION_COUNT:"$NUM_REACTIONS reaksjoner med $EMOJI",ARIA_MORE_ACTIONS:"Flere handlinger",ARIA_REPLYING_TO:"Svarer til $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Avslutt svarmodus"}}},function(e,t){e.exports={meta:{code:"nl-NL",name:"Dutch"},values:{YESTERDAY:"Gisteren",TODAY:"Vandaag",DAYS:"d",HOURS:"u",MINUTES:"m",JUST_NOW:"zojuist",LOCATION:"Locatie",CANCEL:"Annuleren",INBOX:"Inbox",DESKTOP_NOTIFICATIONS:"Browsermeldingen",DESKTOP_NOTIFICATIONS_ERROR:"Browsermeldingen kunnen niet geactiveerd worden omdat de browser het blokkeert. Check de instellingen van je browser of probeer een andere browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notificatie",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Als je je browser open houdt, zie je deze popup als iemand tegen je praat.",SEND_BUTTON_TEXT:"Verzenden",ENTRYBOX_TEXT_LIMIT:"Maximaal 10.000 tekens toegestaan.",ENTRYBOX_PLACEHOLDER:"Typ een bericht...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Dit gesprek is niet actief meer.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Je kunt geen berichten sturen.",MESSAGELIST_LOADING_OLDER:"Eerdere berichten laden...",MESSAGELIST_SHOW_OLDER:"Laad eerdere berichten",MESSAGELIST_NEW_MARKER:"Nieuw",MESSAGE_SENT_VIA_EMAIL:"Dit bericht is verstuurd via e-mail",YOU_MARKER:"jij",UPLOAD_IN_PROGRESS:"Uploaden...",UPLOAD_SEND_FILE:"Verzend bestand",UPLOAD_SHARE_LOCATION:"Deel locatie",UPLOAD_ERROR:"Er ging iets mis. Het bestand wordt niet ondersteund of is te groot.",SHARE_LOCATION_ERROR:"Locatie delen mislukt: ",LOADING:"Bezig met laden...",HUB_EMPTY:"Berichtengeschiedenis wordt hier weergegeven",HUB_SHOW_EARLIER:"Laat eerdere berichten zien",INBOX_NO_CHATS_TITLE:"Nog geen chats!",INBOX_NO_CHATS_BODY:"Zodra je een of meerdere conversaties hebt gehad, worden deze hier weergegeven.",TRANSLATION_INDICATOR:"Vertaald door $GOOGLE_LOGO",ENABLE_TRANSLATION:"Vertaal dit gesprek naar het Nederlands",ENABLE_TRANSLATION_GENERIC:"Vertaal dit gesprek",DISABLE_TRANSLATION:"Toon oorspronkelijk gesprek",SEARCH_PLACEHOLDER_TEXT:"Zoek...",SEARCH_SEARCHING:"Zoeken...",SEARCH_NO_RESULTS:"Geen resultaten gevonden",SEARCH_NO_MORE_RESULTS:"Niet meer resultaten",CHAT_NOT_FOUND:"Chat niet gevonden",DELETE_MESSAGE:"Bericht verwijderen",DELETION_EXPLANATION:"Als je dit bericht verwijdert, zal het voor iedereen verdwijnen.",EDIT_MESSAGE:"Bericht bewerken",SAVE:"Opslaan",EDITED_INDICATOR:"bewerkt",REPLY_TO_MESSAGE:"Beantwoorden",ADD_REACTION:"Reactie toevoegen",AUTH_EXPIRED_OVERLAY_TITLE:"Je chatsessie is verlopen",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Ververs de pagina om door te gaan",VOICE_MESSAGE:"Spraakbericht",CONTACT_INFORMATION_HIDDEN:"verborgen informatie",LEAVE_CONVERSATION:"Gesprek verlaten",MARK_CONVERSATION_AS_UNREAD:"Markeren als ongelezen",STATUS_INDICATOR_ONLINE:"Online",STATUS_INDICATOR_OFFLINE:"Offline",ARIA_LEAVE_SEARCH_MODE:"Zoekmodus verlaten",ARIA_SEARCH_UP:"Omhoog zoeken",ARIA_SEARCH_DOWN:"Omlaag zoeken",ARIA_CLOSE_CHAT_POPUP:"Chatvenster sluiten",ARIA_SEARCH_INSIDE_CONVERSATION:"Zoeken in dit gesprek",ARIA_SEARCH:"Zoeken",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"Afspeelsnelheid instellen",ARIA_CANCEL_UPLOAD:"Upload annuleren",ARIA_STOP_RECORDING:"Opname stoppen",ARIA_CANCEL_RECORDING:"Opname annuleren",ARIA_INSERT_EMOJI:"Een emoji invoegen",ARIA_PLAY_AUDIO:"Audio afspelen",ARIA_PAUSE_AUDIO:"Audio pauzeren",ARIA_REACTION_COUNT:"$NUM_REACTIONS Reacties met $EMOJI",ARIA_MORE_ACTIONS:"Meer acties",ARIA_REPLYING_TO:"Beantwoorden aan $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Verlaat antwoordmodus"}}},function(e,t){e.exports={meta:{code:"pl-PL",name:"Polish"},values:{YESTERDAY:"Wczoraj",TODAY:"Dzisiaj",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"teraz",LOCATION:"Lokalizacja",CANCEL:"Anuluj",INBOX:"Skrzynka odbiorcza",DESKTOP_NOTIFICATIONS:"Powiadomienia",DESKTOP_NOTIFICATIONS_ERROR:"Nie mona aktywowa powiadomie, poniewa twoja przegldarka je blokuje. Prosz zmieni ustawienie lub sprbowa innej przegldarki.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME przykadowe powiadomienie",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Jeli zostawisz t kart otwart, zobaczysz takie powiadomienie, gdy kto napisze do Ciebie.",SEND_BUTTON_TEXT:"Wylij",ENTRYBOX_TEXT_LIMIT:"Nie mona wysya wicej ni 10000 znakw.",ENTRYBOX_PLACEHOLDER:"Napisz co...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Ten czat nie jest aktywny.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Moesz czyta wiadomoci, ale nie moesz ich wysya.",MESSAGELIST_LOADING_OLDER:"Wczytuj starsze wiadomoci...",MESSAGELIST_SHOW_OLDER:"Zobacz starsze wiadomoci",MESSAGELIST_NEW_MARKER:"Nowe",MESSAGE_SENT_VIA_EMAIL:"Ta wiadomo zostaa wysana przez email.",YOU_MARKER:"ty",UPLOAD_IN_PROGRESS:"Przesyanie...",UPLOAD_SEND_FILE:"Przelij plik",UPLOAD_SHARE_LOCATION:"Udostpnij lokalizacj",UPLOAD_ERROR:"Co poszo nie tak. Plik moe by zbyt duy lub jest nieobsugiwany.",SHARE_LOCATION_ERROR:"Nie da si udostpni lokalizacji: ",LOADING:"adowanie...",HUB_EMPTY:"Twoje czaty pojawi si tutaj",HUB_SHOW_EARLIER:"Zobacz starsze czaty",INBOX_NO_CHATS_TITLE:"Brak czatw!",INBOX_NO_CHATS_BODY:"Rozpoczte konwersacje pojawi si tutaj.",TRANSLATION_INDICATOR:"Przetumaczone przez $GOOGLE_LOGO",ENABLE_TRANSLATION:"Przetumacz t konwersacj na jzyk polski",ENABLE_TRANSLATION_GENERIC:"Przetumacz t konwersacj",DISABLE_TRANSLATION:"Poka orygina",SEARCH_PLACEHOLDER_TEXT:"Wyszukaj...",SEARCH_SEARCHING:"Wyszukiwanie...",SEARCH_NO_RESULTS:"Nie znaleziono wynikw",SEARCH_NO_MORE_RESULTS:"Nie ma innych wynikw",CHAT_NOT_FOUND:"Nie znaleziono konwersacji",DELETE_MESSAGE:"Usu wiadomo",DELETION_EXPLANATION:"Jeli usuniesz t wiadomo, przestanie by widoczna dla wszystkich.",EDIT_MESSAGE:"Edytuj wiadomo",SAVE:"Zapisz",EDITED_INDICATOR:"edytowano",REPLY_TO_MESSAGE:"Odpowiedz",ADD_REACTION:"Dodaj reakcj",AUTH_EXPIRED_OVERLAY_TITLE:"Twoja sesja wygasa",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Odwie stron, aby kontynuowa",VOICE_MESSAGE:"Wiadomo gosowa",CONTACT_INFORMATION_HIDDEN:"Ukryte informacje",LEAVE_CONVERSATION:"Opu konwersacj",MARK_CONVERSATION_AS_UNREAD:"Oznacz jako nieprzeczytane",ARIA_LEAVE_SEARCH_MODE:"Wyjd z trybu wyszukiwania",ARIA_SEARCH_UP:"Szukaj w gr",ARIA_SEARCH_DOWN:"Szukaj w d",ARIA_CLOSE_CHAT_POPUP:"Zamknij okno czatu",ARIA_SEARCH_INSIDE_CONVERSATION:"Szukaj w tej konwersacji",ARIA_SEARCH:"Szukaj",ARIA_CHAT:"Czat",ARIA_SET_PLAYBACK_SPEED:"ustaw prdko odtwarzania",ARIA_CANCEL_UPLOAD:"Anuluj przesyanie",ARIA_STOP_RECORDING:"Zatrzymaj nagrywanie",ARIA_CANCEL_RECORDING:"Anuluj nagrywanie",ARIA_INSERT_EMOJI:"Wstaw emoji",ARIA_PLAY_AUDIO:"odtwrz audio",ARIA_PAUSE_AUDIO:"wstrzymaj audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reakcji z $EMOJI",ARIA_MORE_ACTIONS:"Wicej akcji",ARIA_REPLYING_TO:"Odpowiadanie na $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Wyjd z trybu odpowiedzi"}}},function(e,t){e.exports={meta:{code:"pt-BR",name:"Portuguese (Brazil)"},values:{YESTERDAY:"Ontem",TODAY:"Hoje",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"agora mesmo",LOCATION:"Localizao",CANCEL:"Cancelar",INBOX:"Caixa de entrada",DESKTOP_NOTIFICATIONS:"Notificaes do navegador",DESKTOP_NOTIFICATIONS_ERROR:"No  possvel ativar as notificaes da navegador porque seu navegador as bloqueia. Tente procurar nas configuraes ou usar um navegador diferente.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME notificao de demonstrao",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Se voc mantiver a guia do navegador aberta, ver essa mensagem quando algum falar com voc.",SEND_BUTTON_TEXT:"Enviar",ENTRYBOX_TEXT_LIMIT:"Apenas 10.000 caracteres so permitidos.",ENTRYBOX_PLACEHOLDER:"Diga algo...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Esta conversa no est mais ativa.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Voc pode ler, mas no enviar mensagens.",MESSAGELIST_LOADING_OLDER:"Carregando mensagens antigas...",MESSAGELIST_SHOW_OLDER:"Mostrar mensagens mais antigas",MESSAGELIST_NEW_MARKER:"Novo",MESSAGE_SENT_VIA_EMAIL:"Esta mensagem foi enviada via email.",YOU_MARKER:"Voc",UPLOAD_IN_PROGRESS:"Carregando...",UPLOAD_SEND_FILE:"Enviar arquivo",UPLOAD_SHARE_LOCATION:"Compartilhar localizao",UPLOAD_ERROR:"Algo deu errado ao fazer o upload. O arquivo pode no ter suporte ou ser muito grande.",SHARE_LOCATION_ERROR:"No  possvel compartilhar o local: ",LOADING:"Carregando...",HUB_EMPTY:"Seu histrico de conversas ser exibido aqui",HUB_SHOW_EARLIER:"Mostrar conversas anteriores",INBOX_NO_CHATS_TITLE:"Ainda no h chats!",INBOX_NO_CHATS_BODY:"Depois de ter uma ou mais conversas, elas sero exibidas aqui.",TRANSLATION_INDICATOR:"Traduzido pelo $GOOGLE_LOGO",ENABLE_TRANSLATION:"Traduzir esta conversa para portugus",ENABLE_TRANSLATION_GENERIC:"Traduzir esta conversa",DISABLE_TRANSLATION:"Ver a conversa no traduzida",SEARCH_PLACEHOLDER_TEXT:"Busca...",SEARCH_SEARCHING:"Consultando...",SEARCH_NO_RESULTS:"Resultados nao encontrados",SEARCH_NO_MORE_RESULTS:"No h mais resultados",CHAT_NOT_FOUND:"Conversa no encontrada",DELETE_MESSAGE:"Excluir mensagem",DELETION_EXPLANATION:"Se voc excluir esta mensagem, ela desaparecer para todos.",EDIT_MESSAGE:"Editar mensagem",SAVE:"Salvar",EDITED_INDICATOR:"editada",REPLY_TO_MESSAGE:"Responder",ADD_REACTION:"Adicionar reao",AUTH_EXPIRED_OVERLAY_TITLE:"Sua sesso de chat expirou",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Atualize a pgina para continuar",VOICE_MESSAGE:"Mensagem de voz",LEAVE_CONVERSATION:"Sair da conversa",MARK_CONVERSATION_AS_UNREAD:"Marcar como no lida",CONTACT_INFORMATION_HIDDEN:"Informao oculta",ARIA_LEAVE_SEARCH_MODE:"Sair do modo de pesquisa",ARIA_SEARCH_UP:"Pesquisar para cima",ARIA_SEARCH_DOWN:"Pesquisar para baixo",ARIA_CLOSE_CHAT_POPUP:"Fechar janela de chat",ARIA_SEARCH_INSIDE_CONVERSATION:"Pesquisar nesta conversa",ARIA_SEARCH:"Pesquisar",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"definir velocidade de reproduo",ARIA_CANCEL_UPLOAD:"Cancelar envio",ARIA_STOP_RECORDING:"Parar gravao",ARIA_CANCEL_RECORDING:"Cancelar gravao",ARIA_INSERT_EMOJI:"Inserir um emoji",ARIA_PLAY_AUDIO:"reproduzir udio",ARIA_PAUSE_AUDIO:"pausar udio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reaes com $EMOJI",ARIA_MORE_ACTIONS:"Mais aes",ARIA_REPLYING_TO:"Respondendo a $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Sair do modo de resposta"}}},function(e,t){e.exports={meta:{code:"ro-RO",name:"Romanian (Romania)"},values:{YESTERDAY:"Ieri",TODAY:"Astzi",DAYS:"z",HOURS:"o",MINUTES:"m",JUST_NOW:"chiar acum",LOCATION:"Locaie",CANCEL:"Anulare",INBOX:"Inbox",DESKTOP_NOTIFICATIONS:"Notificri browser",DESKTOP_NOTIFICATIONS_ERROR:"Nu se pot activa notificri browser deoarece browserul dvs. le blocheaz n mod activ. ncercai s cutai n setri sau utiliznd un alt browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"Notificare de debit $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Dac inei fia browserului deschis, vei vedea acest pop-up atunci cnd cineva vorbete cu dvs.",SEND_BUTTON_TEXT:"Trimitei",ENTRYBOX_TEXT_LIMIT:"Sunt permise numai 10.000 de caractere.",ENTRYBOX_PLACEHOLDER:"Spune ceva...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Aceast conversaie nu mai este activ.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Putei citi, dar nu putei trimite mesaje.",MESSAGELIST_LOADING_OLDER:"ncrcarea mesajelor mai vechi...",MESSAGELIST_SHOW_OLDER:"Afiai mesaje mai vechi",MESSAGELIST_NEW_MARKER:"Nou",MESSAGE_SENT_VIA_EMAIL:"Acest mesaj a fost trimis prin e-mail",YOU_MARKER:"voi",UPLOAD_IN_PROGRESS:"ncrcarea...",UPLOAD_SEND_FILE:"Trimitei fiierul",UPLOAD_SHARE_LOCATION:"Distribuii locaia",UPLOAD_ERROR:"Sa ncrcat ceva n mod greit. Fiierul ar putea fi neacceptat sau prea mare.",SHARE_LOCATION_ERROR:"Nu se poate partaja locaia: ",LOADING:"ncrcare...",HUB_EMPTY:"Istoricul chat-ului dvs. va aprea aici",HUB_SHOW_EARLIER:"Afiai discuiile anterioare",INBOX_NO_CHATS_TITLE:"nc nu vorbeti!",INBOX_NO_CHATS_BODY:"Dup ce ai avut una sau mai multe conversaii, acestea vor aprea aici.",TRANSLATION_INDICATOR:"Tradus de $GOOGLE_LOGO",ENABLE_TRANSLATION:"Traducei aceast conversaie n romn",ENABLE_TRANSLATION_GENERIC:"Traducei aceast conversaie",DISABLE_TRANSLATION:"Arat originalul",SEARCH_PLACEHOLDER_TEXT:"Cutare...",SEARCH_SEARCHING:"Se caut...",SEARCH_NO_RESULTS:"Nu s-au gsit rezultate",SEARCH_NO_MORE_RESULTS:"Nu mai exist rezultate",CHAT_NOT_FOUND:"Conversaia nu a fost gsit",DELETE_MESSAGE:"terge mesajul",DELETION_EXPLANATION:"Dac tergi acest mesaj, acesta va disprea pentru toat lumea.",EDIT_MESSAGE:"Redacteaz mesajul",SAVE:"Salvare",EDITED_INDICATOR:"editat",REPLY_TO_MESSAGE:"Rspundei",ADD_REACTION:"Adaug o reacie",AUTH_EXPIRED_OVERLAY_TITLE:"Sesiunea dumneavoastr de chat a expirat",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Remprosptai pagina pentru a continua",VOICE_MESSAGE:"Mesaj vocal",CONTACT_INFORMATION_HIDDEN:"Informaii ascunse",LEAVE_CONVERSATION:"Prsete conversaia",MARK_CONVERSATION_AS_UNREAD:"Marcheaza ca necitit",ARIA_LEAVE_SEARCH_MODE:"Prsete modul de cutare",ARIA_SEARCH_UP:"Caut n sus",ARIA_SEARCH_DOWN:"Caut n jos",ARIA_CLOSE_CHAT_POPUP:"nchide fereastra de chat",ARIA_SEARCH_INSIDE_CONVERSATION:"Caut n aceast conversaie",ARIA_SEARCH:"Caut",ARIA_CHAT:"Chat",ARIA_SET_PLAYBACK_SPEED:"seteaz viteza de redare",ARIA_CANCEL_UPLOAD:"Anuleaz ncrcarea",ARIA_STOP_RECORDING:"Oprete nregistrarea",ARIA_CANCEL_RECORDING:"Anuleaz nregistrarea",ARIA_INSERT_EMOJI:"Insereaz un emoji",ARIA_PLAY_AUDIO:"red audio",ARIA_PAUSE_AUDIO:"pauz audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reacii cu $EMOJI",ARIA_MORE_ACTIONS:"Mai multe aciuni",ARIA_REPLYING_TO:"Rspuns la $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Prsete modul de rspuns"}}},function(e,t){e.exports={meta:{code:"ru-RU",name:"Russian"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:" ",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:"",DESKTOP_NOTIFICATIONS_ERROR:"  ,       .       .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME -",DESKTOP_NOTIFICATIONS_DEMO_BODY:"    ,       -   .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"   10  .",ENTRYBOX_PLACEHOLDER:" -...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"   .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"  ,    .",MESSAGELIST_LOADING_OLDER:"  ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"      ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:" ",UPLOAD_ERROR:"-   :        .",SHARE_LOCATION_ERROR:"   : ",LOADING:"...",HUB_EMPTY:"    ",HUB_SHOW_EARLIER:"  ",INBOX_NO_CHATS_TITLE:"  !",INBOX_NO_CHATS_BODY:"        ,   .",TRANSLATION_INDICATOR:" $GOOGLE_LOGO",ENABLE_TRANSLATION:"    ",ENABLE_TRANSLATION_GENERIC:"  ",DISABLE_TRANSLATION:"Show source",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"  ",CHAT_NOT_FOUND:"  ",DELETE_MESSAGE:" ",DELETION_EXPLANATION:"    ,    .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"     ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:" ,  ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:"  ",MARK_CONVERSATION_AS_UNREAD:"  ",ARIA_LEAVE_SEARCH_MODE:"   ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"  $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"   "}}},function(e,t){e.exports={meta:{code:"sq-AL",name:"Albanian"},values:{YESTERDAY:"Dje",TODAY:"Sot",DAYS:"d",HOURS:"o",MINUTES:"m",JUST_NOW:"Tani",LOCATION:"Pozicion",CANCEL:"Anulo",INBOX:"Inbox",DESKTOP_NOTIFICATIONS:"Njoftimet e shfletuesit",DESKTOP_NOTIFICATIONS_ERROR:"Nuk mund t aktivizohen njoftimet n shfletues sepse shfletuesi juaj i bllokon ato n mnyr aktive. Provoni t shikoni cilsimet ose prdorni nj shfletues t ndryshm.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME njoftime n desktop",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Lnia e skeds s shfletuesit tuaj t hapur do t pop-up kur dikush flet me ju.",SEND_BUTTON_TEXT:"Drgo",ENTRYBOX_TEXT_LIMIT:"Lejohen vetm 10,000 karaktere",ENTRYBOX_PLACEHOLDER:"Thuaj dika...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Kjo bised nuk sht m aktive.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Mund t lexoni por jo t drgoni mesazhe.",MESSAGELIST_LOADING_OLDER:"Duke ngarkuar mesazhe m t vjetra...",MESSAGELIST_SHOW_OLDER:"Trego mesazhe m t vjetra",MESSAGELIST_NEW_MARKER:"E ri",MESSAGE_SENT_VIA_EMAIL:"Ky mesazh  u drgua si email",YOU_MARKER:"ti",UPLOAD_IN_PROGRESS:"Ngarkim...",UPLOAD_SEND_FILE:"Drgo datotekn",UPLOAD_SHARE_LOCATION:"Ndani lokacionin",UPLOAD_ERROR:"Na vjen keq, dika nuk shkoi si duhet. Dosja mund t mos ket mbshtetje ose mund t jet shum e madhe.",SHARE_LOCATION_ERROR:"Nuk mund t ndahet lokacioni: ",LOADING:"Ngarkim...",HUB_EMPTY:"Ktu do t paraqitet/ shfaqet historia e biseds tuaj",HUB_SHOW_EARLIER:"Shfaqi bisedat e mparshme",INBOX_NO_CHATS_TITLE:"Nuk ka biseda!",INBOX_NO_CHATS_BODY:"Pasi t keni nj ose m shum biseda, ato do t paraqiten/shfaqen ktu.",TRANSLATION_INDICATOR:"Prkthyer nga $GOOGLE_LOGO",ENABLE_TRANSLATION:"Prkthejeni kt bised n shqiptare",ENABLE_TRANSLATION_GENERIC:"Prkthejeni kt bised",DISABLE_TRANSLATION:"Shikoni origjinalin",SEARCH_PLACEHOLDER_TEXT:"Krko...",SEARCH_SEARCHING:"Krko...",SEARCH_NO_RESULTS:"Nuk ka rezultate",SEARCH_NO_MORE_RESULTS:"Nuk ka m rezultate",CHAT_NOT_FOUND:"Biseda nuk u gjet",DELETE_MESSAGE:"Fshi mesazhin",DELETION_EXPLANATION:"Nse e fshini kt mesazh, ai do t zhduket pr t gjith.",EDIT_MESSAGE:"Redakto mesazhin",SAVE:"Ruaj",EDITED_INDICATOR:"redaktuar",REPLY_TO_MESSAGE:"Prgjigj",ADD_REACTION:"Shtoni reagimin",AUTH_EXPIRED_OVERLAY_TITLE:"Sesioni juaj i biseds ka skaduar",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Rifresko faqen pr t vazhduar",VOICE_MESSAGE:"Mesazh zanor",CONTACT_INFORMATION_HIDDEN:"informacione t fshehura",LEAVE_CONVERSATION:"Largohu nga bashkbisedimi",MARK_CONVERSATION_AS_UNREAD:"Shno si t palexuar",ARIA_LEAVE_SEARCH_MODE:"Dil nga mnyra e krkimit",ARIA_SEARCH_UP:"Krko lart",ARIA_SEARCH_DOWN:"Krko posht",ARIA_CLOSE_CHAT_POPUP:"Mbyll dritaren e biseds",ARIA_SEARCH_INSIDE_CONVERSATION:"Krko n kt bised",ARIA_SEARCH:"Krko",ARIA_CHAT:"Bised",ARIA_SET_PLAYBACK_SPEED:"vendos shpejtsin e luajtjes",ARIA_CANCEL_UPLOAD:"Anulo ngarkimin",ARIA_STOP_RECORDING:"Ndalo regjistrimin",ARIA_CANCEL_RECORDING:"Anulo regjistrimin",ARIA_INSERT_EMOJI:"Fut nj emoji",ARIA_PLAY_AUDIO:"luaj audio",ARIA_PAUSE_AUDIO:"pauz audio",ARIA_REACTION_COUNT:"$NUM_REACTIONS reagime me $EMOJI",ARIA_MORE_ACTIONS:"M shum veprime",ARIA_REPLYING_TO:"Duke u prgjigjur $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Dil nga mnyra e prgjigjes"}}},function(e,t){e.exports={meta:{code:"sr-SP",name:"Serbian"},values:{YESTERDAY:"Jue",TODAY:"Danas",DAYS:"d",HOURS:"s",MINUTES:"m",JUST_NOW:"Upravo sad",LOCATION:"Lokacija",CANCEL:"Otkai",INBOX:"Pretinac",DESKTOP_NOTIFICATIONS:"Browser Notifikacija",DESKTOP_NOTIFICATIONS_ERROR:"Browser notifikacije nisu omoguene jer ih va pregleda aktivno blokira. Pokuajte pogledati postavke ili koristiti neki drugi pregleda.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikacija",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ako karticu pregledaa ostavite otvorenu, pojavie se ovaj pop-up kada neko razgovara s vama.",SEND_BUTTON_TEXT:"Poalji",ENTRYBOX_TEXT_LIMIT:"Dozvoljeno je samo 10.000 znakova.",ENTRYBOX_PLACEHOLDER:"Kai neto...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Ovaj razgovor vie nije aktivan.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Moete da itate, ali ne i da aljete poruke.",MESSAGELIST_LOADING_OLDER:"Uitavam starije poruke...",MESSAGELIST_SHOW_OLDER:"Prikai starije poruke",MESSAGELIST_NEW_MARKER:"Novo",MESSAGE_SENT_VIA_EMAIL:"Ova poruka je poslana imejlom",YOU_MARKER:"ti",UPLOAD_IN_PROGRESS:"Uitavam...",UPLOAD_SEND_FILE:"Poalji datoteku",UPLOAD_SHARE_LOCATION:"Podeli lokaciju",UPLOAD_ERROR:"Naalost, neto je polo krivo. Datoteka moda nije podrana ili je prevelika.",SHARE_LOCATION_ERROR:"Nije mogue podeliti lokaciju: ",LOADING:"Uitavam...",HUB_EMPTY:"Ovde ce biti prikazana istorija razgovora",HUB_SHOW_EARLIER:"Prikai ranije razgovore",INBOX_NO_CHATS_TITLE:"Nema razgovora!",INBOX_NO_CHATS_BODY:"Nakon to vodite jedan ili vie razgovora, oni e se pojaviti ovde.",TRANSLATION_INDICATOR:"Prevedeno pomou $GOOGLE_LOGO",ENABLE_TRANSLATION:"Prevedi ovaj razgovor na srpski jezik",ENABLE_TRANSLATION_GENERIC:"Prevedi ovaj razgovor",DISABLE_TRANSLATION:"Prikai original",SEARCH_PLACEHOLDER_TEXT:"Pretrai...",SEARCH_SEARCHING:"Pretraivanje...",SEARCH_NO_RESULTS:"Nema rezultata",SEARCH_NO_MORE_RESULTS:"Nema vie rezultata",CHAT_NOT_FOUND:"askanje nije pronaeno",DELETE_MESSAGE:"Izbrii poruk",DELETION_EXPLANATION:"Ako obriete ovu poruku, ona nee biti vidljiva ni za koga.",EDIT_MESSAGE:"Ispravi poruku",SAVE:"Sauvaj",EDITED_INDICATOR:"ispravljeno",REPLY_TO_MESSAGE:"Odgovorite",ADD_REACTION:"Dodaj reakciju",AUTH_EXPIRED_OVERLAY_TITLE:"Vaa sesija caskanja je istekla",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Osveite stranicu da biste nastavili",VOICE_MESSAGE:"Glasovna poruka",CONTACT_INFORMATION_HIDDEN:"Sakrivene informacije",LEAVE_CONVERSATION:"Napusti razgovor",MARK_CONVERSATION_AS_UNREAD:"  ",ARIA_LEAVE_SEARCH_MODE:"  ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"  $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"   "}}},function(e,t){e.exports={meta:{code:"sv-SE",name:"Swedish (Sweden)"},values:{YESTERDAY:"Igr",TODAY:"Idag",DAYS:"d",HOURS:"h",MINUTES:"m",JUST_NOW:"just nu",LOCATION:"Plats",CANCEL:"Avbryt",INBOX:"Inkorg",DESKTOP_NOTIFICATIONS:"Webblsarnotiser",DESKTOP_NOTIFICATIONS_ERROR:"Kan inte aktivera webblsarnotiser eftersom din webblsare aktivt blockerar dem. Se ver instllningarna eller anvnd en annan webblsare.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demonotis",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Om du har fliken i webblsaren ppen s kommer den hr notisen visas nr ngon pratar med dig.",SEND_BUTTON_TEXT:"Skicka",ENTRYBOX_TEXT_LIMIT:"Max 10 000 tecken r tilltet.",ENTRYBOX_PLACEHOLDER:"Skriv ett meddelande...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Den hr konversationen r inte lngre aktiv.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Du kan lsa men inte skicka meddelanden.",MESSAGELIST_LOADING_OLDER:"Lser in tidigare meddelanden...",MESSAGELIST_SHOW_OLDER:"Visa tidigare meddelanden",MESSAGELIST_NEW_MARKER:"Nytt",MESSAGE_SENT_VIA_EMAIL:"Detta meddelande skickades via e-post",YOU_MARKER:"du",UPLOAD_IN_PROGRESS:"Laddar upp...",UPLOAD_SEND_FILE:"Skicka fil",UPLOAD_SHARE_LOCATION:"Dela plats",UPLOAD_ERROR:"Ngot gick fel vid uppladdningen. Filen kan vara av en typ som inte stds eller r fr stor.",SHARE_LOCATION_ERROR:"Kan inte dela plats: ",LOADING:"Laddar...",HUB_EMPTY:"Din chatthistorik kommer att visas hr",HUB_SHOW_EARLIER:"Visa tidigare chattar",INBOX_NO_CHATS_TITLE:"Inga chattar nnu!",INBOX_NO_CHATS_BODY:"Nr du har haft en eller flera konversationer kommer de att visas hr.",TRANSLATION_INDICATOR:"versatt av $GOOGLE_LOGO",ENABLE_TRANSLATION:"verstt den hr konversationen till svenska",ENABLE_TRANSLATION_GENERIC:"verstt den hr konversationen",DISABLE_TRANSLATION:"Visa original",SEARCH_PLACEHOLDER_TEXT:"Sk...",SEARCH_SEARCHING:"Sker...",SEARCH_NO_RESULTS:"Inga resultat hittades",SEARCH_NO_MORE_RESULTS:"Inga fler resultat",CHAT_NOT_FOUND:"Chatten hittades inte",DELETE_MESSAGE:"Radera meddelandet",DELETION_EXPLANATION:"Om du raderar det hr meddelandet frsvinner det fr alla.",EDIT_MESSAGE:"Redigera meddelandet",SAVE:"Spara",EDITED_INDICATOR:"redigerad",REPLY_TO_MESSAGE:"Svara",ADD_REACTION:"Lgg till reaktion",AUTH_EXPIRED_OVERLAY_TITLE:"Din chatsession har gtt ut",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Uppdatera sidan fr att fortstta",VOICE_MESSAGE:"Rstmeddelande",CONTACT_INFORMATION_HIDDEN:"Dold information",LEAVE_CONVERSATION:"Lmna konversationen",MARK_CONVERSATION_AS_UNREAD:"Markera som olst",STATUS_INDICATOR_ONLINE:"Online",STATUS_INDICATOR_OFFLINE:"Offline",ARIA_LEAVE_SEARCH_MODE:"Avsluta sklge",ARIA_SEARCH_UP:"Sk uppt",ARIA_SEARCH_DOWN:"Sk nedt",ARIA_CLOSE_CHAT_POPUP:"Stng chattfnstret",ARIA_SEARCH_INSIDE_CONVERSATION:"Sk i denna konversation",ARIA_SEARCH:"Sk",ARIA_CHAT:"Chatt",ARIA_SET_PLAYBACK_SPEED:"Stll in uppspelningshastighet",ARIA_CANCEL_UPLOAD:"Avbryt uppladdning",ARIA_STOP_RECORDING:"Stoppa inspelning",ARIA_CANCEL_RECORDING:"Avbryt inspelning",ARIA_INSERT_EMOJI:"Infoga en emoji",ARIA_PLAY_AUDIO:"Spela upp ljud",ARIA_PAUSE_AUDIO:"Pausa ljud",ARIA_REACTION_COUNT:"$NUM_REACTIONS Reaktioner med $EMOJI",ARIA_MORE_ACTIONS:"Fler tgrder",ARIA_REPLYING_TO:"Svarar p $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Avsluta svarslge"}}},function(e,t){e.exports={meta:{code:"tr-TR",name:"Turkish"},values:{YESTERDAY:"Dn",TODAY:"Bugn",DAYS:"g",HOURS:"s",MINUTES:"d",JUST_NOW:"az nce",LOCATION:"Konum",CANCEL:"ptal",INBOX:"Gelen Kutusu",SEND_BUTTON_TEXT:"Gnder",ENTRYBOX_TEXT_LIMIT:"En fazla 10.000 karaktere izin veriliyor.",ENTRYBOX_PLACEHOLDER:"Bir eyler syle...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Bu konuma artk aktif deil.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Mesajlar okuyabilirsiniz ancak mesaj gnderemezsiniz.",MESSAGELIST_LOADING_OLDER:"Eski mesajlar ykleniyor...",MESSAGELIST_SHOW_OLDER:"Eski mesajlar gster",MESSAGELIST_NEW_MARKER:"Yeni",DESKTOP_NOTIFICATIONS:"Tarayc bildirimleri",DESKTOP_NOTIFICATIONS_ERROR:"Taraycnz aktif olarak engellediinden tarayc bildirimlerini etkinletiremiyoruz. Ayarlar kontrol etmeyi veya farkl bir tarayc kullanmay deneyebilirsiniz.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME test bildirimi",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Eer taraycnzn penceresini ak tutarsanz biri mesaj yazdnda bu bildirimi greceksiniz.",MESSAGE_SENT_VIA_EMAIL:"Bu mesaj e-posta ile gnderilmitir.",YOU_MARKER:"siz",UPLOAD_IN_PROGRESS:"Ykleniyor...",UPLOAD_SEND_FILE:"Dosya gnder",UPLOAD_SHARE_LOCATION:"Konum payla",UPLOAD_ERROR:"Ykleme srasnda bir eyler yanl gitti. Dosya desteklenmiyor veya izin verilenden byk olabilir.",SHARE_LOCATION_ERROR:"Konum paylalamad: ",LOADING:"Ykleniyor...",HUB_EMPTY:"Konuma gemiiniz burada grnecek",HUB_SHOW_EARLIER:"nceki konumalar gster",INBOX_NO_CHATS_TITLE:"Henz konuma yok!",INBOX_NO_CHATS_BODY:"Bir veya daha fazla konuma balattnz konumalar burada belirecek.",TRANSLATION_INDICATOR:"eviren $GOOGLE_LOGO",ENABLE_TRANSLATION:"Bu konumay Trke'ye evir",ENABLE_TRANSLATION_GENERIC:"Bu konumay evir",DISABLE_TRANSLATION:"Orijinali gster",SEARCH_PLACEHOLDER_TEXT:"Ara...",SEARCH_SEARCHING:"Aryor...",SEARCH_NO_RESULTS:"Sonu bulunamad",SEARCH_NO_MORE_RESULTS:"Baka sonu bulunamad.",CHAT_NOT_FOUND:"Sohbet bulunamad",DELETE_MESSAGE:"Mesaj sil",DELETION_EXPLANATION:"Bu mesaj silerseniz herkes iin grnmez olacaktr.",EDIT_MESSAGE:"Mesaj dzenle",SAVE:"Kaydet",EDITED_INDICATOR:"dzenlenmi",REPLY_TO_MESSAGE:"Yantla",ADD_REACTION:"Tepki ekle",AUTH_EXPIRED_OVERLAY_TITLE:"Sohbet oturumunuz sona erdi",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Devam etmek iin sayfay yenileyin",VOICE_MESSAGE:"Sesli mesaj",CONTACT_INFORMATION_HIDDEN:"Gizli bilgi",LEAVE_CONVERSATION:"Konumadan ayrl",MARK_CONVERSATION_AS_UNREAD:"Okunmam olarak iaretle",ARIA_LEAVE_SEARCH_MODE:"Arama modundan k",ARIA_SEARCH_UP:"Yukar ara",ARIA_SEARCH_DOWN:"Aa ara",ARIA_CLOSE_CHAT_POPUP:"Sohbet penceresini kapat",ARIA_SEARCH_INSIDE_CONVERSATION:"Bu konumada ara",ARIA_SEARCH:"Ara",ARIA_CHAT:"Sohbet",ARIA_SET_PLAYBACK_SPEED:"oynatma hzn ayarla",ARIA_CANCEL_UPLOAD:"Yklemeyi iptal et",ARIA_STOP_RECORDING:"Kayd durdur",ARIA_CANCEL_RECORDING:"Kayd iptal et",ARIA_INSERT_EMOJI:"Emoji ekle",ARIA_PLAY_AUDIO:"sesi oynat",ARIA_PAUSE_AUDIO:"sesi duraklat",ARIA_REACTION_COUNT:"$NUM_REACTIONS tepki ($EMOJI)",ARIA_MORE_ACTIONS:"Daha fazla ilem",ARIA_REPLYING_TO:"$SENDER_NAME'a yantlama: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Yant modundan k"}}},function(e,t){e.exports={meta:{code:"uk-UA",name:"Ukrainian (Ukraine)"},values:{YESTERDAY:"",TODAY:"",DAYS:"d",HOURS:"h",MINUTES:"",JUST_NOW:" ",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:"  ",DESKTOP_NOTIFICATIONS_ERROR:"    ,   -   .       .",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"-  $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"    - ,     ,     .",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"  10 000 .",ENTRYBOX_PLACEHOLDER:" ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"    .",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"  ,    .",MESSAGELIST_LOADING_OLDER:"  ...",MESSAGELIST_SHOW_OLDER:"  ",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"    ",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:" ",UPLOAD_SHARE_LOCATION:" ",UPLOAD_ERROR:" ,      .       .",SHARE_LOCATION_ERROR:"  : ",LOADING:"...",HUB_EMPTY:"    ",HUB_SHOW_EARLIER:"  ",INBOX_NO_CHATS_TITLE:"  !",INBOX_NO_CHATS_BODY:" ,       ,   .",TRANSLATION_INDICATOR:" $GOOGLE_LOGO",ENABLE_TRANSLATION:"    ",ENABLE_TRANSLATION_GENERIC:"  ",DISABLE_TRANSLATION:" ",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"  ",SEARCH_NO_MORE_RESULTS:"  ",CHAT_NOT_FOUND:"  ",DELETE_MESSAGE:" ",DELETION_EXPLANATION:"    ,    .",EDIT_MESSAGE:" ",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:" ",AUTH_EXPIRED_OVERLAY_TITLE:"    ",AUTH_EXPIRED_OVERLAY_DESCRIPTION:" ,  ",VOICE_MESSAGE:" ",CONTACT_INFORMATION_HIDDEN:" ",LEAVE_CONVERSATION:" ",MARK_CONVERSATION_AS_UNREAD:"  ",ARIA_LEAVE_SEARCH_MODE:"   ",ARIA_SEARCH_UP:" ",ARIA_SEARCH_DOWN:" ",ARIA_CLOSE_CHAT_POPUP:"  ",ARIA_SEARCH_INSIDE_CONVERSATION:"   ",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"  ",ARIA_CANCEL_UPLOAD:" ",ARIA_STOP_RECORDING:" ",ARIA_CANCEL_RECORDING:" ",ARIA_INSERT_EMOJI:" ",ARIA_PLAY_AUDIO:" ",ARIA_PAUSE_AUDIO:" ",ARIA_REACTION_COUNT:"$NUM_REACTIONS   $EMOJI",ARIA_MORE_ACTIONS:" ",ARIA_REPLYING_TO:"  $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"   "}}},function(e,t){e.exports={meta:{code:"vi-VN",name:"Vietnamese"},values:{YESTERDAY:"Hm qua",TODAY:"Hm nay",DAYS:"ngy",HOURS:"gi",MINUTES:"pht",JUST_NOW:"va xong",LOCATION:"a im",CANCEL:"Hy",INBOX:"Hp th n",DESKTOP_NOTIFICATIONS:"Thng bo trnh duyt",DESKTOP_NOTIFICATIONS_ERROR:"Khng th bt thng bo trn trnh duyt v trnh duyt ca bn ang tt chc nng ny. Hy th tm trong ci t trnh duyt hoc s dng mt trnh duyt khc.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME thng bo th nghim",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Nu bn gi tab trnh duyt ca bn m, bn s thy ca s bt ln khi ai  ni chuyn vi bn.",SEND_BUTTON_TEXT:"Gi",ENTRYBOX_TEXT_LIMIT:"Ti a 10.000 k t.",ENTRYBOX_PLACEHOLDER:"Ni g ...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"Cuc hi thoi ny khng cn hot ng.",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"Bn c th c, nhng khng th gi tin nhn.",MESSAGELIST_LOADING_OLDER:"ang ti tin nhn c...",MESSAGELIST_SHOW_OLDER:"Hin th tin nhn trc ",MESSAGELIST_NEW_MARKER:"Mi",MESSAGE_SENT_VIA_EMAIL:"Tin nhn ny  c gi qua email",YOU_MARKER:"bn",UPLOAD_IN_PROGRESS:"ang ti ln...",UPLOAD_SEND_FILE:"Gi tp",UPLOAD_SHARE_LOCATION:"Chia s v tr",UPLOAD_ERROR:"Tht khng may, qu trnh ti ln khng thnh cng. Tp khng c h tr hoc qu ln.",SHARE_LOCATION_ERROR:"Khng th chia s v tr: ",LOADING:"ang ti...",HUB_EMPTY:"Lch s tr chuyn ca bn s hin th  y",HUB_SHOW_EARLIER:"Hin th cc cuc tr chuyn trc ",INBOX_NO_CHATS_TITLE:"Cha c cuc tr chuyn no!",INBOX_NO_CHATS_BODY:"Khi bn  c mt hoc nhiu cuc tr chuyn, chng s hin th  y.",TRANSLATION_INDICATOR:"Dch bi $GOOGLE_LOGO",ENABLE_TRANSLATION:"Dch cuc hi thoi sang Ting Vit",ENABLE_TRANSLATION_GENERIC:"Dch cuc hi thoi",DISABLE_TRANSLATION:"Hin th ni dung gc",SEARCH_PLACEHOLDER_TEXT:"Tm kim...",SEARCH_SEARCHING:"ang tm kim...",SEARCH_NO_RESULTS:"Khng tm thy kt qu no",SEARCH_NO_MORE_RESULTS:"Khng c kt qu no khc",CHAT_NOT_FOUND:"Khng tm thy cuc tr chuyn",DELETE_MESSAGE:"Xa tin nhn",DELETION_EXPLANATION:"Nu bn xa tin nhn ny, tt c mi ngi s khng cn thy n.",EDIT_MESSAGE:"Chnh sa tin nhn",SAVE:"lu",EDITED_INDICATOR:" chnh sa",REPLY_TO_MESSAGE:"p li",ADD_REACTION:"Thm biu tng cm xc",AUTH_EXPIRED_OVERLAY_TITLE:"Phin tr chuyn ca bn  ht hn",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"Hy lm mi trang  tip tc",VOICE_MESSAGE:"Tin nhn thoi",CONTACT_INFORMATION_HIDDEN:"Thng tin n",LEAVE_CONVERSATION:"Thot khi cuc tr chuyn",MARK_CONVERSATION_AS_UNREAD:"nh du l cha c",ARIA_LEAVE_SEARCH_MODE:"Thot ch  tm kim",ARIA_SEARCH_UP:"Tm kim ln trn",ARIA_SEARCH_DOWN:"Tm kim xung di",ARIA_CLOSE_CHAT_POPUP:"ng ca s tr chuyn",ARIA_SEARCH_INSIDE_CONVERSATION:"Tm kim trong cuc tr chuyn ny",ARIA_SEARCH:"Tm kim",ARIA_CHAT:"Tr chuyn",ARIA_SET_PLAYBACK_SPEED:"t tc  pht",ARIA_CANCEL_UPLOAD:"Hy ti ln",ARIA_STOP_RECORDING:"Dng ghi m",ARIA_CANCEL_RECORDING:"Hy ghi m",ARIA_INSERT_EMOJI:"Chn biu tng cm xc",ARIA_PLAY_AUDIO:"pht m thanh",ARIA_PAUSE_AUDIO:"tm dng m thanh",ARIA_REACTION_COUNT:"$NUM_REACTIONS phn ng vi $EMOJI",ARIA_MORE_ACTIONS:"Thm hnh ng",ARIA_REPLYING_TO:"ang tr li $SENDER_NAME: $CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:"Thot ch  tr li"}}},function(e,t){e.exports={meta:{code:"zh-CN",name:"Chinese (Simplified)"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:"",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:"",DESKTOP_NOTIFICATIONS_ERROR:"",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"10,000",ENTRYBOX_PLACEHOLDER:"",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"",MESSAGELIST_LOADING_OLDER:"",MESSAGELIST_SHOW_OLDER:"",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"",UPLOAD_SEND_FILE:"",UPLOAD_SHARE_LOCATION:"",UPLOAD_ERROR:"",SHARE_LOCATION_ERROR:": ",LOADING:"",HUB_EMPTY:"",HUB_SHOW_EARLIER:"",INBOX_NO_CHATS_TITLE:"",INBOX_NO_CHATS_BODY:"",TRANSLATION_INDICATOR:"$GOOGLE_LOGO",ENABLE_TRANSLATION:"",ENABLE_TRANSLATION_GENERIC:"",DISABLE_TRANSLATION:"",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"",SEARCH_NO_MORE_RESULTS:"",CHAT_NOT_FOUND:"",DELETE_MESSAGE:"",DELETION_EXPLANATION:"",EDIT_MESSAGE:"",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:"",AUTH_EXPIRED_OVERLAY_TITLE:"",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"",VOICE_MESSAGE:"",CONTACT_INFORMATION_HIDDEN:"",LEAVE_CONVERSATION:"",MARK_CONVERSATION_AS_UNREAD:"",ARIA_LEAVE_SEARCH_MODE:"",ARIA_SEARCH_UP:"",ARIA_SEARCH_DOWN:"",ARIA_CLOSE_CHAT_POPUP:"",ARIA_SEARCH_INSIDE_CONVERSATION:"",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"",ARIA_CANCEL_UPLOAD:"",ARIA_STOP_RECORDING:"",ARIA_CANCEL_RECORDING:"",ARIA_INSERT_EMOJI:"",ARIA_PLAY_AUDIO:"",ARIA_PAUSE_AUDIO:"",ARIA_REACTION_COUNT:"$NUM_REACTIONS$EMOJI",ARIA_MORE_ACTIONS:"",ARIA_REPLYING_TO:" $SENDER_NAME$CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:""}}},function(e,t){e.exports={meta:{code:"zh-TW",name:"Chinese (Traditional)"},values:{YESTERDAY:"",TODAY:"",DAYS:"",HOURS:"",MINUTES:"",JUST_NOW:"",LOCATION:"",CANCEL:"",INBOX:"",DESKTOP_NOTIFICATIONS:"",DESKTOP_NOTIFICATIONS_ERROR:" ",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME ",DESKTOP_NOTIFICATIONS_DEMO_BODY:"",SEND_BUTTON_TEXT:"",ENTRYBOX_TEXT_LIMIT:"10.000",ENTRYBOX_PLACEHOLDER:"...",ENTRYBOX_PLACEHOLDER_CHAT_CLOSED:"",ENTRYBOX_PLACEHOLDER_CHAT_READONLY:"",MESSAGELIST_LOADING_OLDER:"...",MESSAGELIST_SHOW_OLDER:"",MESSAGELIST_NEW_MARKER:"",MESSAGE_SENT_VIA_EMAIL:"",YOU_MARKER:"",UPLOAD_IN_PROGRESS:"...",UPLOAD_SEND_FILE:"",UPLOAD_SHARE_LOCATION:"",UPLOAD_ERROR:" ",SHARE_LOCATION_ERROR:"",LOADING:"...",HUB_EMPTY:"",HUB_SHOW_EARLIER:"",INBOX_NO_CHATS_TITLE:"",INBOX_NO_CHATS_BODY:"",TRANSLATION_INDICATOR:"$GOOGLE_LOGO",ENABLE_TRANSLATION:"",ENABLE_TRANSLATION_GENERIC:"",DISABLE_TRANSLATION:"",SEARCH_PLACEHOLDER_TEXT:"...",SEARCH_SEARCHING:"...",SEARCH_NO_RESULTS:"",SEARCH_NO_MORE_RESULTS:"",CHAT_NOT_FOUND:"",DELETE_MESSAGE:"",DELETION_EXPLANATION:"",EDIT_MESSAGE:"",SAVE:"",EDITED_INDICATOR:"",REPLY_TO_MESSAGE:"",ADD_REACTION:"",AUTH_EXPIRED_OVERLAY_TITLE:"",AUTH_EXPIRED_OVERLAY_DESCRIPTION:"",VOICE_MESSAGE:"",CONTACT_INFORMATION_HIDDEN:"",LEAVE_CONVERSATION:"",MARK_CONVERSATION_AS_UNREAD:"",ARIA_LEAVE_SEARCH_MODE:"",ARIA_SEARCH_UP:"",ARIA_SEARCH_DOWN:"",ARIA_CLOSE_CHAT_POPUP:"",ARIA_SEARCH_INSIDE_CONVERSATION:"",ARIA_SEARCH:"",ARIA_CHAT:"",ARIA_SET_PLAYBACK_SPEED:"",ARIA_CANCEL_UPLOAD:"",ARIA_STOP_RECORDING:"",ARIA_CANCEL_RECORDING:"",ARIA_INSERT_EMOJI:"",ARIA_PLAY_AUDIO:"",ARIA_PAUSE_AUDIO:"",ARIA_REACTION_COUNT:"$NUM_REACTIONS$EMOJI",ARIA_MORE_ACTIONS:"",ARIA_REPLYING_TO:" $SENDER_NAME$CONTENT",REPLY_MODE_LEAVE_ARIA_LABEL:""}}},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(100),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function A(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}function y(){}function O(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(E(85));this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=A.prototype;var S=O.prototype=new y;S.constructor=O,r(S,A.prototype),S.isPureReactComponent=!0;var b={current:null},D=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)D.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:b.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g,N=[];function w(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function k(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function x(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+M(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+M(i=e[u],u);a+=x(i,c,n,r)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)a+=x(i=i.value,c=t+M(i,u++),n,r);else if("object"===i)throw n=""+e,Error(E(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function L(e,t,n){return null==e?0:x(e,"",t,n)}function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function P(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),L(e,F,t=w(t,o,r,i)),k(t)}var B={current:null};function U(){var e=B.current;if(null===e)throw Error(E(321));return e}var H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,P,t=w(null,null,t,n)),k(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!R(e))throw Error(E(143));return e}},t.Component=A,t.Fragment=a,t.Profiler=c,t.PureComponent=O,t.StrictMode=u,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null==e)throw Error(E(267,e));var i=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=b.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)D.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},function(e,t,n){},function(e,t){var n,r=window.crypto||window.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},function(e,t,n){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!E(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])m(u)||!A(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return E(i)||(i=l(e,i,r)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(E(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(y(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return h(n)}var c,A="",b=!1,D=["{","}"];(f(n)&&(b=!0,D=["[","]"]),S(n))&&(A=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(A=" "+RegExp.prototype.toString.call(n)),y(n)&&(A=" "+Date.prototype.toUTCString.call(n)),O(n)&&(A=" "+h(n)),0!==s.length||b&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=b?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)R(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return d(e,n,r,a,t,b)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,A,D)):D[0]+A+D[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function E(e){return"string"==typeof e}function _(e){return void 0===e}function v(e){return A(e)&&"[object RegExp]"===b(e)}function A(e){return"object"==typeof e&&null!==e}function y(e){return A(e)&&"[object Date]"===b(e)}function O(e){return A(e)&&("[object Error]"===b(e)||e instanceof Error)}function S(e){return"function"==typeof e}function b(e){return Object.prototype.toString.call(e)}function D(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(_(o)&&(o=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=process.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=E,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=v,t.isObject=A,t.isDate=y,t.isError=O,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(207);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(208),t._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){var t;if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=I,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return r.apply(i,arguments)};e.apply(this,t).then((function(e){process.nextTick(o,null,e)}),(function(e){process.nextTick(N,e,o)}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}E(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&E(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function E(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){},function(e,t,n){e.exports=n.p+"5461191341cea882b3f227c085d5772c.gif"},function(e,t,n){},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,E=r?Symbol.for("react.lazy"):60116,_=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,A=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case s:case u:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case f:case E:case g:case c:return e;default:return t}}case o:return t}}}function S(e){return O(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=s,t.Lazy=E,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||O(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return O(e)===f},t.isFragment=function(e){return O(e)===s},t.isLazy=function(e){return O(e)===E},t.isMemo=function(e){return O(e)===g},t.isPortal=function(e){return O(e)===o},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===a},t.isSuspense=function(e){return O(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===u||e===a||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===E||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===v||e.$$typeof===A||e.$$typeof===y||e.$$typeof===_)},t.typeOf=O},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(100),o=n(215);function s(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);s(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function u(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}r||a("227");var c=!1,l=null,h=!1,d=null,f={onError:function(e){c=!0,l=e}};function p(e,t,n,r,i,o,s,a,h){c=!1,l=null,u.apply(f,arguments)}var m=null,g={};function E(){if(m)for(var e in g){var t=g[e],n=m.indexOf(e);if(-1<n||a("96",e),!v[n])for(var r in t.extractEvents||a("97",e),v[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;A.hasOwnProperty(u)&&a("99",u),A[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&_(c[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;i||a("98",r,e)}}}function _(e,t,n){y[e]&&a("100",e),y[e]=t,O[e]=t.eventTypes[n].dependencies}var v=[],A={},y={},O={},S=null,b=null,D=null;function T(e,t,n){var r=e.type||"unknown-event";e.currentTarget=D(n),function(e,t,n,r,i,o,s,u,f){if(p.apply(this,arguments),c){if(c){var m=l;c=!1,l=null}else a("198"),m=void 0;h||(h=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function R(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var I=null;function N(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)T(e,t[r],n[r]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var w={injectEventPluginOrder:function(e){m&&a("101"),m=Array.prototype.slice.call(e),E()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];g.hasOwnProperty(t)&&g[t]===r||(g[t]&&a("102",t),g[t]=r,n=!0)}n&&E()}};function k(e,t){var n=e.stateNode;if(!n)return null;var r=S(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function x(e){if(null!==e&&(I=C(I,e)),e=I,I=null,e&&(R(e,N),I&&a("95"),h))throw e=d,h=!1,d=null,e}var L=Math.random().toString(36).slice(2),M="__reactInternalInstance$"+L,P="__reactEventHandlers$"+L;function F(e){if(e[M])return e[M];for(;!e[M];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[M]).tag||6===e.tag?e:null}function j(e){return!(e=e[M])||5!==e.tag&&6!==e.tag?null:e}function B(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function U(e){return e[P]||null}function H(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function z(e,t,n){(t=k(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function V(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=H(t);for(t=n.length;0<t--;)z(n[t],"captured",e);for(t=0;t<n.length;t++)z(n[t],"bubbled",e)}}function G(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=k(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function $(e){e&&e.dispatchConfig.registrationName&&G(e._targetInst,null,e)}function Y(e){R(e,V)}var W=!("undefined"==typeof window||!window.document||!window.document.createElement);function K(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var q={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},X={},J={};function Z(e){if(X[e])return X[e];if(!q[e])return e;var t,n=q[e];for(t in n)if(n.hasOwnProperty(t)&&t in J)return X[e]=n[t];return e}W&&(J=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);var Q=Z("animationend"),ee=Z("animationiteration"),te=Z("animationstart"),ne=Z("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,oe=null,se=null;function ae(){if(se)return se;var e,t,n=oe,r=n.length,i="value"in ie?ie.value:ie.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return se=i.slice(e,1<t?1-t:void 0)}function ue(){return!0}function ce(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ue:ce,this.isPropagationStopped=ce,this}function he(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function de(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=he,e.release=de}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ue)},persist:function(){this.isPersistent=ue},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(le);var pe=le.extend({data:null}),me=le.extend({data:null}),ge=[9,13,27,32],Ee=W&&"CompositionEvent"in window,_e=null;W&&"documentMode"in document&&(_e=document.documentMode);var ve=W&&"TextEvent"in window&&!_e,Ae=W&&(!Ee||_e&&8<_e&&11>=_e),ye=String.fromCharCode(32),Oe={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Se=!1;function be(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function De(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Te=!1;var Ce={eventTypes:Oe,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Ee)e:{switch(e){case"compositionstart":i=Oe.compositionStart;break e;case"compositionend":i=Oe.compositionEnd;break e;case"compositionupdate":i=Oe.compositionUpdate;break e}i=void 0}else Te?be(e,n)&&(i=Oe.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Oe.compositionStart);return i?(Ae&&"ko"!==n.locale&&(Te||i!==Oe.compositionStart?i===Oe.compositionEnd&&Te&&(o=ae()):(oe="value"in(ie=r)?ie.value:ie.textContent,Te=!0)),i=pe.getPooled(i,t,n,r),o?i.data=o:null!==(o=De(n))&&(i.data=o),Y(i),o=i):o=null,(e=ve?function(e,t){switch(e){case"compositionend":return De(t);case"keypress":return 32!==t.which?null:(Se=!0,ye);case"textInput":return(e=t.data)===ye&&Se?null:e;default:return null}}(e,n):function(e,t){if(Te)return"compositionend"===e||!Ee&&be(e,t)?(e=ae(),se=oe=ie=null,Te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ae&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(Oe.beforeInput,t,n,r)).data=e,Y(t)):t=null,null===o?t:null===t?o:[o,t]}},Re=null,Ie=null,Ne=null;function we(e){if(e=b(e)){"function"!=typeof Re&&a("280");var t=S(e.stateNode);Re(e.stateNode,e.type,t)}}function ke(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function xe(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Le(e,t){return e(t)}function Me(e,t,n){return e(t,n)}function Pe(){}var Fe=!1;function je(e,t){if(Fe)return e(t);Fe=!0;try{return Le(e,t)}finally{Fe=!1,(null!==Ie||null!==Ne)&&(Pe(),xe())}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Be[e.type]:"textarea"===t}function He(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ze(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ge(e){e._valueTracker||(e._valueTracker=function(e){var t=Ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ve(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ye=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ye.hasOwnProperty("ReactCurrentDispatcher")||(Ye.ReactCurrentDispatcher={current:null});var We=/^(.*)[\\\/]/,Ke="function"==typeof Symbol&&Symbol.for,qe=Ke?Symbol.for("react.element"):60103,Xe=Ke?Symbol.for("react.portal"):60106,Je=Ke?Symbol.for("react.fragment"):60107,Ze=Ke?Symbol.for("react.strict_mode"):60108,Qe=Ke?Symbol.for("react.profiler"):60114,et=Ke?Symbol.for("react.provider"):60109,tt=Ke?Symbol.for("react.context"):60110,nt=Ke?Symbol.for("react.concurrent_mode"):60111,rt=Ke?Symbol.for("react.forward_ref"):60112,it=Ke?Symbol.for("react.suspense"):60113,ot=Ke?Symbol.for("react.memo"):60115,st=Ke?Symbol.for("react.lazy"):60116,at="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case Je:return"Fragment";case Xe:return"Portal";case Qe:return"Profiler";case Ze:return"StrictMode";case it:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ct(e.type);case st:if(e=1===e._status?e._result:null)return ct(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ct(e.type);n=null,r&&(n=ct(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(We,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,ft={},pt={};function mt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){gt[e]=new mt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];gt[t]=new mt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){gt[e]=new mt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){gt[e]=new mt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){gt[e]=new mt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){gt[e]=new mt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){gt[e]=new mt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){gt[e]=new mt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){gt[e]=new mt(e,5,!1,e.toLowerCase(),null)}));var Et=/[\-:]([a-z])/g;function _t(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!dt.call(pt,e)||!dt.call(ft,e)&&(ht.test(e)?pt[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function At(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function yt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ot(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=At(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function St(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function bt(e,t){St(e,t);var n=At(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Tt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tt(e,t.type,At(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Dt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Tt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Et,_t);gt[t]=new mt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Et,_t);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Et,_t);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){gt[e]=new mt(e,1,!1,e.toLowerCase(),null)}));var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rt(e,t,n){return(e=le.getPooled(Ct.change,e,t,n)).type="change",ke(n),Y(e),e}var It=null,Nt=null;function wt(e){x(e)}function kt(e){if($e(B(e)))return e}function xt(e,t){if("change"===e)return t}var Lt=!1;function Mt(){It&&(It.detachEvent("onpropertychange",Pt),Nt=It=null)}function Pt(e){"value"===e.propertyName&&kt(Nt)&&je(wt,e=Rt(Nt,e,He(e)))}function Ft(e,t,n){"focus"===e?(Mt(),Nt=n,(It=t).attachEvent("onpropertychange",Pt)):"blur"===e&&Mt()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return kt(Nt)}function Bt(e,t){if("click"===e)return kt(t)}function Ut(e,t){if("input"===e||"change"===e)return kt(t)}W&&(Lt=ze("input")&&(!document.documentMode||9<document.documentMode));var Ht={eventTypes:Ct,_isInputEventSupported:Lt,extractEvents:function(e,t,n,r){var i=t?B(t):window,o=void 0,s=void 0,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type?o=xt:Ue(i)?Lt?o=Ut:(o=jt,s=Ft):(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Bt),o&&(o=o(e,t)))return Rt(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Tt(i,"number",i.value)}},zt=le.extend({view:null,detail:null}),Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function $t(){return Gt}var Yt=0,Wt=0,Kt=!1,qt=!1,Xt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$t,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Yt;return Yt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,qt?"mousemove"===e.type?e.screenY-t:0:(qt=!0,0)}}),Jt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qt={eventTypes:Zt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):o=null,o===t)return null;var s=void 0,a=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(s=Xt,a=Zt.mouseLeave,u=Zt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(s=Jt,a=Zt.pointerLeave,u=Zt.pointerEnter,c="pointer");var l=null==o?i:B(o);if(i=null==t?i:B(t),(e=s.getPooled(a,o,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,c=0,s=t=o;s;s=H(s))c++;for(s=0,u=i;u;u=H(u))s++;for(;0<c-s;)t=H(t),c--;for(;0<s-c;)i=H(i),s--;for(;c--;){if(t===i||t===i.alternate)break e;t=H(t),i=H(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=H(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=H(r);for(r=0;r<t.length;r++)G(t[r],"bubbled",e);for(r=o.length;0<r--;)G(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function on(e){2!==rn(e)&&a("188")}function sn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return on(i),e;if(s===r)return on(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cn=zt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=zt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:$t,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Xt.extend({dataTransfer:null}),mn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$t}),gn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),En=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),_n=[["abort","abort"],[Q,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},An={};function yn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,An[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){yn(e,!0)})),_n.forEach((function(e){yn(e,!1)}));var On={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=An[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=An[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=cn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case Q:case ee:case te:e=an;break;case ne:e=gn;break;case"scroll":e=zt;break;case"wheel":e=En;break;case"copy":case"cut":case"paste":e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=le}return Y(t=e.getPooled(i,t,n,r)),t}},Sn=On.isInteractiveTopLevelEventType,bn=[];function Dn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=F(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=He(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,s=null,a=0;a<v.length;a++){var u=v[a];u&&(u=u.extractEvents(r,t,o,i))&&(s=C(s,u))}x(s)}}var Tn=!0;function Cn(e,t){if(!t)return null;var n=(Sn(e)?In:Nn).bind(null,e);t.addEventListener(e,n,!1)}function Rn(e,t){if(!t)return null;var n=(Sn(e)?In:Nn).bind(null,e);t.addEventListener(e,n,!0)}function In(e,t){Me(Nn,e,t)}function Nn(e,t){if(Tn){var n=He(t);if(null===(n=F(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),bn.length){var r=bn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(Dn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>bn.length&&bn.push(e)}}}var wn={},kn=0,xn="_reactListenersID"+(""+Math.random()).slice(2);function Ln(e){return Object.prototype.hasOwnProperty.call(e,xn)||(e[xn]=kn++,wn[e[xn]]={}),wn[e[xn]]}function Mn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fn(e,t){var n,r=Pn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pn(r)}}function jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Bn(){for(var e=window,t=Mn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Mn((e=t.contentWindow).document)}return t}function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Hn(e){var t=Bn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jn(n.ownerDocument.documentElement,n)){if(null!==r&&Un(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Fn(n,o);var s=Fn(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zn=W&&"documentMode"in document&&11>=document.documentMode,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,$n=null,Yn=null,Wn=!1;function Kn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==Gn||Gn!==Mn(n)?null:("selectionStart"in(n=Gn)&&Un(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yn&&nn(Yn,n)?null:(Yn=n,(e=le.getPooled(Vn.select,$n,e,t)).type="select",e.target=Gn,Y(e),e))}var qn={eventTypes:Vn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Ln(o),i=O.onSelect;for(var s=0;s<i.length;s++){var a=i[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?B(t):window,e){case"focus":(Ue(o)||"true"===o.contentEditable)&&(Gn=o,$n=t,Yn=null);break;case"blur":Yn=$n=Gn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Kn(n,r);case"selectionchange":if(zn)break;case"keydown":case"keyup":return Kn(n,r)}return null}};function Xn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Jn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+At(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Zn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:At(n)}}function er(e,t){var n=At(t.value),r=At(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function tr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}w.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=U,b=j,D=B,w.injectEventPluginsByName({SimpleEventPlugin:On,EnterLeaveEventPlugin:Qt,ChangeEventPlugin:Ht,SelectEventPlugin:qn,BeforeInputEventPlugin:Ce});var nr="http://www.w3.org/1999/xhtml",rr="http://www.w3.org/2000/svg";function ir(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function or(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ir(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var sr,ar=void 0,ur=(sr=function(e,t){if(e.namespaceURI!==rr||"innerHTML"in e)e.innerHTML=t;else{for((ar=ar||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return sr(e,t)}))}:sr);function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];function dr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function fr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=dr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(lr).forEach((function(e){hr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]}))}));var pr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(e,t){t&&(pr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function gr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Er(e,t){var n=Ln(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=O[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Rn("scroll",e);break;case"focus":case"blur":Rn("focus",e),Rn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ze(i)&&Rn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&Cn(i,e)}n[i]=!0}}}function _r(){}var vr=null,Ar=null;function yr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Or(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sr="function"==typeof setTimeout?setTimeout:void 0,br="function"==typeof clearTimeout?clearTimeout:void 0,Dr=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback;function Cr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Rr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Ir=[],Nr=-1;function wr(e){0>Nr||(e.current=Ir[Nr],Ir[Nr]=null,Nr--)}function kr(e,t){Nr++,Ir[Nr]=e.current,e.current=t}var xr={},Lr={current:xr},Mr={current:!1},Pr=xr;function Fr(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function jr(e){return null!=(e=e.childContextTypes)}function Br(e){wr(Mr),wr(Lr)}function Ur(e){wr(Mr),wr(Lr)}function Hr(e,t,n){Lr.current!==xr&&a("168"),kr(Lr,t),kr(Mr,n)}function zr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",ct(t)||"Unknown",o);return i({},n,r)}function Vr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||xr,Pr=Lr.current,kr(Lr,t),kr(Mr,Mr.current),!0}function Gr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=zr(e,t,Pr),r.__reactInternalMemoizedMergedChildContext=t,wr(Mr),wr(Lr),kr(Lr,t)):wr(Mr),kr(Mr,n)}var $r=null,Yr=null;function Wr(e){return function(t){try{return e(t)}catch(e){}}}function Kr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qr(e,t,n,r){return new Kr(e,t,n,r)}function Xr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Jr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Xr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Je:return Qr(n.children,i,o,t);case nt:return ei(n,3|i,o,t);case Ze:return ei(n,2|i,o,t);case Qe:return(e=qr(12,n,t,4|i)).elementType=Qe,e.type=Qe,e.expirationTime=o,e;case it:return(e=qr(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case ot:s=14;break e;case st:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=qr(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Qr(e,t,n,r){return(e=qr(7,e,r,t)).expirationTime=n,e}function ei(e,t,n,r){return e=qr(8,e,r,t),t=0==(1&t)?Ze:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function ti(e,t,n){return(e=qr(6,e,null,t)).expirationTime=n,e}function ni(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ri(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),si(t,e)}function ii(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),si(t,e)}function oi(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function si(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ai(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ui=(new r.Component).refs;function ci(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var li={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=_a(),i=Go(r=Vs(r,e));i.payload=t,null!=n&&(i.callback=n),Fs(),Yo(e,i),Ws(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=_a(),i=Go(r=Vs(r,e));i.tag=Bo,i.payload=t,null!=n&&(i.callback=n),Fs(),Yo(e,i),Ws(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=_a(),r=Go(n=Vs(n,e));r.tag=Uo,null!=t&&(r.callback=t),Fs(),Yo(e,r),Ws(e,n)}};function hi(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function di(e,t,n){var r=!1,i=xr,o=t.contextType;return"object"==typeof o&&null!==o?o=jo(o):(i=jr(t)?Pr:Lr.current,o=(r=null!=(r=t.contextTypes))?Fr(e,i):xr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=li,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function pi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ui;var o=t.contextType;"object"==typeof o&&null!==o?i.context=jo(o):(o=jr(t)?Pr:Lr.current,i.context=Fr(e,o)),null!==(o=e.updateQueue)&&(Xo(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(ci(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&li.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Xo(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var mi=Array.isArray;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ui&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function Ei(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function _i(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Jr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ti(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Zr(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ni(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Qr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ti(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case qe:return(n=Zr(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case Xe:return(t=ni(t,e.mode,n)).return=e,t}if(mi(t)||ut(t))return(t=Qr(t,e.mode,n,null)).return=e,t;Ei(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case qe:return n.key===i?n.type===Je?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case Xe:return n.key===i?l(e,t,n,r):null}if(mi(n)||ut(n))return null!==i?null:h(e,t,n,r,null);Ei(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case qe:return e=e.get(null===r.key?n:r.key)||null,r.type===Je?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case Xe:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(mi(r)||ut(r))return h(t,e=e.get(n)||null,r,i,null);Ei(t,r)}return null}function m(i,s,a,u){for(var c=null,l=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var E=f(i,h,a[m],u);if(null===E){null===h&&(h=g);break}e&&h&&null===E.alternate&&t(i,h),s=o(E,s,m),null===l?c=E:l.sibling=E,l=E,h=g}if(m===a.length)return n(i,h),c;if(null===h){for(;m<a.length;m++)(h=d(i,a[m],u))&&(s=o(h,s,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<a.length;m++)(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=ut(u);"function"!=typeof l&&a("150"),null==(u=l.call(u))&&a("151");for(var h=l=null,m=s,g=s=0,E=null,_=u.next();null!==m&&!_.done;g++,_=u.next()){m.index>g?(E=m,m=null):E=m.sibling;var v=f(i,m,_.value,c);if(null===v){m||(m=E);break}e&&m&&null===v.alternate&&t(i,m),s=o(v,s,g),null===h?l=v:h.sibling=v,h=v,m=E}if(_.done)return n(i,m),l;if(null===m){for(;!_.done;g++,_=u.next())null!==(_=d(i,_.value,c))&&(s=o(_,s,g),null===h?l=_:h.sibling=_,h=_);return l}for(m=r(i,m);!_.done;g++,_=u.next())null!==(_=p(m,i,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),s=o(_,s,g),null===h?l=_:h.sibling=_,h=_);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===Je&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case qe:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Je:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===Je?o.props.children:o.props)).ref=gi(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Je?((r=Qr(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Zr(o.type,o.key,o.props,null,e.mode,u)).ref=gi(e,r,o),u.return=e,e=u)}return s(e);case Xe:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ni(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ti(o,e.mode,u)).return=e,e=r),s(e);if(mi(o))return m(e,r,o,u);if(ut(o))return g(e,r,o,u);if(l&&Ei(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:a("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var vi=_i(!0),Ai=_i(!1),yi={},Oi={current:yi},Si={current:yi},bi={current:yi};function Di(e){return e===yi&&a("174"),e}function Ti(e,t){kr(bi,t),kr(Si,e),kr(Oi,yi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:or(null,"");break;default:t=or(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}wr(Oi),kr(Oi,t)}function Ci(e){wr(Oi),wr(Si),wr(bi)}function Ri(e){Di(bi.current);var t=Di(Oi.current),n=or(t,e.type);t!==n&&(kr(Si,e),kr(Oi,n))}function Ii(e){Si.current===e&&(wr(Oi),wr(Si))}var Ni=Ye.ReactCurrentDispatcher,wi=0,ki=null,xi=null,Li=null,Mi=null,Pi=null,Fi=null,ji=0,Bi=null,Ui=0,Hi=!1,zi=null,Vi=0;function Gi(){a("321")}function $i(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Yi(e,t,n,r,i,o){if(wi=o,ki=t,Li=null!==e?e.memoizedState:null,Ni.current=null===Li?oo:so,t=n(r,i),Hi){do{Hi=!1,Vi+=1,Li=null!==e?e.memoizedState:null,Fi=Mi,Bi=Pi=xi=null,Ni.current=so,t=n(r,i)}while(Hi);zi=null,Vi=0}return Ni.current=io,(e=ki).memoizedState=Mi,e.expirationTime=ji,e.updateQueue=Bi,e.effectTag|=Ui,e=null!==xi&&null!==xi.next,wi=0,Fi=Pi=Mi=Li=xi=ki=null,ji=0,Bi=null,Ui=0,e&&a("300"),t}function Wi(){Ni.current=io,wi=0,Fi=Pi=Mi=Li=xi=ki=null,ji=0,Bi=null,Ui=0,Hi=!1,zi=null,Vi=0}function Ki(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Pi?Mi=Pi=e:Pi=Pi.next=e,Pi}function qi(){if(null!==Fi)Fi=(Pi=Fi).next,Li=null!==(xi=Li)?xi.next:null;else{null===Li&&a("310");var e={memoizedState:(xi=Li).memoizedState,baseState:xi.baseState,queue:xi.queue,baseUpdate:xi.baseUpdate,next:null};Pi=null===Pi?Mi=e:Pi.next=e,Li=xi.next}return Pi}function Xi(e,t){return"function"==typeof t?t(e):t}function Ji(e){var t=qi(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<Vi){var r=n.dispatch;if(null!==zi){var i=zi.get(n);if(void 0!==i){zi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(_o=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var h=c.expirationTime;h<wi?(l||(l=!0,u=s,i=o),h>ji&&(ji=h)):o=c.eagerReducer===e?c.eagerState:e(o,c.action),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),en(o,t.memoizedState)||(_o=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Bi?(Bi={lastEffect:null}).lastEffect=e.next=e:null===(t=Bi.lastEffect)?Bi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Bi.lastEffect=e),e}function Qi(e,t,n,r){var i=Ki();Ui|=e,i.memoizedState=Zi(t,n,void 0,void 0===r?null:r)}function eo(e,t,n,r){var i=qi();r=void 0===r?null:r;var o=void 0;if(null!==xi){var s=xi.memoizedState;if(o=s.destroy,null!==r&&$i(r,s.deps))return void Zi(0,n,o,r)}Ui|=e,i.memoizedState=Zi(t,n,o,r)}function to(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function no(){}function ro(e,t,n){25>Vi||a("301");var r=e.alternate;if(e===ki||null!==r&&r===ki)if(Hi=!0,e={expirationTime:wi,action:n,eagerReducer:null,eagerState:null,next:null},null===zi&&(zi=new Map),void 0===(n=zi.get(t)))zi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Fs();var i=_a(),o={expirationTime:i=Vs(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,en(l,c))return}catch(e){}Ws(e,i)}}var io={readContext:jo,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi},oo={readContext:jo,useCallback:function(e,t){return Ki().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:function(e,t){return Qi(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Qi(4,36,to.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qi(4,36,e,t)},useMemo:function(e,t){var n=Ki();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ki();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ro.bind(null,ki,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ki().memoizedState=e},useState:function(e){var t=Ki();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e}).dispatch=ro.bind(null,ki,e),[t.memoizedState,e]},useDebugValue:no},so={readContext:jo,useCallback:function(e,t){var n=qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:jo,useEffect:function(e,t){return eo(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,eo(4,36,to.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4,36,e,t)},useMemo:function(e,t){var n=qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Ji,useRef:function(){return qi().memoizedState},useState:function(e){return Ji(Xi)},useDebugValue:no},ao=null,uo=null,co=!1;function lo(e,t){var n=qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function fo(e){if(co){var t=uo;if(t){var n=t;if(!ho(e,t)){if(!(t=Cr(n))||!ho(e,t))return e.effectTag|=2,co=!1,void(ao=e);lo(ao,n)}ao=e,uo=Rr(t)}else e.effectTag|=2,co=!1,ao=e}}function po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;ao=e}function mo(e){if(e!==ao)return!1;if(!co)return po(e),co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Or(t,e.memoizedProps))for(t=uo;t;)lo(e,t),t=Cr(t);return po(e),uo=ao?Cr(e.stateNode):null,!0}function go(){uo=ao=null,co=!1}var Eo=Ye.ReactCurrentOwner,_o=!1;function vo(e,t,n,r){t.child=null===e?Ai(t,null,n,r):vi(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var o=t.ref;return Fo(t,i),r=Yi(e,t,n,r,o,i),null===e||_o?(t.effectTag|=1,vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function yo(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Xr(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Oo(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Io(e,t,o):(t.effectTag|=1,(e=Jr(s,r)).ref=t.ref,e.return=t,t.child=e)}function Oo(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(_o=!1,i<o)?Io(e,t,o):bo(e,t,n,r,o)}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function bo(e,t,n,r,i){var o=jr(n)?Pr:Lr.current;return o=Fr(t,o),Fo(t,i),n=Yi(e,t,n,r,o,i),null===e||_o?(t.effectTag|=1,vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function Do(e,t,n,r,i){if(jr(n)){var o=!0;Vr(t)}else o=!1;if(Fo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),di(t,n,r),pi(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=jo(c):c=Fr(t,c=jr(n)?Pr:Lr.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&fi(t,s,r,c),Ho=!1;var d=t.memoizedState;u=s.state=d;var f=t.updateQueue;null!==f&&(Xo(t,f,r,s,i),u=t.memoizedState),a!==r||d!==u||Mr.current||Ho?("function"==typeof l&&(ci(t,n,l,r),u=t.memoizedState),(a=Ho||hi(t,n,a,r,d,u,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:ai(t.type,a),u=s.context,"object"==typeof(c=n.contextType)&&null!==c?c=jo(c):c=Fr(t,c=jr(n)?Pr:Lr.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&fi(t,s,r,c),Ho=!1,u=t.memoizedState,d=s.state=u,null!==(f=t.updateQueue)&&(Xo(t,f,r,s,i),d=t.memoizedState),a!==r||u!==d||Mr.current||Ho?("function"==typeof l&&(ci(t,n,l,r),d=t.memoizedState),(l=Ho||hi(t,n,a,r,u,d,c))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=c,r=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return To(e,t,n,r,o,i)}function To(e,t,n,r,i,o){So(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&Gr(t,n,!1),Io(e,t,o);r=t.stateNode,Eo.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,a,o)):vo(e,t,a,o),t.memoizedState=r.state,i&&Gr(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Hr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hr(0,t.context,!1),Ti(e,t.containerInfo)}function Ro(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var s=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},s=!0,t.effectTag&=-65;if(null===e)if(s){var a=i.fallback;e=Qr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Qr(a,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=Ai(t,null,i.children,n);else null!==e.memoizedState?(a=(r=e.child).sibling,s?(n=i.fallback,i=Jr(r,r.pendingProps),0==(1&t.mode)&&((s=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=s)),r=i.sibling=Jr(a,n,a.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=vi(t,r.child,i.children,n)):(a=e.child,s?(s=i.fallback,(i=Qr(null,r,0,null)).child=a,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Qr(s,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=vi(t,a,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Io(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Jr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Jr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function No(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Mr.current)_o=!0;else if(r<n){switch(_o=!1,t.tag){case 3:Co(t),go();break;case 5:Ri(t);break;case 1:jr(t.type)&&Vr(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:Mo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ro(e,t,n):null!==(t=Io(e,t,n))?t.sibling:null}return Io(e,t,n)}}else _o=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Fr(t,Lr.current);if(Fo(t,n),i=Yi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Wi(),jr(r)){var o=!0;Vr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ci(t,r,s,e),i.updater=li,t.stateNode=i,i._reactInternalFiber=t,pi(t,r,e,n),t=To(null,t,r,!0,o,n)}else t.tag=0,vo(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Xr(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(e),o=ai(e,o),s=void 0,i){case 0:s=bo(null,t,e,o,n);break;case 1:s=Do(null,t,e,o,n);break;case 11:s=Ao(null,t,e,o,n);break;case 14:s=yo(null,t,e,ai(e.type,o),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,bo(e,t,r,i=t.elementType===r?i:ai(r,i),n);case 1:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:ai(r,i),n);case 3:return Co(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,Xo(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(go(),t=Io(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(uo=Rr(t.stateNode.containerInfo),ao=t,i=co=!0),i?(t.effectTag|=2,t.child=Ai(t,null,r,n)):(vo(e,t,r,n),go()),t=t.child),t;case 5:return Ri(t),null===e&&fo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Or(r,i)?s=null:null!==o&&Or(r,o)&&(t.effectTag|=16),So(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(vo(e,t,s,n),t=t.child),t;case 6:return null===e&&fo(t),null;case 13:return Ro(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vi(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:ai(r,i),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Mo(t,o=i.value),null!==s){var u=s.value;if(0===(o=en(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Mr.current){t=Io(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.contextDependencies;if(null!==c){s=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=Go(n)).tag=Uo,Yo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var h=u.return;null!==h;){var d=h.alternate;if(h.childExpirationTime<l)h.childExpirationTime=l,null!==d&&d.childExpirationTime<l&&(d.childExpirationTime=l);else{if(!(null!==d&&d.childExpirationTime<l))break;d.childExpirationTime=l}h=h.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Fo(t,n),r=r(i=jo(i,o.unstable_observedBits)),t.effectTag|=1,vo(e,t,r,n),t.child;case 14:return o=ai(i=t.type,t.pendingProps),yo(e,t,i,o=ai(i.type,o),r,n);case 15:return Oo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ai(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,jr(r)?(e=!0,Vr(t)):e=!1,Fo(t,n),di(t,r,i),pi(t,r,i,n),To(null,t,r,!0,e,n)}a("156")}var wo={current:null},ko=null,xo=null,Lo=null;function Mo(e,t){var n=e.type._context;kr(wo,n._currentValue),n._currentValue=t}function Po(e){var t=wo.current;wr(wo),e.type._context._currentValue=t}function Fo(e,t){ko=e,Lo=xo=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(_o=!0),e.contextDependencies=null}function jo(e,t){return Lo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Lo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===xo?(null===ko&&a("308"),xo=t,ko.contextDependencies={first:t,expirationTime:0}):xo=xo.next=t),e._currentValue}var Bo=1,Uo=2,Ho=!1;function zo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Vo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Go(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function $o(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Yo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=zo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=zo(e.memoizedState),i=n.updateQueue=zo(n.memoizedState)):r=e.updateQueue=Vo(i):null===i&&(i=n.updateQueue=Vo(r));null===i||r===i?$o(r,t):null===r.lastUpdate||null===i.lastUpdate?($o(r,t),$o(i,t)):($o(r,t),i.lastUpdate=t)}function Wo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=zo(e.memoizedState):Ko(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ko(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Vo(t)),t}function qo(e,t,n,r,o,s){switch(n.tag){case Bo:return"function"==typeof(e=n.payload)?e.call(s,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,r,o):e))break;return i({},r,o);case Uo:Ho=!0}return r}function Xo(e,t,n,r,i){Ho=!1;for(var o=(t=Ko(e,t)).baseState,s=null,a=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===s&&(s=u,o=c),a<l&&(a=l)):(c=qo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h<i?(null===l&&(l=u,null===s&&(o=c)),a<h&&(a=h)):(c=qo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===s&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===l&&(o=c),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=l,e.expirationTime=a,e.memoizedState=c}function Jo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Zo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Zo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Zo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function Qo(e,t){return{value:e,source:t,stack:lt(t)}}function es(e){e.effectTag|=4}var ts,ns,rs;ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ns=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a=t.stateNode;switch(Di(Oi.current),e=null,n){case"input":s=yt(a,s),r=yt(a,r),e=[];break;case"option":s=Xn(a,s),r=Xn(a,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Zn(a,s),r=Zn(a,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(a.onclick=_r)}mr(n,r),a=n=void 0;var u=null;for(n in s)if(!r.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var c=s[n];for(a in c)c.hasOwnProperty(a)&&(u||(u={}),u[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(y.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=s?s[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(u||(u={}),u[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(u||(u={}),u[a]=l[a])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(y.hasOwnProperty(n)?(null!=l&&Er(o,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&es(t)}},rs=function(e,t,n,r){n!==r&&es(t)};var is="function"==typeof WeakSet?WeakSet:Set;function os(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ss(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){zs(e,t)}else t.current=null}function as(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function us(e){switch("function"==typeof Yr&&Yr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){zs(i,e)}}n=n.next}while(n!==t)}break;case 1:if(ss(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){zs(e,t)}break;case 5:ss(e);break;case 4:hs(e)}}function cs(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(cs(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(cr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||cs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(s,u):o.insertBefore(s,u)}else t.insertBefore(i.stateNode,n);else r?(s=t,u=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(u,s):(o=s).appendChild(u),null!=(s=s._reactRootContainer)||null!==o.onclick||(o.onclick=_r)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function hs(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(us(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(us(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:as(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[P]=i,"input"===n&&"radio"===i.type&&null!=i.name&&St(e,i),gr(n,r),r=gr(n,i);for(var o=0;o<t.length;o+=2){var s=t[o],a=t[o+1];"style"===s?fr(e,a):"dangerouslySetInnerHTML"===s?ur(e,a):"children"===s?cr(e,a):vt(e,s,a,r)}switch(n){case"input":bt(e,i);break;case"textarea":er(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Jn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Jn(e,!!i.multiple,i.defaultValue,!0):Jn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=_a())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=dr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new is),n.forEach((function(e){var n=$s.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))}))}break;case 17:break;default:a("163")}}var fs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Go(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ra(r),os(e,t)},n}function ms(e,t,n){(n=Go(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ws?ws=new Set([this]):ws.add(this));var n=t.value,i=t.stack;os(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function gs(e){switch(e.tag){case 1:jr(e.type)&&Br();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ci(),Ur(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Ii(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ci(),null;case 10:return Po(e),null;default:return null}}var Es=Ye.ReactCurrentDispatcher,_s=Ye.ReactCurrentOwner,vs=1073741822,As=!1,ys=null,Os=null,Ss=0,bs=-1,Ds=!1,Ts=null,Cs=!1,Rs=null,Is=null,Ns=null,ws=null;function ks(){if(null!==ys)for(var e=ys.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Br();break;case 3:Ci(),Ur();break;case 5:Ii(t);break;case 4:Ci();break;case 10:Po(t)}e=e.return}Os=null,Ss=0,bs=-1,Ds=!1,ys=null}function xs(){for(;null!==Ts;){var e=Ts.effectTag;if(16&e&&cr(Ts.stateNode,""),128&e){var t=Ts.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ls(Ts),Ts.effectTag&=-3;break;case 6:ls(Ts),Ts.effectTag&=-3,ds(Ts.alternate,Ts);break;case 4:ds(Ts.alternate,Ts);break;case 8:hs(e=Ts),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ts=Ts.nextEffect}}function Ls(){for(;null!==Ts;){if(256&Ts.effectTag)e:{var e=Ts.alternate,t=Ts;switch(t.tag){case 0:case 11:case 15:as(2,0,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ai(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Ts=Ts.nextEffect}}function Ms(e,t){for(;null!==Ts;){var n=Ts.effectTag;if(36&n){var r=Ts.alternate,i=Ts,o=t;switch(i.tag){case 0:case 11:case 15:as(16,32,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var u=i.elementType===i.type?r.memoizedProps:ai(i.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&Jo(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}Jo(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&yr(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=Ts.ref)&&(o=Ts.stateNode,"function"==typeof i?i(o):i.current=o)),512&n&&(Rs=e),Ts=Ts.nextEffect}}function Ps(e,t){Ns=Is=Rs=null;var n=Qs;Qs=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;as(128,0,o),as(0,64,o)}catch(e){r=!0,i=e}r&&zs(t,i)}t=t.nextEffect}while(null!==t);Qs=n,0!==(n=e.expirationTime)&&va(e,n),oa||Qs||ba(1073741823,!1)}function Fs(){null!==Is&&Tr(Is),null!==Ns&&Ns()}function js(e,t){Cs=As=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ri(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ri(e,t)):t>n&&ri(e,t)}si(0,e)}(e,i>r?i:r),_s.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,vr=Tn,Ar=function(){var e=Bn();if(Un(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,s=-1,a=-1,u=0,c=0,l=e,h=null;t:for(;;){for(var d;l!==t||0!==r&&3!==l.nodeType||(s=o+r),l!==i||0!==n&&3!==l.nodeType||(a=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(d=l.firstChild);)h=l,l=d;for(;;){if(l===e)break t;if(h===t&&++u===r&&(s=o),h===i&&++c===n&&(a=o),null!==(d=l.nextSibling))break;h=(l=h).parentNode}l=d}t=-1===s||-1===a?null:{start:s,end:a}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Tn=!1,Ts=r;null!==Ts;){i=!1;var s=void 0;try{Ls()}catch(e){i=!0,s=e}i&&(null===Ts&&a("178"),zs(Ts,s),null!==Ts&&(Ts=Ts.nextEffect))}for(Ts=r;null!==Ts;){i=!1,s=void 0;try{xs()}catch(e){i=!0,s=e}i&&(null===Ts&&a("178"),zs(Ts,s),null!==Ts&&(Ts=Ts.nextEffect))}for(Hn(Ar),Ar=null,Tn=!!vr,vr=null,e.current=t,Ts=r;null!==Ts;){i=!1,s=void 0;try{Ms(e,n)}catch(e){i=!0,s=e}i&&(null===Ts&&a("178"),zs(Ts,s),null!==Ts&&(Ts=Ts.nextEffect))}if(null!==r&&null!==Rs){var u=Ps.bind(null,e,r);Is=o.unstable_runWithPriority(o.unstable_NormalPriority,(function(){return Dr(u)})),Ns=u}As=Cs=!1,"function"==typeof $r&&$r(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(ws=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Bs(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){ys=e;e:{var o=t,s=Ss,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:jr(t.type)&&Br();break;case 3:Ci(),Ur(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(mo(t),t.effectTag&=-3);break;case 5:Ii(t);var c=Di(bi.current);if(s=t.type,null!==o&&null!=t.stateNode)ns(o,t,s,u,c),o.ref!==t.ref&&(t.effectTag|=128);else if(u){var l=Di(Oi.current);if(mo(t)){o=(u=t).stateNode;var h=u.type,d=u.memoizedProps,f=c;switch(o[M]=u,o[P]=d,s=void 0,c=h){case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(h=0;h<re.length;h++)Cn(re[h],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"form":Cn("reset",o),Cn("submit",o);break;case"details":Cn("toggle",o);break;case"input":Ot(o,d),Cn("invalid",o),Er(f,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},Cn("invalid",o),Er(f,"onChange");break;case"textarea":Qn(o,d),Cn("invalid",o),Er(f,"onChange")}for(s in mr(c,d),h=null,d)d.hasOwnProperty(s)&&(l=d[s],"children"===s?"string"==typeof l?o.textContent!==l&&(h=["children",l]):"number"==typeof l&&o.textContent!==""+l&&(h=["children",""+l]):y.hasOwnProperty(s)&&null!=l&&Er(f,s));switch(c){case"input":Ge(o),Dt(o,d,!0);break;case"textarea":Ge(o),tr(o);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(o.onclick=_r)}s=h,u.updateQueue=s,(u=null!==s)&&es(t)}else{d=t,f=s,o=u,h=9===c.nodeType?c:c.ownerDocument,l===nr&&(l=ir(f)),l===nr?"script"===f?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"==typeof o.is?h=h.createElement(f,{is:o.is}):(h=h.createElement(f),"select"===f&&(f=h,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):h=h.createElementNS(l,f),(o=h)[M]=d,o[P]=u,ts(o,t),f=o;var p=c,m=gr(h=s,d=u);switch(h){case"iframe":case"object":Cn("load",f),c=d;break;case"video":case"audio":for(c=0;c<re.length;c++)Cn(re[c],f);c=d;break;case"source":Cn("error",f),c=d;break;case"img":case"image":case"link":Cn("error",f),Cn("load",f),c=d;break;case"form":Cn("reset",f),Cn("submit",f),c=d;break;case"details":Cn("toggle",f),c=d;break;case"input":Ot(f,d),c=yt(f,d),Cn("invalid",f),Er(p,"onChange");break;case"option":c=Xn(f,d);break;case"select":f._wrapperState={wasMultiple:!!d.multiple},c=i({},d,{value:void 0}),Cn("invalid",f),Er(p,"onChange");break;case"textarea":Qn(f,d),c=Zn(f,d),Cn("invalid",f),Er(p,"onChange");break;default:c=d}mr(h,c),l=void 0;var g=h,E=f,_=c;for(l in _)if(_.hasOwnProperty(l)){var v=_[l];"style"===l?fr(E,v):"dangerouslySetInnerHTML"===l?null!=(v=v?v.__html:void 0)&&ur(E,v):"children"===l?"string"==typeof v?("textarea"!==g||""!==v)&&cr(E,v):"number"==typeof v&&cr(E,""+v):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(y.hasOwnProperty(l)?null!=v&&Er(p,l):null!=v&&vt(E,l,v,m))}switch(h){case"input":Ge(f),Dt(f,d,!1);break;case"textarea":Ge(f),tr(f);break;case"option":null!=d.value&&f.setAttribute("value",""+At(d.value));break;case"select":(c=f).multiple=!!d.multiple,null!=(f=d.value)?Jn(c,!!d.multiple,f,!1):null!=d.defaultValue&&Jn(c,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof c.onClick&&(f.onclick=_r)}(u=yr(s,u))&&es(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?rs(0,t,o.memoizedProps,u):("string"!=typeof u&&(null===t.stateNode&&a("166")),o=Di(bi.current),Di(Oi.current),mo(t)?(s=(u=t).stateNode,o=u.memoizedProps,s[M]=u,(u=s.nodeValue!==o)&&es(t)):(s=t,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[M]=t,s.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,ys=t;break e}u=null!==u,s=null!==o&&null!==o.memoizedState,null!==o&&!u&&s&&(null!==(o=o.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=o,o.nextEffect=c):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ci();break;case 10:Po(t);break;case 9:case 14:break;case 17:jr(t.type)&&Br();break;case 18:break;default:a("156")}ys=null}if(t=e,1===Ss||1!==t.childExpirationTime){for(u=0,s=t.child;null!==s;)(o=s.expirationTime)>u&&(u=o),(c=s.childExpirationTime)>u&&(u=c),s=s.sibling;t.childExpirationTime=u}if(null!==ys)return ys;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=gs(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Us(e){var t=No(e.alternate,e,Ss);return e.memoizedProps=e.pendingProps,null===t&&(t=Bs(e)),_s.current=null,t}function Hs(e,t){As&&a("243"),Fs(),As=!0;var n=Es.current;Es.current=io;var r=e.nextExpirationTimeToWorkOn;r===Ss&&e===Os&&null!==ys||(ks(),Ss=r,ys=Jr((Os=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==ys&&!Oa();)ys=Us(ys);else for(;null!==ys;)ys=Us(ys)}catch(t){if(Lo=xo=ko=null,Wi(),null===ys)i=!0,Ra(t);else{null===ys&&a("271");var o=ys,s=o.return;if(null!==s){e:{var u=e,c=s,l=o,h=t;if(s=Ss,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var d=h;h=c;var f=-1,p=-1;do{if(13===h.tag){var m=h.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=h.pendingProps.maxDuration)&&(0>=m?f=0:(-1===f||m<f)&&(f=m))}h=h.return}while(null!==h);h=c;do{if((m=13===h.tag)&&(m=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),m){if(null===(c=h.updateQueue)?((c=new Set).add(d),h.updateQueue=c):c.add(d),0==(1&h.mode)){h.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((s=Go(1073741823)).tag=Uo,Yo(l,s))),l.expirationTime=1073741823;break e}c=s;var g=(l=u).pingCache;null===g?(g=l.pingCache=new fs,m=new Set,g.set(d,m)):void 0===(m=g.get(d))&&(m=new Set,g.set(d,m)),m.has(c)||(m.add(c),l=Gs.bind(null,l,d,c),d.then(l,l)),-1===f?u=1073741823:(-1===p&&(p=10*(1073741822-oi(u,s))-5e3),u=p+f),0<=u&&bs<u&&(bs=u),h.effectTag|=2048,h.expirationTime=s;break e}h=h.return}while(null!==h);h=Error((ct(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(l))}Ds=!0,h=Qo(h,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,Wo(u,s=ps(u,h,s));break e;case 1:if(f=h,p=u.type,l=u.stateNode,0==(64&u.effectTag)&&("function"==typeof p.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===ws||!ws.has(l)))){u.effectTag|=2048,u.expirationTime=s,Wo(u,s=ms(u,f,s));break e}}u=u.return}while(null!==u)}ys=Bs(o);continue}i=!0,Ra(t)}}break}if(As=!1,Es.current=n,Lo=xo=ko=null,Wi(),i)Os=null,e.finishedWork=null;else if(null!==ys)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Os=null,Ds){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return ii(e,r),void ga(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void ga(e,n,r,t,-1)}t&&-1!==bs?(ii(e,r),(t=10*(1073741822-oi(e,r)))<bs&&(bs=t),t=10*(1073741822-_a()),t=bs-t,ga(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function zs(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ws||!ws.has(r)))return Yo(n,e=ms(n,e=Qo(t,e),1073741823)),void Ws(n,1073741823);break;case 3:return Yo(n,e=ps(n,e=Qo(t,e),1073741823)),void Ws(n,1073741823)}n=n.return}3===e.tag&&(Yo(e,n=ps(e,n=Qo(t,e),1073741823)),Ws(e,1073741823))}function Vs(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(As&&!Cs)r=Ss;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==Os&&r===Ss&&--r}return n===o.unstable_UserBlockingPriority&&(0===na||r<na)&&(na=r),r}function Gs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Os&&Ss===n?Os=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),si(n,e),0!==(n=e.expirationTime)&&va(e,n)))}function $s(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=Ys(e,t=Vs(t=_a(),e)))&&(ri(e,t),0!==(t=e.expirationTime)&&va(e,t))}function Ys(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ws(e,t){null!==(e=Ys(e,t))&&(!As&&0!==Ss&&t>Ss&&ks(),ri(e,t),As&&!Cs&&Os===e||va(e,e.expirationTime),da>ha&&(da=0,a("185")))}function Ks(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){return e(t,n,r,i)}))}var qs=null,Xs=null,Js=0,Zs=void 0,Qs=!1,ea=null,ta=0,na=0,ra=!1,ia=null,oa=!1,sa=!1,aa=null,ua=o.unstable_now(),ca=1073741822-(ua/10|0),la=ca,ha=50,da=0,fa=null;function pa(){ca=1073741822-((o.unstable_now()-ua)/10|0)}function ma(e,t){if(0!==Js){if(t<Js)return;null!==Zs&&o.unstable_cancelCallback(Zs)}Js=t,e=o.unstable_now()-ua,Zs=o.unstable_scheduleCallback(Sa,{timeout:10*(1073741822-t)-e})}function ga(e,t,n,r,i){e.expirationTime=r,0!==i||Oa()?0<i&&(e.timeoutHandle=Sr(Ea.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Ea(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,pa(),la=ca,Da(e,n)}function _a(){return Qs||(Aa(),0!==ta&&1!==ta||(pa(),la=ca)),la}function va(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Xs?(qs=Xs=e,e.nextScheduledRoot=e):(Xs=Xs.nextScheduledRoot=e).nextScheduledRoot=qs):t>e.expirationTime&&(e.expirationTime=t),Qs||(oa?sa&&(ea=e,ta=1073741823,Ta(e,1073741823,!1)):1073741823===t?ba(1073741823,!1):ma(e,t))}function Aa(){var e=0,t=null;if(null!==Xs)for(var n=Xs,r=qs;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Xs)&&a("244"),r===r.nextScheduledRoot){qs=Xs=r.nextScheduledRoot=null;break}if(r===qs)qs=i=r.nextScheduledRoot,Xs.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Xs){(Xs=n).nextScheduledRoot=qs,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===Xs)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}ea=t,ta=e}var ya=!1;function Oa(){return!!ya||!!o.unstable_shouldYield()&&(ya=!0)}function Sa(){try{if(!Oa()&&null!==qs){pa();var e=qs;do{var t=e.expirationTime;0!==t&&ca<=t&&(e.nextExpirationTimeToWorkOn=ca),e=e.nextScheduledRoot}while(e!==qs)}ba(0,!0)}finally{ya=!1}}function ba(e,t){if(Aa(),t)for(pa(),la=ca;null!==ea&&0!==ta&&e<=ta&&!(ya&&ca>ta);)Ta(ea,ta,ca>ta),Aa(),pa(),la=ca;else for(;null!==ea&&0!==ta&&e<=ta;)Ta(ea,ta,!1),Aa();if(t&&(Js=0,Zs=null),0!==ta&&ma(ea,ta),da=0,fa=null,null!==aa)for(e=aa,aa=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ra||(ra=!0,ia=e)}}if(ra)throw e=ia,ia=null,ra=!1,e}function Da(e,t){Qs&&a("253"),ea=e,ta=t,Ta(e,t,!1),ba(1073741823,!1)}function Ta(e,t,n){if(Qs&&a("245"),Qs=!0,n){var r=e.finishedWork;null!==r?Ca(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Hs(e,n),null!==(r=e.finishedWork)&&(Oa()?e.finishedWork=r:Ca(e,r,t)))}else null!==(r=e.finishedWork)?Ca(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Hs(e,n),null!==(r=e.finishedWork)&&Ca(e,r,t));Qs=!1}function Ca(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===aa?aa=[r]:aa.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===fa?da++:(fa=e,da=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){js(e,t)}))}function Ra(e){null===ea&&a("246"),ea.expirationTime=0,ra||(ra=!0,ia=e)}function Ia(e,t){var n=oa;oa=!0;try{return e(t)}finally{(oa=n)||Qs||ba(1073741823,!1)}}function Na(e,t){if(oa&&!sa){sa=!0;try{return e(t)}finally{sa=!1}}return e(t)}function wa(e,t,n){oa||Qs||0===na||(ba(na,!1),na=0);var r=oa;oa=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(oa=r)||Qs||ba(1073741823,!1)}}function ka(e,t,n,r,i){var o=t.current;e:if(n){t:{2===rn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(jr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(jr(u)){n=zr(n,u,s);break e}}n=s}else n=xr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Go(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Fs(),Yo(o,i),Ws(o,r),r}function xa(e,t,n,r){var i=t.current;return ka(e,t,n,i=Vs(_a(),i),r)}function La(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ma(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Pa(e){var t=1073741822-25*(1+((1073741822-_a()+500)/25|0));t>=vs&&(t=vs-1),this._expirationTime=vs=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ja(e,t,n){e={current:t=qr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Ba(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ua(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var e=La(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ja(e,!1,t)}(n,r),"function"==typeof i){var a=i;i=function(){var e=La(o._internalRoot);a.call(e)}}Na((function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}))}return La(o._internalRoot)}function Ha(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ba(t)||a("200"),Ma(e,t,null,n)}Re=function(e,t,n){switch(t){case"input":if(bt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U(r);i||a("90"),$e(r),bt(r,i)}}}break;case"textarea":er(e,n);break;case"select":null!=(t=n.value)&&Jn(e,!!n.multiple,t,!1)}},Pa.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Fa;return ka(e,t,null,n,r._onCommit),r},Pa.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Pa.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Da(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Pa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fa.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},ja.prototype.render=function(e,t){var n=this._internalRoot,r=new Fa;return null!==(t=void 0===t?null:t)&&r.then(t),xa(e,n,null,r._onCommit),r},ja.prototype.unmount=function(e){var t=this._internalRoot,n=new Fa;return null!==(e=void 0===e?null:e)&&n.then(e),xa(null,t,null,n._onCommit),n},ja.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Fa;return null!==(n=void 0===n?null:n)&&i.then(n),xa(t,r,e,i._onCommit),i},ja.prototype.createBatch=function(){var e=new Pa(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Le=Ia,Me=wa,Pe=function(){Qs||0===na||(ba(na,!1),na=0)};var za={createPortal:Ha,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=sn(t))?null:e.stateNode},hydrate:function(e,t,n){return Ba(t)||a("200"),Ua(null,e,t,!0,n)},render:function(e,t,n){return Ba(t)||a("200"),Ua(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Ba(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Ua(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Ba(e)||a("40"),!!e._reactRootContainer&&(Na((function(){Ua(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Ha.apply(void 0,arguments)},unstable_batchedUpdates:Ia,unstable_interactiveUpdates:wa,flushSync:function(e,t){Qs&&a("187");var n=oa;oa=!0;try{return Ks(e,t)}finally{oa=n,ba(1073741823,!1)}},unstable_createRoot:function(e,t){return Ba(e)||a("299","unstable_createRoot"),new ja(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=oa;oa=!0;try{Ks(e)}finally{(oa=t)||Qs||ba(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,B,U,w.injectEventPluginsByName,A,Y,function(e){R(e,$)},ke,xe,Nn,x]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);$r=Wr((function(e){return t.onCommitFiberRoot(n,e)})),Yr=Wr((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}})(i({},e,{overrideProps:null,currentDispatcherRef:Ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:F,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Va={default:za},Ga=Va&&za||Va;e.exports=Ga.default||Ga},function(e,t,n){"use strict";e.exports=n(216)},function(e,t,n){"use strict";
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=null,i=!1,o=3,s=-1,a=-1,u=!1,c=!1;function l(){if(!u){var e=r.expirationTime;c?b():c=!0,S(f,e)}}function h(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=o,s=a;o=e,a=t;try{var u=n()}finally{o=i,a=s}if("function"==typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=u.next=u.previous=u;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=u,l()),(t=n.previous).next=n.previous=u,u.next=n,u.previous=t}}function d(){if(-1===s&&null!==r&&1===r.priorityLevel){u=!0;try{do{h()}while(null!==r&&1===r.priorityLevel)}finally{u=!1,null!==r?l():c=!1}}}function f(e){u=!0;var n=i;i=e;try{if(e)for(;null!==r;){var o=t.unstable_now();if(!(r.expirationTime<=o))break;do{h()}while(null!==r&&r.expirationTime<=o)}else if(null!==r)do{h()}while(null!==r&&!D())}finally{u=!1,i=n,null!==r?l():c=!1,d()}}var p,m,g=Date,E="function"==typeof setTimeout?setTimeout:void 0,_="function"==typeof clearTimeout?clearTimeout:void 0,v="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,A="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function y(e){p=v((function(t){_(m),e(t)})),m=E((function(){A(p),e(t.unstable_now())}),100)}if("object"==typeof performance&&"function"==typeof performance.now){var O=performance;t.unstable_now=function(){return O.now()}}else t.unstable_now=function(){return g.now()};var S,b,D,T=null;if(("undefined"!=typeof window||"undefined"!=typeof window)&&(T=window),T&&T._schedMock){var C=T._schedMock;S=C[0],b=C[1],D=C[2],t.unstable_now=C[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var R=null,I=function(e){if(null!==R)try{R(e)}finally{R=null}};S=function(e){null!==R?setTimeout(S,0,e):(R=e,setTimeout(I,0,!1))},b=function(){R=null},D=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof A&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var N=null,w=!1,k=-1,x=!1,L=!1,M=0,P=33,F=33;D=function(){return M<=t.unstable_now()};var j=new MessageChannel,B=j.port2;j.port1.onmessage=function(){w=!1;var e=N,n=k;N=null,k=-1;var r=t.unstable_now(),i=!1;if(0>=M-r){if(!(-1!==n&&n<=r))return x||(x=!0,y(U)),N=e,void(k=n);i=!0}if(null!==e){L=!0;try{e(i)}finally{L=!1}}};var U=function(e){if(null!==N){y(U);var t=e-M+F;t<F&&P<F?(8>t&&(t=8),F=t<P?P:t):P=t,M=e+F,w||(w=!0,B.postMessage(void 0))}else x=!1};S=function(e,t){N=e,k=t,L||0>t?B.postMessage(void 0):x||(x=!0,y(U))},b=function(){N=null,w=!1,k=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=o,i=s;o=e,s=t.unstable_now();try{return n()}finally{o=r,s=i,d()}},t.unstable_next=function(e){switch(o){case 1:case 2:case 3:var n=3;break;default:n=o}var r=o,i=s;o=n,s=t.unstable_now();try{return e()}finally{o=r,s=i,d()}},t.unstable_scheduleCallback=function(e,n){var i=-1!==s?s:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=i+n.timeout;else switch(o){case 1:n=i+-1;break;case 2:n=i+250;break;case 5:n=i+1073741823;break;case 4:n=i+1e4;break;default:n=i+5e3}if(e={callback:e,priorityLevel:o,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,l();else{i=null;var a=r;do{if(a.expirationTime>n){i=a;break}a=a.next}while(a!==r);null===i?i=r:i===r&&(r=e,l()),(n=i.previous).next=i.previous=e,e.next=i,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=o;return function(){var r=o,i=s;o=n,s=t.unstable_now();try{return e.apply(this,arguments)}finally{o=r,s=i,d()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!i&&(null!==r&&r.expirationTime<a||D())},t.unstable_continueExecution=function(){null!==r&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}},function(e,t){var n=[],r=function(e){return void 0===e},i=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,o=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,s=new RegExp("^(rgb|hsl|hsv)a?\\("+i.source+","+i.source+","+i.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");function a(e){if(Array.isArray(e)){if("string"==typeof e[0]&&"function"==typeof a[e[0]])return new a[e[0]](e.slice(1,e.length));if(4===e.length)return new a.RGB(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}else if("string"==typeof e){var t=e.toLowerCase();a.namedColors[t]&&(e="#"+a.namedColors[t]),"transparent"===t&&(e="rgba(0,0,0,0)");var n=e.match(s);if(n){var i=n[1].toUpperCase(),u=r(n[8])?n[8]:parseFloat(n[8]),c="H"===i[0],l=n[3]?100:c?360:255,h=n[5]||c?100:255,d=n[7]||c?100:255;if(r(a[i]))throw new Error("color."+i+" is not installed.");return new a[i](parseFloat(n[2])/l,parseFloat(n[4])/h,parseFloat(n[6])/d,u)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var f=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(f)return new a.RGB(parseInt(f[1],16)/255,parseInt(f[2],16)/255,parseInt(f[3],16)/255);if(a.CMYK){var p=e.match(new RegExp("^cmyk\\("+o.source+","+o.source+","+o.source+","+o.source+"\\)$","i"));if(p)return new a.CMYK(parseFloat(p[1])/100,parseFloat(p[2])/100,parseFloat(p[3])/100,parseFloat(p[4])/100)}}else if("object"==typeof e&&e.isColor)return e;return!1}a.namedColors={},a.installColorSpace=function(e,t,i){a[e]=function(n){var r=Array.isArray(n)?n:arguments;t.forEach((function(n,i){var o=r[i];if("alpha"===n)this._alpha=isNaN(o)||o>1?1:o<0?0:o;else{if(isNaN(o))throw new Error("["+e+"]: Invalid color: ("+t.join(",")+")");"hue"===n?this._hue=o<0?o-Math.floor(o):o%1:this["_"+n]=o<0?0:o>1?1:o}}),this)},a[e].propertyNames=t;var o=a[e].prototype;for(var s in["valueOf","hex","hexa","css","cssa"].forEach((function(t){o[t]=o[t]||("RGB"===e?o.hex:function(){return this.rgb()[t]()})})),o.isColor=!0,o.equals=function(n,i){r(i)&&(i=1e-10),n=n[e.toLowerCase()]();for(var o=0;o<t.length;o+=1)if(Math.abs(this["_"+t[o]]-n["_"+t[o]])>i)return!1;return!0},o.toJSON=function(){return[e].concat(t.map((function(e){return this["_"+e]}),this))},i)if(i.hasOwnProperty(s)){var u=s.match(/^from(.*)$/);u?a[u[1].toUpperCase()].prototype[e.toLowerCase()]=i[s]:o[s]=i[s]}function c(e,t){var n={};for(var r in n[t.toLowerCase()]=function(){return this.rgb()[t.toLowerCase()]()},a[t].propertyNames.forEach((function(e){var r="black"===e?"k":e.charAt(0);n[e]=n[r]=function(n,r){return this[t.toLowerCase()]()[e](n,r)}})),n)n.hasOwnProperty(r)&&void 0===a[e].prototype[r]&&(a[e].prototype[r]=n[r])}return o[e.toLowerCase()]=function(){return this},o.toString=function(){return"["+e+" "+t.map((function(e){return this["_"+e]}),this).join(", ")+"]"},t.forEach((function(e){var n="black"===e?"k":e.charAt(0);o[e]=o[n]=function(n,r){return void 0===n?this["_"+e]:r?new this.constructor(t.map((function(t){return this["_"+t]+(e===t?n:0)}),this)):new this.constructor(t.map((function(t){return e===t?n:this["_"+t]}),this))}})),n.forEach((function(t){c(e,t),c(t,e)})),n.push(e),a},a.pluginList=[],a.use=function(e){return-1===a.pluginList.indexOf(e)&&(this.pluginList.push(e),e(a)),a},a.installMethod=function(e,t){return n.forEach((function(n){a[n].prototype[e]=t})),this},a.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var e=(65536*Math.round(255*this._red)+256*Math.round(255*this._green)+Math.round(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this._alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+")"},cssa:function(){return"rgba("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+","+this._alpha+")"}}),e.exports=a},function(e,t,n){e.exports=function(e){e.use(n(137)),e.installColorSpace("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var t=function(e){var t=Math.pow(e,3);return t>.008856?t:(e-16/116)/7.87},n=(this._l+16)/116,r=this._a/500+n,i=n-this._b/200;return new e.XYZ(95.047*t(r),100*t(n),108.883*t(i),this._alpha)}})}},function(e,t){e.exports=function(e){e.installColorSpace("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new e.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var t=this._red,n=this._green,r=this._blue,i=1-t,o=1-n,s=1-r,a=1;return t||n||r?(i=(i-(a=Math.min(i,Math.min(o,s))))/(1-a),o=(o-a)/(1-a),s=(s-a)/(1-a)):a=1,new e.CMYK(i,o,s,a,this._alpha)}})}},function(e,t){e.exports=function(e){e.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}}},function(e,t){e.exports=function(e){e.installMethod("clearer",(function(e){return this.alpha(isNaN(e)?-.1:-e,!0)}))}},function(e,t,n){e.exports=function(e){e.use(n(139)),e.installMethod("contrast",(function(e){var t=this.luminance(),n=e.luminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)}))}},function(e,t,n){e.exports=function(e){e.use(n(70)),e.installMethod("darken",(function(e){return this.lightness(isNaN(e)?-.1:-e,!0)}))}},function(e,t,n){e.exports=function(e){e.use(n(70)),e.installMethod("desaturate",(function(e){return this.saturation(isNaN(e)?-.1:-e,!0)}))}},function(e,t){e.exports=function(e){function t(){var t=this.rgb(),n=.3*t._red+.59*t._green+.11*t._blue;return new e.RGB(n,n,n,t._alpha)}e.installMethod("greyscale",t).installMethod("grayscale",t)}},function(e,t,n){e.exports=function(e){e.use(n(140)),e.installMethod("isLight",(function(){return!this.isDark()}))}},function(e,t,n){e.exports=function(e){e.use(n(70)),e.installMethod("lighten",(function(e){return this.lightness(isNaN(e)?.1:e,!0)}))}},function(e,t){e.exports=function(e){e.installMethod("mix",(function(t,n){t=e(t).rgb();var r=2*(n=1-(isNaN(n)?.5:n))-1,i=this._alpha-t._alpha,o=((r*i==-1?r:(r+i)/(1+r*i))+1)/2,s=1-o,a=this.rgb();return new e.RGB(a._red*o+t._red*s,a._green*o+t._green*s,a._blue*o+t._blue*s,a._alpha*n+t._alpha*(1-n))}))}},function(e,t){e.exports=function(e){e.installMethod("negate",(function(){var t=this.rgb();return new e.RGB(1-t._red,1-t._green,1-t._blue,this._alpha)}))}},function(e,t){e.exports=function(e){e.installMethod("opaquer",(function(e){return this.alpha(isNaN(e)?.1:e,!0)}))}},function(e,t,n){e.exports=function(e){e.use(n(70)),e.installMethod("rotate",(function(e){return this.hue((e||0)/360,!0)}))}},function(e,t,n){e.exports=function(e){e.use(n(70)),e.installMethod("saturate",(function(e){return this.saturation(isNaN(e)?.1:e,!0)}))}},function(e,t){e.exports=function(e){e.installMethod("toAlpha",(function(e){var t=this.rgb(),n=e(e).rgb(),r=new e.RGB(0,0,0,t._alpha),i=["_red","_green","_blue"];return i.forEach((function(e){t[e]<1e-10?r[e]=t[e]:t[e]>n[e]?r[e]=(t[e]-n[e])/(1-n[e]):t[e]>n[e]?r[e]=(n[e]-t[e])/n[e]:r[e]=0})),r._red>r._green?r._red>r._blue?t._alpha=r._red:t._alpha=r._blue:r._green>r._blue?t._alpha=r._green:t._alpha=r._blue,t._alpha<1e-10||(i.forEach((function(e){t[e]=(t[e]-n[e])/t._alpha+n[e]})),t._alpha*=r._alpha),t}))}},function(e,t){e.exports={ExportedVars:{minimumInboxWidth:"640px",hubChatItemHeight:"67px",defaultChatWidth:"420px",defaultHubWidth:"300px",defaultSpaceBetweenHubAndChat:"20px"}}},,,,function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=n(80).document&&document.documentElement},function(e,t,n){var r=n(108),i=n(80).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(80),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(99),i=n(90),o=n(149);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l;return!e&&-1}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(146);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(135),i=n(66)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(305),i=n(66)("iterator"),o=n(135);e.exports=n(145).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(66)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(136),i=n(252),o=n(135),s=n(99);e.exports=n(157)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(65),i=n(107),o=n(254),s=n(123),a=n(255),u=n(127),c=n(256),l=n(157),h=n(252),d=n(134)("id"),f=n(124),p=n(108),m=n(312),g=n(122),E=Object.isExtensible||p,_=g?"_s":"size",v=0,A=function(e,t){if(!p(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!f(e,d)){if(!E(e))return"F";if(!t)return"E";i(e,d,++v)}return"O"+e[d]},y=function(e,t){var n,r=A(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,i){var l=e((function(e,o){a(e,l,t),e._i=r.create(null),e._f=void 0,e._l=void 0,e[_]=0,null!=o&&c(o,n,e[i],e)}));return o(l.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[_]=0},delete:function(e){var t=this,n=y(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[_]--}return!!n},forEach:function(e){for(var t,n=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!y(this,e)}}),g&&r.setDesc(l.prototype,"size",{get:function(){return u(this[_])}}),l},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=A(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[_]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){l(e,t,(function(e,t){this._t=e,this._k=t,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?h(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,h(1))}),n?"entries":"values",!n,!0),m(t)}}},function(e,t,n){var r=n(133);e.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},function(e,t,n){var r=n(123),i=n(247),o=n(248),s=n(146),a=n(90),u=n(249);e.exports=function(e,t,n,c){var l,h,d,f=u(e),p=r(n,c,t?2:1),m=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(o(f))for(l=a(e.length);l>m;m++)t?p(s(h=e[m])[0],h[1]):p(e[m]);else for(d=f.call(e);!(h=d.next()).done;)i(d,p,h.value,t)}},function(e,t,n){"use strict";var r=n(80),i=n(45),o=n(133),s=n(254),a=n(256),u=n(255),c=n(108),l=n(98),h=n(250),d=n(150);e.exports=function(e,t,n,f,p,m){var g=r[e],E=g,_=p?"set":"add",v=E&&E.prototype,A={},y=function(e){var t=v[e];o(v,e,"delete"==e||"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof E&&(m||v.forEach&&!l((function(){(new E).entries().next()})))){var O,S=new E,b=S[_](m?{}:-0,1)!=S,D=l((function(){S.has(1)}));h((function(e){new E(e)}))||((E=t((function(t,n){u(t,E,e);var r=new g;return null!=n&&a(n,p,r[_],r),r}))).prototype=v,v.constructor=E),m||S.forEach((function(e,t){O=1/t==-1/0})),(D||O)&&(y("delete"),y("has"),p&&y("get")),(O||b)&&y(_),m&&v.clear&&delete v.clear}else E=f.getConstructor(t,e,p,_),s(E.prototype,n);return d(E,e),A[e]=E,i(i.G+i.W+i.F*(E!=g),A),m||f.setStrong(E,e,p),E}},function(e,t){
/**
 *
 *
 * @author Jerry Bendy <jerry@icewingcc.com>
 * @licence MIT
 *
 */
!function(e){"use strict";var t,n=e.URLSearchParams&&e.URLSearchParams.prototype.get?e.URLSearchParams:null,r=n&&"a=1"===new n({a:1}).toString(),i=n&&"+"===new n("s=%2B").get("s"),o=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),s=l.prototype,a=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&r&&i&&o)){s.append=function(e,t){m(this.__URLSearchParams__,e,t)},s.delete=function(e){delete this.__URLSearchParams__[e]},s.get=function(e){var t=this.__URLSearchParams__;return e in t?t[e][0]:null},s.getAll=function(e){var t=this.__URLSearchParams__;return e in t?t[e].slice(0):[]},s.has=function(e){return e in this.__URLSearchParams__},s.set=function(e,t){this.__URLSearchParams__[e]=[""+t]},s.toString=function(){var e,t,n,r,i=this.__URLSearchParams__,o=[];for(t in i)for(n=h(t),e=0,r=i[t];e<r.length;e++)o.push(n+"="+h(r[e]));return o.join("&")};var u=!!i&&n&&!r&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:u?new Proxy(n,{construct:function(e,t){return new e(new l(t[0]).toString())}}):l});var c=e.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(e,t){var n=p(this.toString());Object.getOwnPropertyNames(n).forEach((function(r){n[r].forEach((function(n){e.call(t,n,r,this)}),this)}),this)},c.sort=c.sort||function(){var e,t,n,r=p(this.toString()),i=[];for(e in r)i.push(e);for(i.sort(),t=0;t<i.length;t++)this.delete(i[t]);for(t=0;t<i.length;t++){var o=i[t],s=r[o];for(n=0;n<s.length;n++)this.append(o,s[n])}},c.keys=c.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},c.values=c.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},c.entries=c.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},a&&(c[e.Symbol.iterator]=c[e.Symbol.iterator]||c.entries)}function l(e){((e=e||"")instanceof URLSearchParams||e instanceof l)&&(e=e.toString()),this.__URLSearchParams__=p(e)}function h(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function d(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}function f(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return a&&(n[e.Symbol.iterator]=function(){return n}),n}function p(e){var t={};if("object"==typeof e)if(g(e))for(var n=0;n<e.length;n++){var r=e[n];if(!g(r)||2!==r.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");m(t,r[0],r[1])}else for(var i in e)e.hasOwnProperty(i)&&m(t,i,e[i]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var o=e.split("&"),s=0;s<o.length;s++){var a=o[s],u=a.indexOf("=");-1<u?m(t,d(a.slice(0,u)),d(a.slice(u+1))):a&&m(t,d(a),"")}}return t}function m(e,t,n){var r="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);t in e?e[t].push(r):e[t]=[r]}function g(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof window||"undefined"!=typeof window?window:this)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(327)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},,,,,,function(e,t,n){e.exports=n(325)},function(e,t,n){const{EventTarget:r,defineEventAttribute:i}=n(345),{detect:o}=n(346),s=o(),a=window.AudioContext||window.webkitAudioContext;class u extends r{constructor(e,t={},n={}){const{mimeType:r,audioBitsPerSecond:i,videoBitsPerSecond:o,bitsPerSecond:a}=t,{encoderWorkerFactory:c,OggOpusEncoderWasmPath:l,WebMOpusEncoderWasmPath:h}=n;if(super(),this._stream=e,this._state="inactive",this._mimeType=r||"",this._audioBitsPerSecond=i||a,this.workerState="inactive",!u.isTypeSupported(this._mimeType))throw new TypeError("invalid arguments, a MIME Type is not supported");switch(u._parseType(this._mimeType).subtype){case"wave":case"wav":this._mimeType="audio/wave";break;case"webm":this._mimeType="audio/webm";break;case"ogg":this._mimeType="audio/ogg";break;default:switch(s&&s.name){case"chrome":this._mimeType="audio/webm";break;case"firefox":this._mimeType="audio/ogg";break;case"edge":this._mimeType="audio/webm";break;case"ios":case"safari":this._mimeType="audio/wave";break;default:this._mimeType="audio/webm"}}switch(this._mimeType){case"audio/wave":this._wasmPath="";break;case"audio/webm":this._wasmPath=h||"";break;case"audio/ogg":this._wasmPath=l||"";break;default:throw new Error(`Internal Error: Unexpected MIME Type: ${this._mimeType}`)}let d="";document.currentScript?d=document.currentScript.src:self.location&&(d=self.location.href),d=d.substr(0,d.lastIndexOf("/"))+"/encoderWorker.umd.js","function"==typeof u.encoderWorker&&(d=URL.createObjectURL(new Blob([`(${u.encoderWorker})()`]))),this._workerFactory="function"==typeof c?c:e=>new Worker(d),this._spawnWorker()}get stream(){return this._stream}get mimeType(){return this._mimeType}get state(){return this._state}get videoBitsPerSecond(){}get audioBitsPerSecond(){return this._audioBitsPerSecond}_spawnWorker(){this.worker=this._workerFactory(),this.worker.onmessage=e=>this._onmessageFromWorker(e),this.worker.onerror=e=>this._onerrorFromWorker(e),this._postMessageToWorker("loadEncoder",{mimeType:this._mimeType,wasmPath:this._wasmPath})}_postMessageToWorker(e,t={}){switch(e){case"loadEncoder":let{mimeType:n,wasmPath:r}=t;this.worker.postMessage({command:e,mimeType:n,wasmPath:r});break;case"init":let{sampleRate:i,channelCount:o,bitsPerSecond:s}=t;this.worker.postMessage({command:e,sampleRate:i,channelCount:o,bitsPerSecond:s}),this.workerState="encoding",this.source.connect(this.processor),this.processor.connect(this.context.destination);let a=new window.Event("start");this.dispatchEvent(a);break;case"pushInputData":let{channelBuffers:u,length:c,duration:l}=t;this.worker.postMessage({command:e,channelBuffers:u,length:c,duration:l});break;case"getEncodedData":case"done":this.worker.postMessage({command:e});break;default:throw new Error("Internal Error: Incorrect postMessage requested.")}}_onmessageFromWorker(e){const{command:t,buffers:n}=e.data;let r;switch(t){case"readyToInit":const{sampleRate:e,channelCount:i}=this;this.workerState="readyToInit","recording"===this.state&&this._postMessageToWorker("init",{sampleRate:e,channelCount:i,bitsPerSecond:this.audioBitsPerSecond});break;case"encodedData":case"lastEncodedData":let o=new Blob(n,{type:this._mimeType});r=new window.Event("dataavailable"),r.data=o,this.dispatchEvent(r),"lastEncodedData"===t&&(r=new window.Event("stop"),this.dispatchEvent(r),this.workerState="closed")}}_onerrorFromWorker(e){this.source.disconnect(),this.processor.disconnect(),this.worker.terminate(),this.workerState="closed";let t=["FileName: "+e.filename,"LineNumber: "+e.lineno,"Message: "+e.message].join(" - "),n=new window.Event("error");n.name="UnknownError",n.message=t,this.dispatchEvent(n)}_enableAudioProcessCallback(e){let t=0;this.processor.onaudioprocess=n=>{const{inputBuffer:r,playbackTime:i}=n,{sampleRate:o,length:s,duration:a,numberOfChannels:u}=r,c=new Array(u);for(let e=0;e<u;e++)c[e]=r.getChannelData(e);const l={channelBuffers:c,length:s,duration:a};this._postMessageToWorker("pushInputData",l),t+=a,t>=e&&(this._postMessageToWorker("getEncodedData"),t=0)}}start(e=Number.MAX_SAFE_INTEGER){if("inactive"!==this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must be inactive.");if(e<0)throw new TypeError("invalid arguments, timeslice should be 0 or higher.");e/=1e3,"closed"===this.workerState&&this._spawnWorker(),this.context=new a;let t=this.stream.getAudioTracks();if(!t[0])throw new Error("DOMException: UnkownError, media track not found.");if(this.channelCount=t[0].getSettings().channelCount||1,this.sampleRate=this.context.sampleRate,this.source=this.context.createMediaStreamSource(this.stream),this.processor=this.context.createScriptProcessor(4096,this.channelCount,this.channelCount),this._state="recording",this._enableAudioProcessCallback(e),"readyToInit"===this.workerState){const{sampleRate:e,channelCount:t}=this;this._postMessageToWorker("init",{sampleRate:e,channelCount:t,bitsPerSecond:this.audioBitsPerSecond})}}stop(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.disconnect(),this.processor.disconnect(),this.context.close(),this._postMessageToWorker("done"),this._state="inactive"}pause(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.disconnect(),this.processor.disconnect();let e=new window.Event("pause");this.dispatchEvent(e),this._state="paused"}resume(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.connect(this.processor),this.processor.connect(this.context.destination);let e=new window.Event("resume");this.dispatchEvent(e),this._state="recording"}requestData(){if("inactive"===this.state)throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this._postMessageToWorker("getEncodedData")}static isTypeSupported(e){if("string"==typeof e&&!e)return!0;try{var{type:t,subtype:n,codec:r}=u._parseType(e)}catch(e){return!1}if("audio"!==t||"ogg"!==n&&"webm"!==n&&"wave"!==n&&"wav"!==n)return!1;switch(n){case"ogg":case"webm":if("opus"!==r&&r)return!1;break;case"wave":case"wav":if(r)return!1}return!0}static _parseType(e){try{const i=/^(\w+)\/(\w+)(;\s*codecs=(\w+))?$/;var[,t,n,,r]=e.match(i)}catch(t){return"string"!=typeof e||e?null:{type:"",subtype:"",codec:""}}return{type:t,subtype:n,codec:r}}}var c;["start","stop","dataavailable","pause","resume","error"].forEach((e=>i(u.prototype,e))),s&&"edge"===s.name&&(c=Worker.prototype.postMessage,Worker.prototype.postMessage=function(e,t=null){c.apply(this,[e])}),e.exports=u},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var o;try{o=new i.Blob([e])}catch(t){(o=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),o=o.getBlob()}var s=i.URL||i.webkitURL,a=s.createObjectURL(o),u=new i[t](a,n);return s.revokeObjectURL(a),u}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},,,,,,,,,,function(e,t,n){n(410),n(258),e.exports=n(406)},function(e,t,n){n(239),n(280),n(281),n(283),n(287),n(289),n(291),n(292),n(293),n(294),n(295),n(297),n(300),n(302),n(303),n(304),n(306),n(251),n(307),n(309),n(310),n(311),n(313),n(314),n(315),n(317),n(319),n(258),n(320)},function(e,t){!function(t){"use strict";var n,r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.toStringTag||"@@toStringTag",a="object"==typeof e,u=t.regeneratorRuntime;if(u)a&&(e.exports=u);else{(u=t.regeneratorRuntime=a?e.exports:{}).wrap=m;var c="suspendedStart",l="suspendedYield",h="executing",d="completed",f={},p=v.prototype=E.prototype;_.prototype=p.constructor=v,v.constructor=_,v[s]=_.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(p),e},u.awrap=function(e){return new y(e)},A(O.prototype),u.async=function(e,t,n,r){var i=new O(m(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(p),p[o]=function(){return this},p[s]="Generator",p.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?this.next=o.finallyLoc:this.complete(s),f},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},f}}}function m(e,t,r,i){var o=t&&t.prototype instanceof E?t:E,s=Object.create(o.prototype),a=new D(i||[]);return s._invoke=function(e,t,r){var i=c;return function(o,s){if(i===h)throw new Error("Generator is already running");if(i===d){if("throw"===o)throw s;return C()}for(;;){var a=r.delegate;if(a){if("return"===o||"throw"===o&&a.iterator[o]===n){r.delegate=null;var u=a.iterator.return;if(u)if("throw"===(p=g(u,a.iterator,s)).type){o="throw",s=p.arg;continue}if("return"===o)continue}var p;if("throw"===(p=g(a.iterator[o],a.iterator,s)).type){r.delegate=null,o="throw",s=p.arg;continue}if(o="next",s=n,!(m=p.arg).done)return i=l,m;r[a.resultName]=m.value,r.next=a.nextLoc,r.delegate=null}if("next"===o)r.sent=r._sent=s;else if("throw"===o){if(i===c)throw i=d,s;r.dispatchException(s)&&(o="next",s=n)}else"return"===o&&r.abrupt("return",s);if(i=h,"normal"===(p=g(e,t,r)).type){i=r.done?d:l;var m={value:p.arg,done:r.done};if(p.arg!==f)return m;r.delegate&&"next"===o&&(s=n)}else"throw"===p.type&&(i=d,o="throw",s=p.arg)}}}(e,r,a),s}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function _(){}function v(){}function A(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){this.arg=e}function O(e){function t(n,r,i,o){var s=g(e[n],e,r);if("throw"!==s.type){var a=s.arg,u=a.value;return u instanceof y?Promise.resolve(u.arg).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(u).then((function(e){a.value=e,i(a)}),o)}o(s.arg)}var n;"object"==typeof process&&process.domain&&(t=process.domain.bind(t)),this._invoke=function(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return s.next=s}}return{next:C}}function C(){return{value:n,done:!0}}}("object"==typeof window||"object"==typeof window?window:"object"==typeof self?self:this)},function(e,t,n){"use strict";var r,i=n(65),o=n(45),s=n(122),a=n(132),u=n(241),c=n(242),l=n(124),h=n(125),d=n(243),f=n(98),p=n(146),m=n(240),g=n(108),E=n(126),_=n(99),v=n(148),A=n(149),y=n(90),O=n(147),S=n(134)("__proto__"),b=n(155),D=n(245)(!1),T=Object.prototype,C=Array.prototype,R=C.slice,I=C.join,N=i.setDesc,w=i.getDesc,k=i.setDescs,x={};s||(r=!f((function(){return 7!=N(c("div"),"a",{get:function(){return 7}}).a})),i.setDesc=function(e,t,n){if(r)try{return N(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(p(e)[t]=n.value),e},i.getDesc=function(e,t){if(r)try{return w(e,t)}catch(e){}if(l(e,t))return a(!T.propertyIsEnumerable.call(e,t),e[t])},i.setDescs=k=function(e,t){p(e);for(var n,r=i.getKeys(t),o=r.length,s=0;o>s;)i.setDesc(e,n=r[s++],t[n]);return e}),o(o.S+o.F*!s,"Object",{getOwnPropertyDescriptor:i.getDesc,defineProperty:i.setDesc,defineProperties:k});var L="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),M=L.concat("length","prototype"),P=L.length,F=function(){var e,t=c("iframe"),n=P;for(t.style.display="none",u.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),F=e.F;n--;)delete F.prototype[L[n]];return F()},j=function(e,t){return function(n){var r,i=_(n),o=0,s=[];for(r in i)r!=S&&l(i,r)&&s.push(r);for(;t>o;)l(i,r=e[o++])&&(~D(s,r)||s.push(r));return s}},B=function(){};o(o.S,"Object",{getPrototypeOf:i.getProto=i.getProto||function(e){return e=E(e),l(e,S)?e[S]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?T:null},getOwnPropertyNames:i.getNames=i.getNames||j(M,M.length),create:i.create=i.create||function(e,t){var n;return null!==e?(B.prototype=p(e),n=new B,B.prototype=null,n[S]=e):n=F(),void 0===t?n:k(n,t)},keys:i.getKeys=i.getKeys||j(L,P)});var U=function(e,t,n){if(!(t in x)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";x[t]=Function("F,a","return new F("+r.join(",")+")")}return x[t](e,n)};o(o.P,"Function",{bind:function(e){var t=m(this),n=R.call(arguments,1),r=function(){var i=n.concat(R.call(arguments));return this instanceof r?U(t,i.length,i):d(t,i,e)};return g(t.prototype)&&(r.prototype=t.prototype),r}}),o(o.P+o.F*f((function(){u&&R.call(u)})),"Array",{slice:function(e,t){var n=y(this.length),r=h(this);if(t=void 0===t?n:t,"Array"==r)return R.call(this,e,t);for(var i=A(e,n),o=A(t,n),s=y(o-i),a=Array(s),u=0;u<s;u++)a[u]="String"==r?this.charAt(i+u):this[i+u];return a}}),o(o.P+o.F*(O!=Object),"Array",{join:function(e){return I.call(O(this),void 0===e?",":e)}}),o(o.S,"Array",{isArray:n(156)});var H=function(e){return function(t,n){m(t);var r=O(this),i=y(r.length),o=e?i-1:0,s=e?-1:1;if(arguments.length<2)for(;;){if(o in r){n=r[o],o+=s;break}if(o+=s,e?o<0:i<=o)throw TypeError("Reduce of empty array with no initial value")}for(;e?o>=0:i>o;o+=s)o in r&&(n=t(n,r[o],o,this));return n}},z=function(e){return function(t){return e(this,t,arguments[1])}};o(o.P,"Array",{forEach:i.each=i.each||z(b(0)),map:z(b(1)),filter:z(b(2)),some:z(b(3)),every:z(b(4)),reduce:H(!1),reduceRight:H(!0),indexOf:z(D),lastIndexOf:function(e,t){var n=_(this),r=y(n.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,v(t))),i<0&&(i=y(r+i));i>=0;i--)if(i in n&&n[i]===e)return i;return-1}}),o(o.S,"Date",{now:function(){return+new Date}});var V=function(e){return e>9?e:"0"+e};o(o.P+o.F*(f((function(){return"0385-07-25T07:06:39.999Z"!=new Date(-50000000000001).toISOString()}))||!f((function(){new Date(NaN).toISOString()}))),"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+V(e.getUTCMonth()+1)+"-"+V(e.getUTCDate())+"T"+V(e.getUTCHours())+":"+V(e.getUTCMinutes())+":"+V(e.getUTCSeconds())+"."+(n>99?n:"0"+V(n))+"Z"}})},function(e,t,n){var r=n(108),i=n(156),o=n(66)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&null===(n=n[o])&&(n=void 0)),new(void 0===n?Array:n)(t)}},function(e,t,n){"use strict";var r=n(65),i=n(80),o=n(124),s=n(122),a=n(45),u=n(133),c=n(98),l=n(244),h=n(150),d=n(134),f=n(66),p=n(284),m=n(285),g=n(286),E=n(156),_=n(146),v=n(99),A=n(132),y=r.getDesc,O=r.setDesc,S=r.create,b=m.get,D=i.Symbol,T=i.JSON,C=T&&T.stringify,R=!1,I=f("_hidden"),N=r.isEnum,w=l("symbol-registry"),k=l("symbols"),x="function"==typeof D,L=Object.prototype,M=s&&c((function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=y(L,t);r&&delete L[t],O(e,t,n),r&&e!==L&&O(L,t,r)}:O,P=function(e){var t=k[e]=S(D.prototype);return t._k=e,s&&R&&M(L,e,{configurable:!0,set:function(t){o(this,I)&&o(this[I],e)&&(this[I][e]=!1),M(this,e,A(1,t))}}),t},F=function(e){return"symbol"==typeof e},j=function(e,t,n){return n&&o(k,t)?(n.enumerable?(o(e,I)&&e[I][t]&&(e[I][t]=!1),n=S(n,{enumerable:A(0,!1)})):(o(e,I)||O(e,I,A(1,{})),e[I][t]=!0),M(e,t,n)):O(e,t,n)},B=function(e,t){_(e);for(var n,r=g(t=v(t)),i=0,o=r.length;o>i;)j(e,n=r[i++],t[n]);return e},U=function(e,t){return void 0===t?S(e):B(S(e),t)},H=function(e){var t=N.call(this,e);return!(t||!o(this,e)||!o(k,e)||o(this,I)&&this[I][e])||t},z=function(e,t){var n=y(e=v(e),t);return!n||!o(k,t)||o(e,I)&&e[I][t]||(n.enumerable=!0),n},V=function(e){for(var t,n=b(v(e)),r=[],i=0;n.length>i;)o(k,t=n[i++])||t==I||r.push(t);return r},G=function(e){for(var t,n=b(v(e)),r=[],i=0;n.length>i;)o(k,t=n[i++])&&r.push(k[t]);return r},$=c((function(){var e=D();return"[null]"!=C([e])||"{}"!=C({a:e})||"{}"!=C(Object(e))}));x||(u((D=function(){if(F(this))throw TypeError("Symbol is not a constructor");return P(d(arguments.length>0?arguments[0]:void 0))}).prototype,"toString",(function(){return this._k})),F=function(e){return e instanceof D},r.create=U,r.isEnum=H,r.getDesc=z,r.setDesc=j,r.setDescs=B,r.getNames=m.get=V,r.getSymbols=G,s&&!n(246)&&u(L,"propertyIsEnumerable",H,!0));var Y={for:function(e){return o(w,e+="")?w[e]:w[e]=D(e)},keyFor:function(e){return p(w,e)},useSetter:function(){R=!0},useSimple:function(){R=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),(function(e){var t=f(e);Y[e]=x?t:P(t)})),R=!0,a(a.G+a.W,{Symbol:D}),a(a.S,"Symbol",Y),a(a.S+a.F*!x,"Object",{create:U,defineProperty:j,defineProperties:B,getOwnPropertyDescriptor:z,getOwnPropertyNames:V,getOwnPropertySymbols:G}),T&&a(a.S+a.F*(!x||$),"JSON",{stringify:function(e){if(void 0!==e&&!F(e)){for(var t,n,r=[e],i=1,o=arguments;o.length>i;)r.push(o[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&E(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!F(t))return t}),r[1]=t,C.apply(T,r)}}}),h(D,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(e,t,n){var r=n(65),i=n(99);e.exports=function(e,t){for(var n,o=i(e),s=r.getKeys(o),a=s.length,u=0;a>u;)if(o[n=s[u++]]===t)return n}},function(e,t,n){var r=n(99),i=n(65).getNames,o={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.get=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(65);e.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var i,o=n(e),s=r.isEnum,a=0;o.length>a;)s.call(e,i=o[a++])&&t.push(i);return t}},function(e,t,n){var r=n(45);r(r.S+r.F,"Object",{assign:n(288)})},function(e,t,n){var r=n(65),i=n(126),o=n(147);e.exports=n(98)((function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(e){n[e]=e})),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i}))?function(e,t){for(var n=i(e),s=arguments,a=s.length,u=1,c=r.getKeys,l=r.getSymbols,h=r.isEnum;a>u;)for(var d,f=o(s[u++]),p=l?c(f).concat(l(f)):c(f),m=p.length,g=0;m>g;)h.call(f,d=p[g++])&&(n[d]=f[d]);return n}:Object.assign},function(e,t,n){var r=n(126);n(290)("keys",(function(e){return function(t){return e(r(t))}}))},function(e,t,n){var r=n(45),i=n(145),o=n(98);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(e,t,n){var r=n(65).setDesc,i=n(132),o=n(124),s=Function.prototype,a=/^\s*function ([^ (]*)/,u="name";u in s||n(122)&&r(s,u,{configurable:!0,get:function(){var e=(""+this).match(a),t=e?e[1]:"";return o(this,u)||r(this,u,i(5,t)),t}})},function(e,t,n){var r=n(45);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(45),i=n(149),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments,s=r.length,a=0;s>a;){if(t=+r[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(45),i=n(99),o=n(90);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments,s=r.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<s&&a.push(String(r[u]));return a.join("")}})},function(e,t,n){"use strict";n(296)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){var r=n(45),i=n(127),o=n(98),s="\t\n\v\f\r \u2028\u2029\ufeff",a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(e,t){var n={};n[e]=t(h),r(r.P+r.F*o((function(){return!!s[e]()||""!=""[e]()})),"String",n)},h=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t,n){"use strict";var r=n(298)(!0);n(157)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(148),i=n(127);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(65),i=n(132),o=n(150),s={};n(107)(s,n(66)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r.create(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(45),i=n(90),o=n(158),s="endsWith",a="".endsWith;r(r.P+r.F*n(159)(s),"String",{endsWith:function(e){var t=o(this,e,s),n=arguments,r=n.length>1?n[1]:void 0,u=i(t.length),c=void 0===r?u:Math.min(i(r),u),l=String(e);return a?a.call(t,l,c):t.slice(c-l.length,c)===l}})},function(e,t,n){var r=n(108),i=n(125),o=n(66)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(45),i=n(158),o="includes";r(r.P+r.F*n(159)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(45),i=n(90),o=n(158),s="startsWith",a="".startsWith;r(r.P+r.F*n(159)(s),"String",{startsWith:function(e){var t=o(this,e,s),n=arguments,r=i(Math.min(n.length>1?n[1]:void 0,t.length)),u=String(e);return a?a.call(t,u,r):t.slice(r,r+u.length)===u}})},function(e,t,n){"use strict";var r=n(123),i=n(45),o=n(126),s=n(247),a=n(248),u=n(90),c=n(249);i(i.S+i.F*!n(250)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,l,h=o(e),d="function"==typeof this?this:Array,f=arguments,p=f.length,m=p>1?f[1]:void 0,g=void 0!==m,E=0,_=c(h);if(g&&(m=r(m,p>2?f[2]:void 0,2)),null==_||d==Array&&a(_))for(n=new d(t=u(h.length));t>E;E++)n[E]=g?m(h[E],E):h[E];else for(l=_.call(h),n=new d;!(i=l.next()).done;E++)n[E]=g?s(l,m,[i.value,E],!0):i.value;return n.length=E,n}})},function(e,t,n){var r=n(125),i=n(66)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var r=n(45);r(r.S+r.F*n(98)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments,n=t.length,r=new("function"==typeof this?this:Array)(n);n>e;)r[e]=t[e++];return r.length=n,r}})},function(e,t,n){var r=n(45);r(r.P,"Array",{fill:n(308)}),n(136)("fill")},function(e,t,n){"use strict";var r=n(126),i=n(149),o=n(90);e.exports=[].fill||function(e){for(var t=r(this),n=o(t.length),s=arguments,a=s.length,u=i(a>1?s[1]:void 0,n),c=a>2?s[2]:void 0,l=void 0===c?n:i(c,n);l>u;)t[u++]=e;return t}},function(e,t,n){"use strict";var r=n(45),i=n(155)(5),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(136)(o)},function(e,t,n){"use strict";var r=n(45),i=n(155)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(136)(o)},function(e,t,n){"use strict";var r=n(253);n(257)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(80),i=n(65),o=n(122),s=n(66)("species");e.exports=function(e){var t=r[e];o&&t&&!t[s]&&i.setDesc(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(253);n(257)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(45),i=n(245)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(136)("includes")},function(e,t,n){var r=n(45),i=n(316)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(65),i=n(99),o=r.isEnum;e.exports=function(e){return function(t){for(var n,s=i(t),a=r.getKeys(s),u=a.length,c=0,l=[];u>c;)o.call(s,n=a[c++])&&l.push(e?[n,s[n]]:s[n]);return l}}},function(e,t,n){var r=n(45),i=n(318);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r,i,o,s=n(123),a=n(243),u=n(241),c=n(242),l=n(80),h=l.process,d=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,m=0,g={},E="onreadystatechange",_=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){_.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete g[e]},"process"==n(125)(h)?r=function(e){h.nextTick(s(_,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=v,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):r=E in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:d,clear:f}},function(e,t,n){n(251);var r=n(80),i=n(107),o=n(135),s=n(66)("iterator"),a=r.NodeList,u=r.HTMLCollection,c=a&&a.prototype,l=u&&u.prototype,h=o.NodeList=o.HTMLCollection=o.Array;c&&!c[s]&&i(c,s,h),l&&!l[s]&&i(l,s,h)},function(e,t,n){"use strict";n.r(t),Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){(function(){!function(e){"use strict";if(!e.fetch){u.prototype.append=function(e,t){e=s(e),t=a(t);var n=this.map[e];n||(n=[],this.map[e]=n),n.push(t)},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){var t=this.map[s(e)];return t?t[0]:null},u.prototype.getAll=function(e){return this.map[s(e)]||[]},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=[a(t)]},u.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach((function(n){this.map[n].forEach((function(r){e.call(t,r,n,this)}),this)}),this)};var t="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),n="FormData"in e,r="ArrayBuffer"in e,i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},d.call(f.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var o=[301,302,303,307,308];g.redirect=function(e,t){if(-1===o.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=u,e.Request=f,e.Response=g,e.fetch=function(e,n){return new Promise((function(r,i){var o;o=f.prototype.isPrototypeOf(e)&&!n?e:new f(e,n);var s=new XMLHttpRequest;s.onload=function(){var e=1223===s.status?204:s.status;if(e<100||e>599)i(new TypeError("Network request failed"));else{var t={status:e,statusText:s.statusText,headers:m(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},n="response"in s?s.response:s.responseText;r(new g(n,t))}},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&t&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),s.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader;return t.readAsArrayBuffer(e),l(t)}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(t&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!r||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},t?(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(h)},this.text=function(){var e,t,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,(t=new FileReader).readAsText(e),l(t);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=c(this);return e||Promise.resolve(this._bodyText)},n&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e,t){var n,r,o=(t=t||{}).body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,o||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function p(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function m(e){var t=new u;return(e.getAllResponseHeaders()||"").trim().split("\n").forEach((function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)})),t}function g(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof u?t.headers:new u(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this),e.exports=window.fetch}).call(window)},function(e,t,n){"use strict";var r=n(326);e.exports=function(){var e=n(259)("Dispatchr:dispatcher");function t(e){this.storeInstances={},this.currentAction=null,this.dispatcherInterface={getContext:function(){return e},getStore:this.getStore.bind(this),waitFor:this.waitFor.bind(this)}}return t.stores={},t.handlers={default:[]},t.registerStore=function(e){if("function"!=typeof e)throw new Error("registerStore requires a constructor as first parameter");var n=t.getStoreName(e);if(!n)throw new Error("Store is required to have a `storeName` property.");if(t.stores[n]){if(t.stores[n]===e)return;throw new Error("Store with name `"+n+"` has already been registered.")}t.stores[n]=e,e.handlers&&Object.keys(e.handlers).forEach((function(r){var i=e.handlers[r];t._registerHandler(r,n,i)}))},t.isRegistered=function(e){var n=t.getStoreName(e),r=t.stores[n];return!!r&&("function"!=typeof e||e===r)},t.getStoreName=function(e){return"string"==typeof e?e:e.storeName},t._registerHandler=function(e,n,r){return t.handlers[e]=t.handlers[e]||[],t.handlers[e].push({name:t.getStoreName(n),handler:r}),t.handlers.length-1},t.prototype.getStore=function(e){var n=t.getStoreName(e);if(!this.storeInstances[n]){if(!t.stores[n])throw new Error("Store "+n+" was not registered.");this.storeInstances[n]=new t.stores[n](this.dispatcherInterface)}return this.storeInstances[n]},t.prototype.dispatch=function(n,i){if(!n)throw new Error("actionName parameter `"+n+"` is invalid.");if(this.currentAction)throw new Error("Cannot call dispatch while another dispatch is executing. Attempted to execute '"+n+"' but '"+this.currentAction.name+"' is already executing.");var o=t.handlers[n]||[],s=t.handlers.default||[];if(o.length||s.length){e("dispatching "+n,i),this.currentAction=new r(n,i);var a=this,u=o.concat(s),c={};try{u.forEach((function(e){if(!c[e.name]){var t=a.getStore(e.name);if("function"==typeof e.handler)c[e.name]=e.handler.bind(t);else{if(!t[e.handler])throw new Error(e.name+" does not have a method called "+e.handler);c[e.name]=t[e.handler].bind(t)}}})),this.currentAction.execute(c)}catch(e){throw e}finally{e("finished "+n),this.currentAction=null}}else e(n+" does not have any registered handlers")},t.prototype.dehydrate=function(){var e=this,t={};return Object.keys(e.storeInstances).forEach((function(n){var r=e.storeInstances[n];!r.dehydrate||r.shouldDehydrate&&!r.shouldDehydrate()||(t[n]=r.dehydrate())})),{stores:t}},t.prototype.rehydrate=function(e){var t=this;e.stores&&Object.keys(e.stores).forEach((function(n){var r=e.stores[n],i=t.getStore(n);i.rehydrate&&i.rehydrate(r)}))},t.prototype.waitFor=function(e,t){if(!this.currentAction)throw new Error("waitFor called even though there is no action dispatching");this.currentAction.waitFor(e,t)},t}},function(e,t,n){"use strict";var r=n(259)("Dispatchr:Action");function i(e,t){this.name=e,this.payload=t,this._handlers=null,this._isExecuting=!1,this._isCompleted=null}i.prototype.getStoreName=function(e){return"string"==typeof e?e:e.storeName},i.prototype.execute=function(e){if(this._isExecuting)throw new Error("Action is already dispatched");var t=this;this._handlers=e,this._isExecuting=!0,this._isCompleted={},Object.keys(e).forEach((function(e){t._callHandler(e)}))},i.prototype._callHandler=function(e){var t=this,n=t._handlers[e];if(!n)throw new Error(e+" does not have a handler for action "+t.name);t._isCompleted[e]||(t._isCompleted[e]=!1,r("executing handler for "+e),n(t.payload,t.name),t._isCompleted[e]=!0)},i.prototype.waitFor=function(e,t){var n=this;if(!n._isExecuting)throw new Error("waitFor called even though there is no action being executed!");Array.isArray(e)||(e=[e]),r("waiting on "+e.join(", ")),e.forEach((function(e){e=n.getStoreName(e),n._handlers[e]&&n._callHandler(e)})),t()},e.exports=i},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=s[u];n=i.call(e,o),s.splice(u,1),u--}return n})),t.formatArgs.call(e,s);var c=n.log||t.log||console.log.bind(console);c.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(328),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?a(u=e,o,"day")||a(u,i,"hour")||a(u,r,"minute")||a(u,n,"second")||u+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=".search-row {\n  margin-right: var(--emoji-padding);\n}\n.emoji-menu {\n  grid-template-columns: repeat(auto-fill, var(--total-emoji-size));\n  padding: var(--emoji-padding);\n}\n.emoji,\nbutton.emoji {\n  border-radius: 8px;\n}\n.favorites {\n  border-top-width: 1px;\n  display: var(--favorites-display, flex);\n}\n.has-visible-scrollbar .tabpanel {\n  scrollbar-color: rgba(0,0,0,0.2) transparent;\n  scrollbar-width: thin;\n}\n.has-visible-scrollbar .tabpanel:hover {\n  scrollbar-color: rgba(0,0,0,0.4) transparent;\n}\n.has-visible-scrollbar .tabpanel:active {\n  scrollbar-color: rgba(0,0,0,0.6) transparent;\n}\n.has-visible-scrollbar .tabpanel::-webkit-scrollbar {\n  width: 7px;\n  height: 7px;\n}\n.has-visible-scrollbar .tabpanel::-webkit-scrollbar-track {\n  background: transparent;\n}\n.has-visible-scrollbar .tabpanel::-webkit-scrollbar-thumb {\n  background: rgba(0,0,0,0.2);\n}\n.has-visible-scrollbar .tabpanel::-webkit-scrollbar-thumb:hover {\n  background: rgba(0,0,0,0.4);\n}\n.has-visible-scrollbar .tabpanel::-webkit-scrollbar-thumb:active {\n  background: rgba(0,0,0,0.6);\n}\ninput.search:focus {\n  border-color: var(--input-focused-border-color);\n  outline: 0;\n}\n.emoji:hover {\n  background-color: #e8ecee;\n}\n#skintone-button {\n  margin: 0 -3px 0 4px;\n}\n.custom-emoji {\n  padding: 0;\n}\n#emo-,\n#emo-,\n#emo-,\n#emo-,\n#emo- {\n  display: none;\n}\n"},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new WeakMap,i=new WeakMap;function o(e){const t=r.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function s(e,t){r.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=Object.keys(t);for(let e=0;e<n.length;++e){const t=n[e];t in this||Object.defineProperty(this,t,a(t))}}function a(e){return{get(){return o(this).event[e]},set(t){o(this).event[e]=t},configurable:!0,enumerable:!0}}function u(e){return{value(){const t=o(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function c(e){if(null==e||e===Object.prototype)return s;let t=i.get(e);return null==t&&(t=function(e,t){const n=Object.keys(t);if(0===n.length)return e;function r(t,n){e.call(this,t,n)}r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let i=0;i<n.length;++i){const o=n[i];if(!(o in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,o).value;Object.defineProperty(r.prototype,o,e?u(o):a(o))}}return r}(c(Object.getPrototypeOf(e)),e),i.set(e,t)),t}function l(e){return o(e).stopped}function h(e,t){o(e).passiveListener=t}s.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath(){const e=o(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation(){const e=o(this);"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=o(this);e.stopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault(){const e=o(this);null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):console.warn("Event#preventDefault() was called from a passive listener:",e.passiveListener)},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),i.set(window.Event.prototype,s));const d=new WeakMap;function f(e){return null!==e&&"object"==typeof e}function p(e){const t=d.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function m(e,t){Object.defineProperty(e,`on${t}`,function(e){return{get(){let t=p(this).get(e);for(;null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set(t){"function"==typeof t||f(t)||(t=null);const n=p(this);let r=null,i=n.get(e);for(;null!=i;)3===i.listenerType?null!==r?r.next=i.next:null!==i.next?n.set(e,i.next):n.delete(e):r=i,i=i.next;if(null!==t){const i={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===r?n.set(e,i):r.next=i}},configurable:!0,enumerable:!0}}(t))}function g(e){function t(){E.call(this)}t.prototype=Object.create(E.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)m(t.prototype,e[n]);return t}function E(){if(!(this instanceof E)){if(1===arguments.length&&Array.isArray(arguments[0]))return g(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return g(e)}throw new TypeError("Cannot call a class as a function")}d.set(this,new Map)}E.prototype={addEventListener(e,t,n){if(null==t)return!1;if("function"!=typeof t&&!f(t))throw new TypeError("'listener' should be a function or an object.");const r=p(this),i=f(n),o=(i?Boolean(n.capture):Boolean(n))?1:2,s={listener:t,listenerType:o,passive:i&&Boolean(n.passive),once:i&&Boolean(n.once),next:null};let a=r.get(e);if(void 0===a)return r.set(e,s),!0;let u=null;for(;null!=a;){if(a.listener===t&&a.listenerType===o)return!1;u=a,a=a.next}return u.next=s,!0},removeEventListener(e,t,n){if(null==t)return!1;const r=p(this),i=(f(n)?Boolean(n.capture):Boolean(n))?1:2;let o=null,s=r.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===i)return null!==o?o.next=s.next:null!==s.next?r.set(e,s.next):r.delete(e),!0;o=s,s=s.next}return!1},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=p(this),n=e.type;let r=t.get(n);if(null==r)return!0;const i=function(e,t){return new(c(Object.getPrototypeOf(t)))(e,t)}(this,e);let s=null;for(;null!=r;){if(r.once?null!==s?s.next=r.next:null!==r.next?t.set(n,r.next):t.delete(n):s=r,h(i,r.passive?r.listener:null),"function"==typeof r.listener)try{r.listener.call(this,i)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==r.listenerType&&"function"==typeof r.listener.handleEvent&&r.listener.handleEvent(i);if(l(i))break;r=r.next}return h(i,null),function(e,t){o(e).eventPhase=t}(i,0),function(e,t){o(e).currentTarget=t}(i,null),!i.defaultPrevented}},Object.defineProperty(E.prototype,"constructor",{value:E,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(E.prototype,window.EventTarget.prototype),t.defineEventAttribute=m,t.EventTarget=E,t.default=E,e.exports=E,e.exports.EventTarget=e.exports.default=E,e.exports.defineEventAttribute=m},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){this.name=e,this.version=t,this.os=n};t.BrowserInfo=i;var o=function(e){this.version=e,this.name="node",this.os=process.platform};t.NodeInfo=o;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=s;var a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function c(e){var t=""!==e&&a.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1);if(!t)return null;var n=t[0],o=t[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);return u?u.length<3&&(u=r(u,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-u.length))):u=[],new i(n,u.join("."),l(e))}function l(e){for(var t=0,n=u.length;t<n;t++){var r=u[t],i=r[0];if(r[1].test(e))return i}return null}function h(){return"undefined"!=typeof process&&process.version?new o(process.version.slice(1)):null}t.detect=function(e){return e?c(e):"undefined"!=typeof navigator?c(navigator.userAgent):h()},t.parseUserAgent=c,t.detectOS=l,t.getNodeVersion=h},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"54155d1870c01331c43288afd1d7c869.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(368);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDggMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF82MDVfNTAyKSI+CjxwYXRoIGQ9Ik03IDEzTDEgN0w3IDEiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNjA1XzUwMiI+CjxyZWN0IHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"6ba9154f27d539fbd49166fc827e60b7.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return e.clearRect(0,0,100,100),e.fillStyle=n,e.fillText(t,0,0),e.getImageData(0,0,1,1).data.join(",")}function i(e){const t=function(){const e=document.createElement("canvas");e.width=e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});return t.textBaseline="top",t.font='100px "Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',t.scale(.01,.01),t}(),n=r(t,e,"#fff"),i=r(t,e,"#000");return i===n&&!i.startsWith("0,0,0,")}t.polyfillCountryFlagEmojis=function(e="Twemoji Country Flags",t="https://cdn.jsdelivr.net/npm/country-flag-emoji-polyfill@0.1/dist/TwemojiCountryFlags.woff2"){if(typeof window<"u"&&i("")&&!i("")){const n=document.createElement("style");return n.textContent=`@font-face {\n      font-family: "${e}";\n      unicode-range: U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067,\n        U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F;\n      src: url('${t}') format('woff2');\n      font-display: swap;\n    }`,document.head.appendChild(n),!0}return!1}},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"createElement",(function(){return ei})),n.d(r,"default",(function(){return ti}));n(321),n(322);var i=n(2),o=n(4),s=n.n(o),a=n(0),u=n.n(a),c=(n(323),n(64)),l=n(9);function h({appLocale:e,nymLocale:t}){return l.a.decide(c.a,e,t)}h({appLocale:"en",nymLocale:"en"}).t;var d=n(17),f=n(120),p=n(7),m=n(8);const g="full",E="widget",_="popover";class v extends u.a.Component{constructor(e){super(e),this.locationChanged=e=>new Promise((t=>this.setState({entryPoint:e},t))),this.getPageProps=()=>Object.assign(Object.assign({},this.state.entryPoint.props),{controller:this.props.controller,stores:this.props.stores,ref:"page"}),this.state={entryPoint:this.props.initialEntryPoint,serverTimeOffset:0,isFirstRender:!0}}componentWillMount(){var e;const t=this._getLocalSettings().view||{};t.mode===E&&(document.body.style.overflowY="auto"),null!==(e=t.captureKeyboardEvents)&&void 0!==e||(t.captureKeyboardEvents=!1),this.stickyViewSettings=t}componentDidMount(){this.listenKeyEvent("keyup"),this.listenKeyEvent("keydown")}listenKeyEvent(e){window.addEventListener(e,(t=>{var n;const r=function(e){var t,n;const r=e;if(!r)return!1;if(/^(textarea|input|emoji-picker)$/i.test(r.tagName)||null!==(t=null==r?void 0:r.isContentEditable)&&void 0!==t&&t)return!0;return!!(null===(n=r.closest)||void 0===n?void 0:n.call(r,"emoji-picker, .text-form, .SearchBox"))}(t.target);if(this.stickyViewSettings.captureKeyboardEvents){const n={isInputFocused:r,altKey:t.altKey,code:t.code,ctrlKey:t.ctrlKey,key:t.key,location:t.location,metaKey:t.metaKey,shiftKey:t.shiftKey,repeat:t.repeat};d.a.request(e,n)}else if("keyup"===e&&!r&&window.__chatBox){const e=1===(null===(n=t.key)||void 0===n?void 0:n.length),r=t.altKey||t.ctrlKey||t.metaKey;e&&!r&&(window.__chatBox.typeText(t.key),window.__chatBox.focusMessageField())}}))}_getLocalSettings(){return this.state.entryPoint.props.location.getLocalSettings()}onWindowVisibleChange(e){return this.props.controller.onWindowVisibleChange(),d.a.request("uiBoxFocusChange",{focused:e})}_getConstContext(){const e=this.props.stores.settingsStore,t=e.getContentMasking(),n=e.getSameTabLinkRules(),r=e.getGeneralSettings(),i=e.getPermissions(),o=e.getLocale(),s=e.getFeatures(),a="https:"===location.protocol,u=h(o),c=u.t;let l=this.cachedPreparedTheme||new f.a(this.props.parsedTheme,u);this.cachedPreparedTheme=l;const d=this.stickyViewSettings.mode||g,p="geolocation"in navigator&&a;return{controller:this.props.controller,stores:this.props.stores,nav:this.props.nav,contentMasking:t,sameTabLinkRules:n,enableMentions:r.enableMentions,enableVoiceRecording:r.enableVoiceRecording,emojiReactions:i.messages.emojiReactions,theme:l,enableFileTransfers:r.enableFileTransfers&&s.includes("file_sharing"),enableLocation:p&&r.enableLocation&&s.includes("location_sharing"),enablePresence:r.enablePresence,showTypingIndicators:r.showTypingIndicators,locale:u.meta.code,unsupportedRequestedLocale:u.meta.requestedCode,t:c,sessionId:this.props.sessionId,isFirstRender:this.state.isFirstRender,serverTimeOffset:this.state.isFirstRender?0:this.state.serverTimeOffset,timeOfFirstRender:this.props.timeOfFirstRender,mode:this.stickyViewSettings.mode,isInsideCordovaApp:this.stickyViewSettings.isInsideMobileApp,showChatHeader:this.stickyViewSettings.showChatHeader,showFeedHeader:this.stickyViewSettings.showFeedHeader,searchInConv:this.stickyViewSettings.searchInConv,chatTitleMode:this.stickyViewSettings.chatTitleMode,chatSubtitleMode:this.stickyViewSettings.chatSubtitleMode,feedConversationTitleMode:this.stickyViewSettings.feedConversationTitleMode,showCloseInHeader:this.stickyViewSettings.showCloseInHeader,legacyNoChatsPage:this.stickyViewSettings.legacyNoChatsPage,timeZone:this.stickyViewSettings.timeZone,showMobileBackButton:this.stickyViewSettings.showMobileBackButton,isWidget:d===E,isPopover:d===_,isDashboardPreview:this.props.isDashboardPreview,customEmojiUrls:{display:y("display",this.stickyViewSettings.customEmojis),compose:y("compose",this.stickyViewSettings.customEmojis)}}}_getDynamicContext(){var e;const t=this._getLocalSettings(),n=t.messageField||{},r=t.referencedMessagePerConversation||{};t.referencedMessageId&&(r[this.state.entryPoint.props.conversationId]=t.referencedMessageId),void 0===n.visible&&(n.visible=!0);const i=t.feedFilter||{},o=t.messageFilter||{};return{chatHeaderState:t.chatHeaderState||"profile",highlight:t.highlight||[],messageField:n,feedFilter:i,messageFilter:o,referencedMessagePerConversation:r,tokenRefreshFailed:null!==(e=t.tokenRefreshFailed)&&void 0!==e&&e}}render(){const e=this._getConstContext(),{isWidget:t,isPopover:n,isFirstRender:r}=e,i="View is-klets"+(t?" is-widget":" not-widget")+(n?" is-popover":" not-popover")+(r?" test__is-loading":" test__is-ready"),o=u.a.createElement(this.state.entryPoint.descriptor,this.getPageProps());return u.a.createElement(p.a.Provider,{value:e},u.a.createElement(p.b.Provider,{value:this._getDynamicContext()},u.a.createElement("div",{className:i},o)))}}v.propTypes={initialEntryPoint:s.a.object.isRequired,timeOfFirstRender:s.a.number.isRequired,parsedTheme:s.a.object,controller:s.a.object.isRequired,stores:s.a.object.isRequired,sessionId:s.a.string.isRequired,nav:s.a.object.isRequired};var A=v;function y(e,t){return"compose"===e&&(t=m.b(t,(e=>!e.hidden))),m.g(t,(e=>e.url))}var O=n(14),S=n(15),b=n(114),D=n(82);class T extends D.a{constructor(e,t){super(e,t,["MeStore","UrlStore"],{chat:null,conversationId:void 0})}onChange(e,t,n,r){var o;const{conversation:s}=r.getCurrentConversationData();if(null==s)return{conversationId:s,chat:null};const a=s.id,u=n.getChat(a);return i.a.defined(u),e.conversationId===a&&(null===(o=e.chat)||void 0===o?void 0:o.conversation.participants)===u.conversation.participants||t({participants:u.conversation.participants,conversationId:a}),{conversationId:a,chat:u}}}var C=n(55),R=n(3),I=n(21);let N;N=n(324);var w=N,k=n(36);class x{constructor(e,t){"zh-TW"!==t&&(t=t.split("-")[0]),this.qs=new k.b([["key",e],["target",t],["format","html"]])}async translate(e){const t=e.reduce(((e,t)=>e.add("q",t)),this.qs);let n;try{const e=await w("https://translation.googleapis.com/language/translate/v2?"+t.toString());n=await e.json()}catch(e){throw new Error("There was an issue retrieving translations from the Google Cloud Translation API: "+e.message)}if("error"in n)throw new Error(`Google Translate reported an error: ${n.error.message}`);return n.data.translations}}var L=n(40),M=n(129);let P;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
M.a.registerVersion("firebase","9.8.2","app-compat");{Object(i.a)((()=>!0));const e=location.pathname.match(/^\/app\/(.*?\/user\/.*?)\//);e?(n(409),P=M.a.initializeApp(I.a.FIREBASE,"inbox:"+e[1])):console.error("Logic error: You're probably on a wrong url. This should be caught much earlier.")}var F=n(44);function j(e,t=""){return e.map(((e,n)=>{if("string"==typeof e)return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");const r=(t&&t+".")+n;return"children"in e?function(e,t){const n=j(e.children,t);return B(e,t,n)}(e,r):B(e,r)})).join("")}function B(e,t,n){switch(e.type){case"bold":case"italic":return`<b id="${t}">${n}</b>`;case"strikethrough":return`<del id="${t}">${n}</del>`;case"blockquote":return`<blockquote id="${t}">${n}</blockquote>`;case"codespan":case"codeSpan":case"codeblock":case"codeBlock":return`<code id="${t}">/* example code */</code>`;case"link":case"actionlink":case"actionLink":case"actionbutton":case"actionButton":return`<a id="${t}" href="https://example.com">${n}</a>`;case"autolink":case"autoLink":return`<a id="${t}" href="https://example.com">example.com</a>`;case"bulletlist":case"bulletList":return`<ul id="${t}">${n}</ul>`;case"bulletpoint":case"bulletPoint":return`<li id="${t}">${n}</li>`;case"customemoji":case"customEmoji":return`<img id="${t}" src="https://example.com/example.svg"/>`;case"mention":return`<a id="${t}" href="#">@</a>`;case"emoji":case"suppressed":F.a.never()}}var U=n(110),H=n(78),z=n(33),V=n(24),G=n(12);class ${constructor(e,t,n,r){this._fetcher=e,this._context=t,this.nav=n,this._serverTimeOffset=r,this._monitoredConversations={},this._me=null,this._meDeferred=Object(G.b)(),this._appSettingsDeferred=Object(G.b)(),this.caches={messageTemplateData:R.z()},this.onSelectedConversation=async({conversationId:e})=>{var t;const n=await this.computeHasFocus(),r=null!==(t=this.nav.location.getLocalSettings().presence)&&void 0!==t?t:{};this._fetcher.pushConversationData(e,n,r),e&&this._fetcher.joinConversationChannel(e,this._context.changedPresence)},this._onChangedParticipantOrConversation=async({participants:e})=>{if(!this._context.settingsStore.getGeneralSettings().enablePresence)return;const t=e.keySeq().toArray().map((e=>this._context.nymStore.getNym(e).externalId));this._fetcher.switchUserList({userIds:t},this._context.changedNymPresence)},this.loadedChats=async e=>{await this._meDeferred.promise,this._context.loadedChats(e)},this._loadedMessages=(e,t,n,r)=>{this._context.loadedMessages(e,t,n)},this._loadedRepliedMessages=(e,t)=>{this._context.loadedRepliedMessages(e,t)},this.lastMarkedTyping=0,this._appId=n.location.appId,new b.a(this.onSelectedConversation,this._context.stores),new T(this._onChangedParticipantOrConversation,this._context.stores)}async _getSingleConversation(e,t){if(Object.hasOwnProperty.call(this._monitoredConversations,t))return;this._monitoredConversations[t]=!0,this._chatsFetcher||(this._chatsFetcher=this._fetcher.createChatsFetcher(e,{},this.loadedChats,(t=>this._monitorMessagesAndSenders(e,t))));const n=await this._chatsFetcher.getSingle(t);if(n)return n;console.warn(`[TalkJS][${this._appId}] You are trying to read a conversation, which doesn't exist or doesn't belong to you. Make sure that the conversation exists or you call conversation.setParticipant(me) before mounting the TalkJS UI. More information can be found here: https://talkjs.com/docs/UI_Components/JavaScript/Classic/Classic_Data_API/#ConversationBuilder__setParticipant`)}async monitorMessagesAndGetSingleConversation(e,t,n=I.a.MAX_INITIAL_MESSAGES){await this._getSingleConversation(e,t)&&await this._monitorMessagesAndSenders(e,t,n)}_monitorMessagesAndSenders(e,t,n=I.a.MAX_INITIAL_MESSAGES){return this._fetcher.monitorMessagesAndSenders(t,e,n,this._loadedMessages,this._loadedRepliedMessages)}loadMoreMessages(e,t,n){return this._fetcher.loadMoreMessages(e,t,n)}monitorChats(e,t,n){return this.loadMe(e),this._chatsFetcher?this._chatsFetcher.setFilter(n):this._chatsFetcher=this._fetcher.createChatsFetcher(e,n,this.loadedChats,(t=>this._monitorMessagesAndSenders(e,t))),this._chatsFetcher.loadInitial(t)}monitorMoreChats(e,t){return i.a.defined(this._chatsFetcher),this._chatsFetcher.loadMoreChats({count:e,lastChatTs:t})}_become(e){if(this._me&&this._me.id!==e.id)throw new Error("Programmer error! Can't become someone twice in a browser session");this._me=e,this._context.become(e,this._appId),this._context.loadedNyms({[e.id]:e})}addMultipleMessages(e,t,n=!0){const r=R.j(this._serverTimeOffset),{messages:i,side:o}=e.appendMultipleMessages(this._fetcher,r,t);this._context.batchFluxUpdates((()=>{for(const t of i)this._context.loadedMessages(e.id,{},{[t.id]:t});n&&this._context.loadedSides([o])}))}upload(e){return function(e,t){i.a.is(t,Blob),i.a.is(t.name,String),Object(i.a)((()=>!0));const n=S.j.make().replace(/-/g,""),r=P.storage().ref("user_files").child(e).child(n).child(t.name),o={customMetadata:{draft:"true"},cacheControl:"private, max-age=86400"};return t.name.toLowerCase().endsWith(".svg")&&(o.contentDisposition=`attachment; filename=${t.name};`),r.put(t,o)}(this._appId,e)}async sendFile(e,t,n,r,i,o){const s=S.e.makeAttachment(n,r,o),a=await this._emitSendMessageEvent(t,e,{attachment:s});if(!a.cancel){const r=function(e,t){var n,r,i;if(R.y(e)){const n=R.p(e),r=e.split(".").pop(),i=r?`.${r}`:"";return{type:"file",subtype:"voice",url:t.url,size:t.size,filename:`voice_message_${(new Date).getTime()}${i}`,duration:n}}if(R.x(e)){const{width:r,height:i,duration:o}=null!==(n=t.dimensions)&&void 0!==n?n:{};return{type:"file",subtype:"video",url:t.url,size:t.size,filename:e,width:r,height:i,duration:o}}if(R.t(e)){const{width:n,height:i}=null!==(r=t.dimensions)&&void 0!==r?r:{};return{type:"file",subtype:"image",url:t.url,size:t.size,filename:e,width:n,height:i}}if(R.q(e)){const{duration:n}=null!==(i=t.dimensions)&&void 0!==i?i:{};return{type:"file",subtype:"audio",url:t.url,size:t.size,filename:e,duration:n}}return{type:"file",url:t.url,size:t.size,filename:e}}(n.name,s);this.addMultipleMessages(e,[{nym:t,entityTree:[],custom:a.custom,attachment:r,referencedMessageId:i}])}await this.unsetReferencedMessage(e.id)}async sendLocation(e,t,n,r){const i=await this._emitSendMessageEvent(t,e,{location:n});i.cancel||this.addMultipleMessages(e,[{nym:t,entityTree:[],custom:i.custom,location:n,referencedMessageId:r}]),await this.unsetReferencedMessage(e.id)}async _emitSendMessageEvent(e,t,n){let r;try{r=await d.a.request("sendMessage",Object.assign({me:e.toJS(),conversation:t.toJS(),externalNymIds:this._context.nymStore.getExternalNymIds(t)},n))}catch(e){z.a.error(e,{context:"JSSDK sendMessage"})}return null!=r?r:Object.assign(Object.assign({},n),{custom:{},cancel:!1})}async setReferencedMessage(e,t){i.a.is(this.nav,C.a);const n=this.nav.location.getLocalSettings();await this.nav.replaceLocation((r=>{r.patchLocalSettings({referencedMessagePerConversation:Object.assign(Object.assign({},n.referencedMessagePerConversation||{}),{[e]:t}),referencedMessageId:void 0})}))}async unsetReferencedMessage(e){i.a.is(this.nav,C.a);let t=this.nav.location.getLocalSettings().referencedMessagePerConversation||{},n=this.nav.location.getLocalSettings().referencedMessageId;(t[e]||n)&&await this.nav.replaceLocation((n=>{let r=t,i=e,o=(r[i],Object(O.e)(r,["symbol"==typeof i?i:i+""]));n.patchLocalSettings({referencedMessagePerConversation:o,referencedMessageId:void 0})}))}async deleteMessage(e,t){this._context.loadedMessages(e.id,{},{[t.id]:null});try{await this._fetcher.deleteMessage(e.id,t.id)}catch(n){this._context.loadedMessages(e.id,{},{[t.id]:t})}}async leaveConversation(e,t){const{prevent:n}=await d.a.request("leaveConversation",{conversation:e.toJS(),externalNymIds:this._context.nymStore.getExternalNymIds(e)});if(i.a.is(n,Boolean),!n)return this._fetcher.leaveConversation(e.id,t.id)}async markConversationAsUnread(e,t){const{prevent:n}=await d.a.request("markConversationAsUnread",{conversation:e.toJS(),externalNymIds:this._context.nymStore.getExternalNymIds(e)});if(i.a.is(n,Boolean),!n)return this._fetcher.markConversationAsUnread(e.id,t.id)}async editMessage(e,t,n){const r=t.set("entityTree",n);this._context.loadedMessages(e.id,{},{[t.id]:r});try{await this._fetcher.editMessage(e.id,t.id,n)}catch(n){this._context.loadedMessages(e.id,{},{[t.id]:t})}}async addEmojiReaction(e,t,n){var r;const i=await this._meDeferred.promise,o=R.k(t.reactionCount),s={[n]:{[i.externalId]:!0}};null!==(r=o[n])&&void 0!==r||(o[n]={count:0,reacted:!1}),o[n].count+=1,o[n].reacted=!0;const a=t.set("reactionCount",o);this._context.loadedMessages(e.id,{},{[t.id]:a});try{await this._fetcher.putEmojiReaction(e.id,t.id,s)}catch(n){this._context.loadedMessages(e.id,{},{[t.id]:t})}}async removeEmojiReaction(e,t,n){const r=await this._meDeferred.promise,i=R.k(t.reactionCount),o={[n]:{[r.externalId]:null}};i[n].count-=1,i[n].reacted=!1,0===i[n].count&&delete i[n];const s=t.set("reactionCount",i);this._context.loadedMessages(e.id,{},{[t.id]:s});try{await this._fetcher.putEmojiReaction(e.id,t.id,o)}catch(n){this._context.loadedMessages(e.id,{},{[t.id]:t})}}setDesktopNotify(e){this._context.setDesktopNotify(e),i.a.is(this.nav,C.a),this.nav.replaceLocation((t=>t.patchLocalSettings({desktopNotify:e})))}async setTranslationEnabledForConversation(e,t){let n=this._context.settingsStore.getTranslationOptions(),r=Object.assign(Object.assign({},n),{perConv:Object.assign(Object.assign({},n.perConv),{[e.id]:t})});this._context.setTranslationOptions(r),i.a.is(this.nav,C.a),await Promise.all([d.a.request("translationToggled",{isEnabled:t,conversation:e.toJS(),externalNymIds:this._context.nymStore.getExternalNymIds(e)}),this.nav.replaceLocation((e=>{e.patchLocalSettings({translationOptions:r})}))])}async loadMe(e){if(this._me)return this._meDeferred.promise;const[t]=await this._fetcher.getNyms([e]);return this._become(t),this._meDeferred.resolve(t),this._meDeferred.promise}async say({entityTree:e,other:t,me:n,conversation:r,isFirstUserMessage:i,referencedMessageId:o}){if(!e)return;const s=Object(H.a)(e),a=await this._emitSendMessageEvent(n,r,{text:s});if(!a.cancel){const u=[{nym:n,entityTree:a.text===s?e:Object(V.c)(a.text),custom:a.custom,received:!1,referencedMessageId:o}];i&&t&&null!==t.welcomeMessage&&u.unshift({id:r.generateUserWelcomeMessage(t).id,nym:t,entityTree:Object(V.c)(t.welcomeMessage),received:!0}),this.addMultipleMessages(r,u)}this.resetTypingCooldown(),await this.unsetReferencedMessage(r.id)}resetTypingCooldown(){this.lastMarkedTyping=0}markTyping(e){if(i.a.defined(this._me),e.conversation.id){const t=Date.now();t-this.lastMarkedTyping>5e3&&(this.lastMarkedTyping=t,this._fetcher.markTyping(e,this._me.id))}}syncOrAwaitData({me:e,others:t,conversation:n,externalConversationId:r,asGuest:i}){t=t||[];const o=[e,...t];return this._fetcher.syncOrAwaitConversationAndUsers(o,r,n,i)}async loadAppSettingsAndConfig(e,t,n){const{appMetadata:r,configuration:i,paymentStatus:o,googleTranslateApiKey:s,features:a,searchIndexedSince:u}=await this._fetcher.loadAppSettingsAndConfig(e,n);this._context.loadedAppSettings(r,i,o,t,s,a,u),this._appSettingsDeferred.resolve();const c=this._context.settingsStore,l=c.getFullConfig(),h=c.getLocale(),d=Object.assign(Object.assign({},l),{locale:h});return{config:new S.b(d),features:a,appMetadata:r}}async computeHasFocus(){const e=await d.a.request("hasParentFocus"),t=document.hasFocus(),n=e||t;return n}async onWindowVisibleChange(e){const t=async()=>{await this._meDeferred.promise,this._fetcher.onWindowVisibleChange(null!=e?e:await this.computeHasFocus()),this._lastFocusTimeout=void 0};this._lastFocusTimeout||(this._lastFocusTimeout=window.setTimeout(t,100))}async setPresence(e){await this._meDeferred.promise,this._fetcher.setPresence(e)}showImagePopup({url:e}){return d.a.request("showImagePopup",{url:e})}closePopover(){return d.a.request("closePopover")}postCustomMessageAction(e,t,n,r){return d.a.request("customMessageAction",{action:e,params:{},message:t.toJS(),conversation:n.toJS(),sender:r.toJS(),externalNymIds:this._context.nymStore.getExternalNymIds(n)})}postCustomConversationAction(e,t){return d.a.request("customConversationAction",{action:e,params:{},conversation:t.toJS(),externalNymIds:this._context.nymStore.getExternalNymIds(t)})}async ensureMessagesTranslated(e,t){if(!e)return;i.a.defined(this._me);const n=this._me,r=e.filter(S.e.isUserMessage).filter((e=>e.senderId!==n.id&&!e.translatedEntityTree)).toIndexedSeq().toArray();if(0===r.length)return;const o=r.map((e=>e.entityTree)),s=await this._translateMessages(o),a=L.b(r,((e,t)=>[e.id,e.withMutations((e=>e.set("translatedEntityTree",s[t].translatedText).set("translatedText",Object(H.a)(s[t].translatedText)).set("detectedLanguage",s[t].detectedSourceLanguage)))]));d.a.request("messagesTranslated",{conversationId:t.externalId,messages:Object.entries(a).map((([e,t])=>({id:t.get("externalId"),type:t.get("type"),text:t.get("text"),detectedLanguage:t.get("detectedLanguage"),translatedText:t.get("translatedText"),senderId:this._context.nymStore.getNym(t.get("senderId")).externalId})))}),this._context.loadedMessages(t.id,{},a)}async ensureSidesTranslated(e){const t=e.filter((e=>"text"===e.change.type&&!e.change.isByMe&&!e.change.translatedText)).toArray();if(0===t.length)return;const n=t.map((e=>e.change.entityTree)),r=await this._translateMessages(n),o=t.map(((e,t)=>e.change.withMutations((e=>e.set("translatedEntityTree",r[t].translatedText).set("translatedText",Object(H.a)(r[t].translatedText))))));i.a.defined(this._me),this._context.loadedSides(o)}async _translateMessages(e){var t;if(!this._translationService){const n=this._context.settingsStore;if(await this._appSettingsDeferred.promise,!n.getFeatures().includes("message_translation"))return console.warn(`[TalkJS][${this._appId}] Translation is enabled for one or more conversations, but this feature is only available on the Growth plan and up.`),e.map((e=>({translatedText:e,detectedSourceLanguage:"unknown"})));const r=h(n.getLocale()),i=n.getGoogleTranslateApiKey();if(!i)return console.warn(`[TalkJS][${this._appId}] No Google Translate API key set, but translation has been enabled for at least one conversation. Please ensure you're on the Growth plan, and enter an API key in the TalkJS dashboard: https://talkjs.com/dashboard`),e.map((e=>({translatedText:e,detectedSourceLanguage:"unknown"})));this._translationService=new x(i,null!==(t=r.meta.requestedCode)&&void 0!==t?t:r.meta.code)}try{const t=e.map((e=>j(e)));if(0===t.length||t.every((e=>0===e.trim().length)))return e.map((e=>({translatedText:e,detectedSourceLanguage:"unknown"})));return(await this._translationService.translate(t)).map(((t,n)=>({translatedText:Object(U.a)(t.translatedText,e[n]),detectedSourceLanguage:t.detectedSourceLanguage})))}catch(t){return console.error("[TalkJS] Message translation failed.",t),e.map((e=>({translatedText:e,detectedSourceLanguage:"unknown"})))}}registerSideResultsHandler(e){return this._fetcher.registerSideResultsHandler(e)}unregisterSideResultsHandler(e){return this._fetcher.unregisterSideResultsHandler(e)}registerMessageResultsHandler(e){return this._fetcher.registerMessageResultsHandler(e)}unregisterMessageResultsHandler(e){return this._fetcher.unregisterMessageResultsHandler(e)}async searchSides(e,t,n,r,i){return await this._fetcher.searchSides(e,t,n,r,i)}async cancelSearchSides(e){return await this._fetcher.cancelSearchSides(e)}async searchMessages(e,t,n,r,i){return await this._fetcher.searchMessages(e,t,n,r,i)}async cancelSearchMessages(e){return await this._fetcher.cancelSearchMessages(e)}async getMissingNyms(e){return await this._fetcher.getMissingNyms(e)}async getMissingChats(e){return await this._fetcher.getMissingChats(e)}}var Y=n(265),W=n.n(Y),K=n(46),q=n(11),X=n(59),J=n.n(X);class Z extends K.a{constructor(e){super(e),this.dispatcher=e,this._lastMessagesSequences=q.Map(),this._messageIdMapping=q.Map(),this._allMessagesSets=q.Map()}getMessages(e){return this._lastMessagesSequences.get(e)}getAllMessages(e){return this._allMessagesSets.get(e)}setMessages({conversationId:e,messages:t,idMappings:n}){var r=this._lastMessagesSequences;this._ensureConversationId(e),this._messageIdMapping=this._messageIdMapping.withMutations((t=>{for(const[r,i]of Object.entries(n))t.setIn([e,r],i)})),m.d(t,((t,n)=>{let r=this._messageIdMapping.getIn([e,n]);if(!r){const i=null==t?void 0:t.idempotencyKey;i&&this._lastMessagesSequences.hasIn([e,i])?(this._messageIdMapping=this._messageIdMapping.setIn([e,n],i),r=i):r=n}this._setMessage(e,r,t)})),r!==this._lastMessagesSequences&&(this._lastMessagesSequences=this._lastMessagesSequences.update(e,(e=>e.sortBy(((e,t)=>t))))),this.emitChange()}_setMessage(e,t,n){i.a.is(e,String),i.a.is(t,String);var r=this._lastMessagesSequences.getIn([e,t]);J()(null==r?void 0:r.toJS(),null==n?void 0:n.toJS())||(null===n?(this._lastMessagesSequences=this._lastMessagesSequences.update(e,(e=>e.delete(t))),this._allMessagesSets=this._allMessagesSets.update(e,(e=>e.delete(t)))):(this._lastMessagesSequences=this._lastMessagesSequences.update(e,(e=>e.set(t,n))),this._allMessagesSets=this._allMessagesSets.update(e,(e=>e.set(t,n)))))}setReferencedMessages({conversationId:e,messages:t}){t.count||(this._ensureConversationId(e),m.d(t,((t,n)=>{this._allMessagesSets=this._allMessagesSets.update(e,(e=>e.set(n,t)))})))}_ensureConversationId(e){this._lastMessagesSequences.has(e)||(this._lastMessagesSequences=this._lastMessagesSequences.set(e,q.OrderedMap())),this._messageIdMapping.has(e)||(this._messageIdMapping=this._messageIdMapping.set(e,q.Map())),this._allMessagesSets.has(e)||(this._allMessagesSets=this._allMessagesSets.set(e,q.Map()))}deleteMessages(e){this._lastMessagesSequences=this._lastMessagesSequences.set(e,q.OrderedMap()),this.emitChange()}setChats({chats:e}){m.d(e,((e,t)=>{null===e&&this.deleteMessages(t)}))}}Z.storeName="MessageStore",Z.handlers={SET_MESSAGES:"setMessages",SET_REFERENCED_MESSAGES:"setReferencedMessages",MARK_ALL_AS_READ:"markAllAsRead",SET_CHATS:"setChats"};var Q=Z,ee=n(41),te=n(58),ne=n(42),re=n(118),ie=n(61);class oe extends K.a{constructor(e){super(e),this._dispatcher=e,this._meStore=this._dispatcher.getStore(ne.a),this._presences=q.Map(),this._userPresences=q.Map(),this._userLastSeenOnline={}}become({nym:e}){this._meId=e.id}setUserPresence({status:e,presenceEventType:t}){const[n,r]=ie.a(Object.entries(e),(([e,t])=>"online"===t.status)),i=new Date;n.length&&(this._userPresences=this._userPresences.withMutations((e=>(n.forEach((([t,n])=>{this._userLastSeenOnline[t]=i,e.set(t,n)})),e))),this.emitChange()),r.length&&setTimeout((()=>{const e=r.filter((([e,t])=>this._userLastSeenOnline[e]<=i));e.length&&(this._userPresences=this._userPresences.withMutations((t=>(e.forEach((([e,n])=>{delete this._userLastSeenOnline[e],t.delete(e)})),t))),this.emitChange())}),1e4)}getUserPresence(e){return this._userPresences.get(e)}setPresence({conversationId:e,typists:t}){let n=!1;t=t.filter(((e,t)=>t!==this._meId)),this._presences=this._presences.withMutations((r=>{let i=r.get(e,q.Map());const o=t.map((e=>({isTyping:e})));return o.forEach((({isTyping:e},t)=>{i=i.set(t,{isTyping:e})})),q.is(i,o)||(n=!0),r=r.set(e,i)})),n&&this.emitChange()}getPresence(e){const t=this._presences.get(e),n=this._meStore.getChat(e);if(!t||!n)return q.Map();const{canRead:r}=n.conversation.myRights;return r?t:q.Map()}}oe.storeName="PresenceStore",oe.handlers={SET_PRESENCE:"setPresence",SET_USER_PRESENCE:"setUserPresence",BECOME:"become"};var se=oe,ae=W()();ae.registerStore(Q),ae.registerStore(ee.a),ae.registerStore(te.a),ae.registerStore(ne.a),ae.registerStore(re.a),ae.registerStore(se);class ue{constructor(){this.dispatcher=new ae}_forEachStore(e){const t=this.dispatcher.storeInstances;Object.keys(t).forEach((n=>e(t[n])))}mute(){this._forEachStore((e=>e.mute()))}unmute(){this._forEachStore((e=>e.unmute()))}getStore(e){return this.dispatcher.getStore(e)}get messageStore(){return this.getStore("MessageStore")}get nymStore(){return this.getStore("NymStore")}get settingsStore(){return this.getStore("SettingsStore")}get meStore(){return this.getStore("MeStore")}get urlStore(){return this.getStore("UrlStore")}get presenceStore(){return this.getStore("PresenceStore")}}var ce=class{constructor(){this.stores=new ue,this.loadedNyms=e=>{this._dispatch("SET_NYMS",{nyms:e})},this.changedPresence=(e,t)=>{this._dispatch("SET_PRESENCE",{conversationId:e,typists:t})},this.changedNymPresence=(e,t)=>{this._dispatch("SET_USER_PRESENCE",{status:e,presenceEventType:t})}}_dispatch(e,t){this.stores.dispatcher.dispatch(e,t)}async batchFluxUpdates(e){try{return this.stores.mute(),await e()}finally{this.stores.unmute()}}setBrowserMode(e){this._dispatch("SET_BROWSER_MODE",{mode:e})}setIsOnline(e){this._dispatch("SET_IS_ONLINE",{isOnline:e})}setDesktopNotify(e){this._dispatch("SET_DESKTOP_NOTIFY",{isEnabled:e})}setHtmlPanelOptions(e){this._dispatch("SET_HTML_PANEL_OPTIONS",{htmlPanelOptions:e})}setTranslationOptions(e){this._dispatch("SET_TRANSLATION_OPTIONS",{translationOptions:e})}loadedMessages(e,t,n){i.a.is(e,String),this._dispatch("SET_MESSAGES",{conversationId:e,messages:n,idMappings:t})}loadedRepliedMessages(e,t){i.a.is(e,String),this._dispatch("SET_REFERENCED_MESSAGES",{conversationId:e,messages:t})}loadedSides(e){i.a.isArray(e,S.g),this._dispatch("SET_SIDES",{sides:e})}loadedChats(e){this._dispatch("SET_CHATS",{chats:e})}become(e,t){this._dispatch("BECOME",{nym:e}),z.a.hello(e,t)}loadedAppSettings(e,t,n,r,i,o,s){this._dispatch("SET_APP_SETTINGS",{appMetadata:e,configuration:t,paymentStatus:n,nymLocale:r,googleTranslateApiKey:i,features:o,searchIndexedSince:s})}locationMaybeChanged(e){this._dispatch("LOCATION_MAYBE_CHANGED",{entryPoint:e})}get messageStore(){return this.stores.messageStore}get nymStore(){return this.stores.nymStore}get settingsStore(){return this.stores.settingsStore}get meStore(){return this.stores.meStore}get urlStore(){return this.stores.urlStore}get presenceStore(){return this.stores.presenceStore}},le=n(28);class he{constructor(e,t,n){this._backendHost=e,this._appId=t,this._sessionId=n,this._lastPutPromise=Promise.resolve({}),this._authToken=void 0}setAuth(e){this._authToken=e}async get({version:e=0,url:t,queryStrings:n}){const r=this.endpointUrl({version:e,url:t,queryStrings:n}),i=await fe((()=>this.fetchWithReauth(r)),{retries:11});return await this.handleResponse(i,r)}async queuedPut({version:e=0,url:t,payload:n}){await this._lastPutPromise;const r=fe((()=>this._doPut({version:e,url:t,payload:n})));return this._lastPutPromise=r,r}put({version:e=0,url:t,payload:n,stopTryingWhen:r}){const i=()=>this._doPut({version:e,url:t,payload:n});return r?pe(i,r):fe(i,{retries:5})}post({version:e=0,url:t,payload:n,stopTryingWhen:r}){const i=()=>this._doPost({version:e,url:t,payload:n});return r?pe(i,r):fe(i,{retries:5})}delete({version:e=0,url:t,queryStrings:n}){return fe((()=>this._doDelete({version:e,url:t,queryStrings:n})),{retries:11})}endpointUrl({version:e,url:t,queryStrings:n}){let r="";return n&&(r="&"+n.join("&")),`${this._backendHost}/api/v${e}/${this._appId}${t}?sessionId=${this._sessionId}${r}`}async _doPut({version:e,url:t,payload:n}){const r=this.endpointUrl({version:e,url:t}),i=await this.fetchWithReauth(r,{method:"PUT",body:JSON.stringify(n)});return await this.handleResponse(i,r)}async _doPost({version:e,url:t,payload:n}){const r=this.endpointUrl({version:e,url:t}),i=await this.fetchWithReauth(r,{method:"POST",body:JSON.stringify(n)});return await this.handleResponse(i,r)}async _doDelete({version:e,url:t,queryStrings:n}){const r=this.endpointUrl({version:e,url:t,queryStrings:n}),i=await this.fetchWithReauth(r,{method:"DELETE"});return await this.handleResponse(i,r)}async handleResponse(e,t){if(e.status>=300){if(404===e.status)throw console.error(`[DEBUG:${this._appId}][BackendRESTClient] Couldn't find resource.`),new le.a("Could not find app.",`Could not find given appId: "${this._appId}". You can find your appId on https://talkjs.com/dashboard.`);if(401===e.status)throw console.error(`[DEBUG:${this._appId}][BackendRESTClient] Couldn't authenticate ${t} with token ${this._authToken}.`),new le.a("User not authenticated.","Could not authenticate user. Check if you are authenticating correctly.");if(e.status>=300&&e.status<500){const{error:t}=await e.json();throw new le.a(t)}{const n=await e.text();throw new Error(`Got non-success response (${n}) from the server for url: ${t}.`)}}return await e.json()}async fetchWithReauth(e,t){const n=()=>{const n={Accept:"application/json","Content-Type":"application/json","x-talkjs-client-build":"frontend-release-a7bb971","x-talkjs-client-date":"2025-12-19T07:54:17.591Z"};return this._authToken&&(n.Authorization=`bearer ${this._authToken}`),w(e,Object.assign(Object.assign({},t),{headers:n}))},r=await n();if(401!==r.status)return r;z.a.error(`401 error from ${null==t?void 0:t.method} ${e}, ${this._authToken}`);const i=await d.a.request("refreshAuth");return this.setAuth(i),n()}}function de(e){return!e.userMessage}function fe(e,{retries:t=30}={}){return Object(G.e)(t,e,{shouldRetry:de,log:z.a.warn.bind(z.a),maxDelay:30,initialDelay:.2})}async function pe(e,t){try{return await e()}catch(e){if(!de(e))throw e}let n=!1;return t.then((()=>{n=!0})),Object(G.e)(1e3,e,{initialDelay:.2,maxDelay:30,shouldRetry:e=>!n,log:z.a.warn.bind(z.a)})}var me=n(74),ge=n(25),Ee=n(69);class _e{constructor(e,t,n,r,o){this._socket=e,this._name=t,this._onRecordsUpdated=n,this._recordFactory=r,this._dtos={},this._records={},this._pendingBatches=[],this._onRejoin=(e,t)=>{const n=Object.keys(this._dtos);t?this._monitor(n):this._getAndMonitor(n)};const s=e=>{e.on("update",(e=>{this._handleNewDtos(e.data)}))};if(this._path=`set/${t}`,this._channel=this._socket.getOrJoin(this._path,{},this._onRejoin,s),o){Object(i.a)((()=>!0)),this._handleNewDtos(ge.a(o,(e=>e)));const e=Object.keys(o);this._getAndMonitor(e)}Object(Ee.a)((e=>{e.monitors[this._path]=this}))}takeSnapshot(){return Object(i.a)((()=>!1)),this._dtos}async monitor(e){const t={};for(let n of e){t[n]||this._records[n]||this._isPending(n)||(t[n]=!0)}if(!m.e(t)){const e=this._getAndMonitor(Object.keys(t));this._saveBatch(e,t)}await Promise.all(this._pendingBatches.map((e=>e.promise)))}async monitorAndGet(e){return await this.monitor(e),e.map((e=>this._records[e]))}_isPending(e){return this._pendingBatches.some((t=>t.ids[e]))}_saveBatch(e,t){const n={promise:e,ids:t};this._pendingBatches.push(n),n.promise.finally((()=>this._pendingBatches.splice(this._pendingBatches.indexOf(n),1)))}_monitor(e){0!==e.length&&this._channel.push("monitor",{ids:e})}async _getAndMonitor(e){if(0===e.length)return;const t=this._channel.push("get_and_monitor",{ids:e}),n=(await Object(me.b)(t,this._path)).data;this._handleNewDtos(n)}_handleNewDtos(e){let t=[];for(let n of e){const e=n.id,r=this._records[e];let o;if(r){const t=this._dtos[e];i.a.defined(t),o=this._recordFactory.patch(r,n,t)}else o=this._recordFactory.make(n);o!==r&&(this._dtos[e]=n,this._records[e]=o,t.push(o))}t.length>0&&this._onRecordsUpdated(L.b(t,(e=>[e.id,e])))}}class ve{constructor(e,t,n,r,o,s,a,u){this._meId=e,this._name=t,this._seqId=n,this._socket=r,this._recordFactory=o,this._onChildrenUpdated=s,this._filter=u,this._dtos={},this._records={},this._isFirstUpdate=!0,this._hasFilterChanged=!1,this.onRejoin=(e,t)=>{t||this._fetchAndProcess(e,m.a(this._dtos)+1,void 0)},this._path=["seq",this._name,this._seqId].join("/");const c=e=>{e.on("recordUpdated",(e=>{const t=this._readResponse(e);this.onUpdate(t)})),e.on("recordDeleted",(e=>{const t=this._readRecordDeletedResponse(e);this.onUpdate(t)}))};this._channel=this._socket.getOrJoin(this._path,{},this.onRejoin,c),a?(Object(i.a)((()=>!0)),this._handleNewDtos(a.dtos),this._isComplete=a.isComplete):this._isComplete=!1,Object(Ee.a)((e=>{e.monitors[this._path]=this}))}demonitor(){this._socket.leaveChannel(this._path)}takeSnapshot(){return{isComplete:this._isComplete,dtos:this._dtos}}async one(e){const t=this._records[e];if(t)return t;const n=await this._getOne(this._channel,e);return(await this.onUpdate(n))[e]}async loadInitial(e){const t=Object.keys(this._dtos);return!this._hasFilterChanged&&(this._isComplete||t.length>=e)?(Object(i.a)((()=>!0)),this._fetchAndProcess(this._channel,e,void 0),t.splice(e),L.b(t,(e=>[e,this._records[e]]))):(this._hasFilterChanged=!1,this._fetchAndProcess(this._channel,e,void 0))}setFilter(e){Object(R.c)(e,this._filter)||(this._filter=e,this._hasFilterChanged=!0)}async loadMore(e,t){return this._fetchAndProcess(this._channel,e,t)}async _fetchAndProcess(e,t,n){const r=await this._getAll(e,t,n),i=await this.onUpdate(r);return this._isComplete=m.a(i)<t,i}_getAll(e,t,n){return this._handleResponse(e.push("get_all",{limit:t,oldestRecordTs:n,filter:this._filter}))}_getOne(e,t){return this._handleResponse(e.push("get_one",{itemId:t}),t)}async _handleResponse(e,t){const n=await Object(me.b)(e,this._path);return this._readResponse(n,t)}_readResponse(e,t){var n;if(!e.data&&void 0!==t)return{[t]:null};if(e.data&&e.data instanceof Array)return L.b(e.data,(e=>[e.id,e]));if(null===(n=e.data)||void 0===n?void 0:n.id)return{[e.data.id]:e.data};throw new Error(`[SequenceLoader]: Unexpected response. Expected array, single Dto or null, got ${JSON.stringify(e)}.`)}_readRecordDeletedResponse(e){if("id"in e)return{[e.id]:null};throw new Error(`[SequenceLoader]: Unexpected response. Expected array, single Dto or null, got ${JSON.stringify(e)}.`)}async onUpdate(e){return await this._handleNewDtos(e),m.g(e,((e,t)=>this._records[t]))}async _handleNewDtos(e){const t={};m.d(e,((e,n)=>{const r=this._records[n];let o;if(e)if(r){const t=this._dtos[n];i.a.defined(t),o=this._recordFactory.patch(r,e,t)}else o=this._recordFactory.isDtoComplete(e)?this._recordFactory.make(e):null;else o=null;o!==r&&(t[n]={current:o},void 0!==r&&(t[n].previous=r),this._records[n]=o,this._dtos[n]=e)})),!this._isFirstUpdate&&m.e(t)||(this._isFirstUpdate=!1,await this._onChildrenUpdated(t))}}class Ae{constructor(e,t,n,r={}){this._socket=e,this._name=t,this._recordFactory=n,this._snapshots=r,this._monitors={}}getMonitor(e,t,n,r){if(!this._monitors[t]){if(!n)throw new Error("First call to `getMonitor` must include an onChildrenUpdated");this._monitors[t]=new ve(e,this._name,t,this._socket,this._recordFactory,n,this._snapshots[t],r)}return this._monitors[t]}deleteMonitor(e){var t;null===(t=this._monitors[e])||void 0===t||t.demonitor(),delete this._monitors[e]}takeSnapshot(){return m.g(this._monitors,(e=>e.takeSnapshot()))}}class ye{constructor(e,t,n,r,i,o,s){this._fetcher=e,this._meId=t,this._onChats=r,this._refetchMessages=i,this._demonitorMessages=o,this._onChanges=async e=>{const t=m.b(e,Oe),n=ge.a(t,(e=>e.current.conversation.otherIds(this._meId).toArray())).flat(),r=ge.a(t,(e=>e.current.change.senderId)).filter(R.s).filter(Se);await this._fetcher.monitorNyms([...n,...r]),m.d(t,(async e=>{const t=e.current,n=e.previous,r=null===n,i=n&&!1===n.conversation.myRights.canRead&&!0===t.conversation.myRights.canRead;(r||i)&&await this._refetchMessages(t.conversation.id)}));const i=m.b(e,(e=>!!e.previous&&null===e.current)),o=Object.keys(i);for(const e of o)this._demonitorMessages(e);const s=m.g(e,(e=>e.current));this._onChats(s)},this._sideMonitor=s.getMonitor(t,t,this._onChanges,n)}loadInitial(e){return this._sideMonitor.loadInitial(e+1).then((e=>Object.values(e).filter(R.A))).then((e=>L.b(e,(e=>[e.change.id,e]))))}loadMoreChats({count:e,lastChatTs:t}){return this._sideMonitor.loadMore(e+1,t)}async getSingle(e){const t=await this._sideMonitor.one(e);return t?t.conversation:null}async setFilter(e){this._sideMonitor.setFilter(e)}}function Oe(e){return null!==e.current}function Se(e){return"SYSTEM"!==e}var be=n(88),De=n(68),Te=n(34);const Ce={make(e){let t;return t="UserMessage"===e.type?new De.c({id:e.id}):new De.b({id:e.id}),this.patch(t,e,{})},patch:(e,t)=>e.withMutations((e=>(e=e.merge({externalId:t.externalId,createdAt:t.createdAt,editedAt:t.editedAt,senderId:t.senderId,text:t.text,origin:t.origin,isWelcomeMessage:t.isWelcomeMessage,idempotencyKey:t.idempotencyKey}),"UserMessage"===t.type&&(e=(e=Object(Te.a)(e,"location",t.location)).set("referencedMessageId",t.referencedMessageId)),e=Object(Te.a)(e,"entityTree",t.entityTree),e=Object(Te.a)(e,"attachment",t.attachment),e=Object(Te.a)(e,"received",t.received),e=Object(Te.a)(e,"custom",t.custom),e=Object(Te.a)(e,"reactionCount",t.reactionCount)))),isDtoComplete:e=>!0};var Re=n(87),Ie=n(6),Ne=n(20);function we(e,t){return{id:e.externalId,name:e.name,firstName:e.getFirstName(),photoUrl:e.photoUrlOrFallbackSvg(),custom:e.custom,isMe:e.id===t,role:e.configuration}}function ke(e,t,n){const r=t.map((e=>e.templateData)).toArray(),i=r.filter((t=>t.id!==e.externalId)),o=0===i.length?[e.templateData]:i;return{id:n.externalId,rawSubject:n.subject,photoUrl:n.photoUrl,isGroupChat:0===r.length||r.length>2,participants:r,otherParticipants:i,others:o,me:e.templateData,custom:n.custom||{}}}function xe(e,t){var n,r;if("TypingIndicatorEvent"===e.type)return{type:"typing-indicator",hasThumbnail:!1};if("voice"===(null===(n=e.attachment)||void 0===n?void 0:n.subtype))return{type:"file",hasThumbnail:!0,isVoiceMessage:!0,recordingDuration:null!==(r=e.attachment.duration)&&void 0!==r?r:0,thumbnailError:!1,file:{url:e.attachment.url,size:e.attachment.size,dimensions:Object(Ne.g)(e.attachment),filename:`talkjs_audio_message_${Me(e)}_${e.attachment.duration}.${Le(e.attachment.filename)}`,type:"audio"}};if(e.attachment){const t=e.attachment,n=Object(Ie.e)(t.url),r=R.x(n)?"video":R.t(n)?"image":R.q(n)?"audio":"other";return{type:"file",hasThumbnail:"other"!==r,isVoiceMessage:R.y(n),recordingDuration:R.p(n),thumbnailError:!1,file:{url:t.url,size:t.size,dimensions:Object(Ne.g)(t),filename:n,type:r}}}if(e.location)return{type:"location",hasThumbnail:!0,location:e.location};if("string"==typeof e.text){let n=e.text,r=e.entityTree;return t&&(e instanceof S.i||e instanceof S.g)&&e.translatedEntityTree&&(n=e.translatedText,r=e.translatedEntityTree),{type:"text",hasThumbnail:!1,rawText:n,entityTree:r,links:[]}}throw new Error("This shouldn't happen")}function Le(e){var t;return null!==(t=e.split(".").pop())&&void 0!==t?t:"mp3"}function Me(e){return"UserMessage"===e.type||"SystemMessage"===e.type?e.createdAt:e.ts}function Pe(e,t,n,r,o,s,a,u,c){if("SystemMessage"===t.type)return{type:"SystemMessage",conversation:r,previousMessage:a,isWelcomeMessage:t.isWelcomeMessage,body:xe(t,u),custom:t.custom,timestamp:t.createdAt||void 0,editedAt:t.editedAt||void 0,hasReferencedMessage:!1};i.a.defined(o);let l=[];return"UserMessage"===t.type&&(l=Object.entries(t.reactionCount).map((([e,{count:t,reacted:n}])=>({emoji:e,numReactions:t,iReacted:n})))),{type:"UserMessage",conversation:r,sender:o.templateData,previousMessage:a,isWelcomeMessage:t.isWelcomeMessage,body:xe(t,u),custom:"UserMessage"===t.type?t.custom:{},isLongEmailMessage:"UserMessage"===t.type&&(S.e.isFromEmail(t)&&S.e.isMultilineMessage(t)),referencedMessage:n?Pe(e,n,void 0,r,s,void 0,a,u,c):void 0,hasReferencedMessage:!!n,timestamp:t.createdAt||Date.now(),editedAt:t.editedAt||void 0,reactions:l,canReact:c}}function Fe(e,t,n,r,i,o){return{hasUnreadMessages:e.change.isUnread,isUnread:e.change.isUnread,unreadMessageCount:e.change.unreadMessageCount,conversation:ke(t,n,e.conversation),lastMessage:Object.assign(Object.assign({type:o?"SystemMessage":"UserMessage"},o?{}:{sender:we(r,t.id)}),{body:xe(e.change,i),timestamp:e.change.ts,editedAt:e.change.editedAt||void 0,custom:e.change.custom,hasReferencedMessage:!1})}}class je{constructor(e){this._meId=e}make(e){const t=new Re.a(e),n=we(t,this._meId);return t.set("templateData",n)}patch(e,t){let n=e.merge({name:t.name,configuration:t.configuration,photoUrl:t.photoUrl,welcomeMessage:t.welcomeMessage,availabilityText:t.availabilityText,locale:t.locale});if(n=Object(Te.a)(n,"custom",t.custom),n.custom!==e.custom||n.photoUrl!==e.photoUrl||n.name!==e.name){const e=we(n,this._meId);n=n.set("templateData",e)}return n}isDtoComplete(e){return!0}}class Be{constructor(e,t,n,r){this._conversationId=e,this._meId=t,this._onLoadedMessages=n,this._fetchAndMonitorNyms=r,this.heyLemmeKnowWhenYaGot=e=>{const t=Object(G.b)();return this._gotMessageDeferreds.set(e,t),t.promise},this.onChanges=async e=>{const t=m.g(e,(e=>e.current)),n=ge.a(t,(e=>e)).filter(R.s).filter(S.e.isUserMessage).map((e=>e.senderId));await this._fetchAndMonitorNyms(n);const r=L.a(ge.a(t,this.getMapping).filter(R.s));this._onLoadedMessages(this._conversationId,r,t,this._meId),this._resolveGotMessageDeferreds(t)},this.getMapping=e=>{let t=null==e?void 0:e.id,n=t&&this.idMappings.get(t);return t&&n?[t,n]:void 0},this._gotMessageDeferreds=new Map,this.idMappings=new Map}associateIds(e,t){this.idMappings.set(t,e)}_resolveGotMessageDeferreds(e){var t,n;for(const r of Object.keys(e)){const e=null!==(t=this.idMappings.get(r))&&void 0!==t?t:"";null===(n=this._gotMessageDeferreds.get(e))||void 0===n||n.resolve(),this._gotMessageDeferreds.delete(e),this.idMappings.delete(e)}}}class Ue{constructor(e,t,n,r={}){this._phoenixChannels=e,this._collectionName=t,this._messageFactory=n,this._setSnapshot=r,this._monitors={}}getMonitor(e,t){let n=this._monitors[e];return n||(n=new _e(this._phoenixChannels,this._collectionName,t,this._messageFactory,this._setSnapshot[e]),this._monitors[e]=n),n}takeSnapshot(){return m.g(this._monitors,(e=>e.takeSnapshot()))}}var He=n(35),ze=n(75);class Ve{constructor(e,{initialData:t,appId:n,sessionId:r}){this._context=e,this._meExternalId=null,this._meInternalId=null,this._messageLoaders={},this._pushMeChannelData={},this._onRejoin=e=>{m.d(this._pushMeChannelData,((t,n)=>{t(e)}))},this._initialData=t,this._sessionId=r,this._meChannel=null,this._searchChannel=null,this._appId=n,this._phoenixChannels=new me.a("",{appId:n});{let e=!1;const t=new G.a(1e4,(async()=>{const t=await d.a.request("isRealtimeConnected");if(t.connected&&!this._phoenixChannels.isConnected()){const r=await this._phoenixChannels.setAuth(t.token);"WBP41X9u"!==n&&e||(console.error(`[TalkJS] Iframe websocket didn't reconnect, recovery result: ${r}`),e=!0)}}));this._phoenixChannels.onConnectionStatusChanged((n=>{this._context.setIsOnline(n),n?t.stop():(e=!1,t.start())}))}this._backendRESTClient=new he("",n,r)}async makeBackendAuthToken(e,t){Object(i.a)((()=>!1));const{boken:n}=await this._backendRESTClient.get({version:0,url:`/bokens/${encodeURIComponent(e)}`,queryStrings:[`signature=${t||""}`]});return n}joinBackend(e,t){i.a.is(e,String),i.a.is(t,String);const n=Object(He.a)(e)+"_n";this._meExternalId=e,this._meInternalId=n,this._phoenixChannels.connect({authToken:t}),this._meChannel=this._phoenixChannels.getOrJoin(`me:${n}:${this._sessionId}`,{origin:"UI"},this._onRejoin),this._searchChannel=this._phoenixChannels.getOrJoin("search");const r=this._initialData;this._db={nyms:new _e(this._phoenixChannels,"nyms",this._context.loadedNyms,new je(n),r.NYMS),referencedMessages:new Ue(this._phoenixChannels,"messages",Ce,r.REFERENCED_MESSAGES),messages:new Ae(this._phoenixChannels,"messages",Ce,r.MESSAGES),sides:new Ae(this._phoenixChannels,"sides",new be.a(n),r.SIDES)}}leaveBackend(){this._phoenixChannels.disconnect()}saveInitialData(){Object(i.a)((()=>!1)),this._initialData.NYMS=this._db.nyms.takeSnapshot(),this._initialData.SIDES=this._db.sides.takeSnapshot(),this._initialData.MESSAGES=this._db.messages.takeSnapshot(),this._initialData.REFERENCED_MESSAGES=this._db.referencedMessages.takeSnapshot()}setAuthToken(e){i.a.is(e,String),this._backendRESTClient.setAuth(e),this._phoenixChannels.setAuth(e)}setTokenRefreshFailed(){this._phoenixChannels.disconnect()}sayMany(e,t,n){const r=n.map((({message:e,received:n})=>{const{id:r,referencedMessageId:i,entityTree:o,senderId:s,custom:a,attachment:u,location:c}=e.toJS();return{idempotencyKey:null!=r?r:Object(ze.a)(t),entityTree:o,received:n,custom:a,nymId:s,attachment:u,location:c,referencedMessageId:i}}));return r.reduce((async(t,n)=>{await t;const r=this._messageLoaders[e].heyLemmeKnowWhenYaGot(n.idempotencyKey),i=await this._backendRESTClient.post({url:`/say/${e}/`,stopTryingWhen:r,payload:n});this._messageLoaders[e].associateIds(n.idempotencyKey,i.ok)}),Promise.resolve()),r.map((e=>e.idempotencyKey))}async monitorNyms(e){await this._db.nyms.monitor(e)}async getNyms(e){return await this._db.nyms.monitorAndGet(e)}async loadAppSettingsAndConfig(e,t){if(e||(e=""),this._initialData.APP)return this._initialData.APP;const n=await this._backendRESTClient.get({url:`/app/${encodeURIComponent(e)}`,queryStrings:t?[`theme_override=${t}`]:void 0});if(!n)throw new le.a("Cannot find appId"+this._appId,`Cannot find app with appId ${this._appId}, please verify for typos or else contact us.`);return n}createChatsFetcher(e,t,n,r){return new ye(this,e,t,n,r,(e=>this.deleteMonitor("messages",e)),this._db.sides)}syncOrAwaitConversationAndUsers(e,t,n,r){let i;if(n){const t=n.participants.map((e=>({userId:e.user.id,participationSetting:e.participationSettings})));i={id:n.id,internalId:n.internalId,participations:t,subject:n.subject,topic:n.topicId,custom:n.custom,welcomeMessages:n.welcomeMessages,photoUrl:n.photoUrl,guestId:r?e[0].internalId:void 0}}const o=e.map((e=>({id:e.id,internalId:e.internalId,configuration:e.configuration,welcomeMessage:e.welcomeMessage,photoUrl:e.photoUrl,name:e.name,custom:e.custom,email:"string"==typeof e.email?[e.email]:e.email,phone:"string"==typeof e.phone?[e.phone]:e.phone,availabilityText:e.availabilityText,locale:e.locale,__sync:e.__sync})));return this._backendRESTClient.put({url:"/sync",payload:{users:o,conversation:i,externalConversationId:t,asGuest:r}})}async loadMoreMessages(e,t,n){const r=this._db.messages.getMonitor(t,e);await r.loadMore(I.a.LOAD_MORE_MESSAGES_STEP,n)}pushConversationData(e,t,{visible:n,custom:r}){const o=i=>i.push("current_conversation",{conversationId:e,hasFocus:t,visible:n,custom:r});this._pushMeChannelData.current_conversation=o,i.a.defined(this._meChannel),o(this._meChannel)}switchUserList(e,t){this._listChannel&&this._phoenixChannels.leaveChannel(this._listChannel);const n=Object.assign({origin:"UI",sessionId:this._sessionId,old_format:!1},e);this._listChannel=this._phoenixChannels.getOrJoin("user_list",n,void 0,(e=>{t&&(e.on("list",(e=>t(e,"list"))),e.on("join",(e=>t(e,"join"))),e.on("leave",(e=>t(e,"leave"))))}))}joinConversationChannel(e,t){const n={origin:"UI",sessionId:this._sessionId};return this._phoenixChannels.getOrJoin(`conversation:${e}`,n,void 0,(n=>{t&&n.on("is_typing",(n=>{t(e,q.fromJS(n))}))}))}async monitorMessagesAndSenders(e,t,n,r,o){i.a.is(e,String),i.a.is(t,String),i.a.is(n,Number),i.a.is(r,Function),i.a.is(o,Function);let s=this._messageLoaders[e];s||(s=new Be(e,t,r,(e=>this.monitorNyms(e))),this._messageLoaders[e]=s);let a=this._db.referencedMessages.getMonitor(e,(t=>o(e,t)));const u=this._db.messages.getMonitor(t,e,s.onChanges),c=await u.loadInitial(n+1),l=ge.a(c,(e=>e)).filter(R.s).filter((e=>R.s(e.referencedMessageId))).map((e=>e.referencedMessageId)),h=await a.monitorAndGet(l),d=ge.a(c,(e=>e)).concat(h).filter(R.s).filter(S.e.isUserMessage).map((e=>e.senderId));await this.monitorNyms(d)}markTyping(e,t){const n=e.conversation.id,r=e.isGuest(t),o=e=>e.push("is_typing",{isTyping:!0,nymId:t,conversationId:n});this._pushMeChannelData.is_typing=o;const s=this.joinConversationChannel(n);i.a.defined(this._meChannel),o(this._meChannel),r||o(s)}onWindowVisibleChange(e){const t={hasFocus:e},n=e=>e.push("window_visibility",t);this._pushMeChannelData.window_visibility=n,i.a.defined(this._meChannel),n(this._meChannel)}setPresence(e){const t=t=>t.push("set_presence",e);this._pushMeChannelData.set_presence=t,i.a.defined(this._meChannel),t(this._meChannel)}async deleteMessage(e,t){await this._backendRESTClient.delete({url:`/conversations/${e}/messages/${t}`})}async editMessage(e,t,n){await this._backendRESTClient.put({url:`/conversations/${e}/messages/${t}`,payload:{entity_tree:n}})}async leaveConversation(e,t){await this._backendRESTClient.delete({url:`/conversations/${e}/participants/${t}`})}async markConversationAsUnread(e,t){await this._backendRESTClient.delete({url:`/conversations/${e}/unreadBy/${t}`})}async putEmojiReaction(e,t,n){await this._backendRESTClient.put({url:`/conversations/${e}/messages/${t}/reactions`,payload:{reactions:n}})}registerSideResultsHandler(e){return i.a.defined(this._searchChannel),this._searchChannel.on("sides_search_result",e)}unregisterSideResultsHandler(e){return i.a.defined(this._searchChannel),this._searchChannel.off("sides_search_result",e)}registerMessageResultsHandler(e){return i.a.defined(this._searchChannel),this._searchChannel.on("messages_search_result",e)}unregisterMessageResultsHandler(e){return i.a.defined(this._searchChannel),this._searchChannel.off("messages_search_result",e)}async searchSides(e,t,n,r,o){return new Promise(((s,a)=>{i.a.defined(this._searchChannel),this._searchChannel.push("search_sides",{search_id:e,search_string:t,limit:n,last_side_ts:r,feed_filter:o}).receive("ok",(e=>{s(e)})).receive("error",(e=>{a(e)})).receive("timeout",(()=>{a("timeout")}))}))}async cancelSearchSides(e){return new Promise(((t,n)=>{i.a.defined(this._searchChannel),this._searchChannel.push("cancel_sides",{search_id:e}).receive("ok",(e=>{t(e)})).receive("error",(e=>{n(e)})).receive("timeout",(()=>{n("timeout")}))}))}async searchMessages(e,t,n,r,o){return new Promise(((s,a)=>{i.a.defined(this._searchChannel),this._searchChannel.push("search_messages",{search_id:e,search_string:t,limit:n,last_message_ts:r,feed_filter:o}).receive("ok",(e=>{s(e)})).receive("error",(e=>{a(e)})).receive("timeout",(()=>{a("timeout")}))}))}async cancelSearchMessages(e){return new Promise(((t,n)=>{i.a.defined(this._searchChannel),this._searchChannel.push("cancel_messages",{search_id:e}).receive("ok",(e=>{t(e)})).receive("error",(e=>{n(e)})).receive("timeout",(()=>{n("timeout")}))}))}async getMissingNyms(e){return new Promise(((t,n)=>{i.a.defined(this._searchChannel),this._searchChannel.push("get_missing_nyms",{nym_ids:e}).receive("ok",(e=>{t(e)})).receive("error",(e=>{n(e)})).receive("timeout",(()=>{n("timeout")}))}))}async getMissingChats(e){return new Promise(((t,n)=>{i.a.defined(this._searchChannel),this._searchChannel.push("get_missing_chats",{chat_ids:e}).receive("ok",(e=>{t(e)})).receive("error",(e=>{n(e)})).receive("timeout",(()=>{n("timeout")}))}))}deleteMonitor(e,t){i.a.oneOf(e,["messages","sides"]);this._db[e].deleteMonitor(t)}}var Ge=n(26);class $e{constructor(e,{view:t,data:n,once:r,actions:o,auxProps:s}){this.pattern=e,i.a.is(e,String),i.a.optional(s,Object),this.pattern=e,this.auxProps=s||{},this.descriptor=t,this.data=n||[],this.once=r||[],this.actions=o||[];var[a,u]=function(e){var t=e.split("/"),n=t.map((e=>0===e.length?"":":"===e[0]?"([^\\/]+)":Ge.d(e))).join("\\/");return[new RegExp("^"+n+"\\/?$"),t.filter((e=>":"===e[0])).map((e=>e.substr(1)))]}(e);this.regex=a,this.keyNames=u}}class Ye{constructor(e){this.mutateLocation=e}static getNewLocation(e,t){if(0===t.length)return;return e.mutate((e=>{for(let n of t)n.mutateLocation(e)})).toSafeString()}}class We{constructor(e,t,n,r,i,o){this.appMetadata=t,this.themeCustom=n,this.dir=r,this.localeCode=i,this.features=o,this.theme=e.theme}}class Ke{constructor(e,t,n,r,i){this.descriptor=e,this.props=t,this.data=n,this.actions=r,this.routePatterns=i,this.gotData=new Promise((e=>this._resolveGotData=e))}_execute(e,t){return t?Promise.all(t.map((t=>t(e,this.props)))):Promise.resolve([])}fetchData(e){const t=this._execute(e,this.data);return t.then(this._resolveGotData),t}doActions(e){return this._execute(e,this.actions)}}class qe{constructor(e,t){this._routes=e,this._defaultUrl=t,this._cachedLoaders=[],i.a.isArray(e,$e),i.a.is(t,String)}getEntryPoint(e){let t=this._find(e.relativePath.substr(1));return t||(console.error(`Can't find an appropriate route for ${e}, trying default route ${this._defaultUrl}`),t=this._find(this._defaultUrl)),t.props.location=e,t}_find(e){for(let t of this._routes){const n=e.match(t.regex);if(null!==n){const e=n.slice(1);let r=L.c(t.keyNames,e);r=Object.assign(Object.assign({},t.auxProps),r);const i=t.once.map((e=>this.cacheLoader(e))).concat(t.data);return new Ke(t.descriptor,r,i,t.actions,t.pattern)}}}cacheLoader(e){return(t,n)=>{const r=this._cachedLoaders.find((t=>t.loader===e));if(r)return r.promise;{const r=e(t,n);return i.a.is(r,Promise),this._cachedLoaders.push({loader:e,promise:r}),r}}}}qe.EntryPoint=Ke;var Xe=qe;n(329);class Je{constructor(e,...t){this._component=e,this._stores=t.map((t=>e.props.stores.getStore(t.storeName))),this.initialState=e.getStateFromStores(e.props,...this._stores)}listen(){this._handlers=this._stores.map((e=>{const t=()=>this._onChange();return e.addChangeListener(t),{store:e,handler:t}}))}unlisten(){this._handlers.forEach((({store:e,handler:t})=>e.removeChangeListener(t)))}_onChange(e){e=e||this._component.props;const t=this._component.getStateFromStores(e,...this._stores);this._component.setState(t)}forceChange(e){this._onChange(e),this._component.forceUpdate()}}n(330);function Ze(e,t,n=!1){let r,i;return function(n,o,...s){const a=e(n,o,...s);return r&&Qe(r,a)||(r=a,i=t(...a)),i}}const Qe=(e,t)=>e&&t&&e.length===t.length&&e.every(((e,n)=>{const r=t[n];return e===r||e&&e.constructor===Array&&Qe(e,r)}));var et=n(13);n(331);function tt(e){var{onClick:t,children:n,className:r}=e,i=Object(O.e)(e,["onClick","children","className"]);return u.a.createElement("button",Object.assign({className:R.g("ActionLink",r),onClick:e=>{e.preventDefault(),t(e)}},i),n)}tt.propTypes={onClick:s.a.func.isRequired,children:s.a.node.isRequired,className:et.a.stringOrArray};n(332);class nt extends u.a.Component{render(){return u.a.createElement("div",{className:"Spinner"},this.props.fallback)}}nt.propTypes={fallback:s.a.node.isRequired};var rt=nt;n(333);function it(e){return u.a.createElement(go.Consumer,null,(t=>u.a.createElement(ot,{participants:t,message:e.message})))}class ot extends et.a{scheduleUpdate(){this.handle||(this.handle=window.setTimeout((()=>{this.handle=void 0,this.forceUpdate()}),1e3))}componentWillUnmount(){this.handle&&clearTimeout(this.handle)}isRead(){const e=this.props.message;if(i.a.is(e,S.i),0===Object.keys(e.received).length)return!1;return ge.a(e.received,((e,t)=>{var n,r;return!1===(null!==(r=null===(n=this.props.participants.get(t))||void 0===n?void 0:n.canRead)&&void 0!==r&&r)||e})).every((e=>!0===e))}render(){const e=this.props.message;return S.e.isUserMessage(e)?e.saved?this.isRead()?u.a.createElement("span",{className:"MessageTicks--read"},""):(S.e.arrivalTimeoutElapsed(e,R.B(this.context))||this.scheduleUpdate(),u.a.createElement("span",{className:"MessageTicks--unread"},"")):u.a.createElement(rt,{fallback:""}):null}}ot.propTypes={message:s.a.instanceOf(q.Iterable).isRequired,participants:s.a.object.isRequired},ot.contextType=p.a;var st=n(54),at=n(63);function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=new Map,ht=new WeakMap,dt=0;function ft(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(ht.has(n)||(dt+=1,ht.set(n,dt.toString())),ht.get(n)):"0":e[t]);var n})).toString()}function pt(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var r=function(e){var t=ft(e),n=lt.get(t);if(!n){var r,i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var n,o=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((function(e){e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},lt.set(t,n)}return n}(n),i=r.id,o=r.observer,s=r.elements,a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),o.observe(e),function(){a.splice(a.indexOf(t),1),0===a.length&&(s.delete(e),o.unobserve(e)),0===s.size&&(o.disconnect(),lt.delete(i))}}var mt=["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"];function gt(e){return"function"!=typeof e.children}var Et=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),gt(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ct(t,n);var i=r.prototype;return i.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},i.componentWillUnmount=function(){this.unobserve(),this.node=null},i.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay;this._unobserveCb=pt(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:o})}},i.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},i.render=function(){if(!gt(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,i=r.children,o=r.as,s=r.tag,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,mt);return a.createElement(o||s||"div",ut({ref:this.handleNode},u),i)},r}(a.Component);Et.displayName="InView",Et.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var _t=n(56);n(238),n(334);var vt=u.a.forwardRef((function({actions:e,actionParams:t,className:n,itemListClassName:r,children:i,outOfView:o,keepMenuWithin:s,label:c},l){const h=u.a.useMemo((()=>{return e=s,(t,n)=>{if(!t||!n)return{};e||(e=document.body);const{directionRight:r,directionUp:i}=function(e,t,n,r=0,i=0){const o={top:t.top-n.height<e.top,right:e.right<t.left+n.width-r,bottom:e.bottom<t.bottom+n.height-i,left:t.left+t.width-n.width<e.left},s=o.right&&!o.left,a=o.left&&!o.right,u=o.bottom&&!o.top,c=o.top&&!o.bottom;return{directionRight:s,directionLeft:a,directionUp:u,directionDown:c}}(e.getBoundingClientRect(),t,n),o=t.width/2;return Object.assign({left:r?`${t.right-n.width+window.pageXOffset}px`:`${t.left+window.pageXOffset}px`,"--popoverArrowX":r?n.width-o+"px":`${o}px`},function(e,t,n){return{top:n?`${e.top-t.height+window.pageYOffset}px`:`${e.top+e.height+window.pageYOffset}px`}}(t,n,i))};var e}),[s]);return u.a.createElement(_t.a,null,(({isExpanded:s})=>{const d=Object(a.useMemo)((()=>s?"isExpanded":""),[s]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(_t.b,{className:`MenuButton ${n} ${d}`,ref:l,"aria-label":c,title:c},i),s&&!o&&u.a.createElement(_t.e,{portal:!0,position:h},u.a.createElement(_t.d,{className:`action-menu ${r}`},e.map((e=>u.a.createElement(_t.c,{key:e.label,onSelect:()=>e.action(t),"data-action-name":e.name},e.label))))))}))}));var At=n(94);function yt(e,t){var n;return!!e.myRights.canWrite||!(null===(n=t.needsWriteAccess)||void 0===n||n)}var Ot=n(72);n(335);const St=[{name:"reply",label:"REPLY_TO_MESSAGE",supportsAttachments:!0,needsWriteAccess:!0,action:({controller:e,message:t,conversation:n,t:r,actionsContext:i})=>{e.setReferencedMessage(n.id,t.id)}},{name:"delete",label:"DELETE_MESSAGE",supportsAttachments:!0,needsWriteAccess:!0,action:({controller:e,conversation:t,message:n,t:r,actionsContext:i})=>{window.confirm(r("DELETION_EXPLANATION"))&&e.deleteMessage(t,n)}},{name:"edit",label:"EDIT_MESSAGE",supportsAttachments:!1,needsWriteAccess:!0,action:({actionsContext:{setIsEditing:e}})=>{e(!0)}},{name:"emojiReactions",label:"ADD_REACTION",supportsAttachments:!0,needsWriteAccess:!0,action:({actionsContext:{setEmojiReactionState:e,message:t}})=>{e(t)}}];function bt({className:e,children:t}){const{controller:n,t:r}=u.a.useContext(p.a),i=u.a.useContext(Ot.a),{conversation:o,message:s}=i,{perms:c,meId:l,nyms:h}=Object(At.a)([te.a,ne.a,ee.a],((e,t,n)=>({perms:e.getPermissions(),meId:t.getMe().id,nyms:n.getNyms()}))),d=Object(a.useMemo)((()=>function({perms:e,meId:t,message:n,conversation:r,t:i}){if(!n.saved)return[];const o=n.attachment||n.location,s=St.map((t=>Object.assign(Object.assign({},t),{name:`t:${t.name}`,label:i(t.label),permission:e.messages[t.name]}))),a=ge.b(e.messagesCustom).map((([e,t])=>({name:e,label:t.label,supportsAttachments:!0,needsWriteAccess:t.needsWriteAccess,permission:t.permission,action:t=>t.controller.postCustomMessageAction(e,t.message,t.conversation,t.nyms.get(t.message.senderId))})));return[...s,...a].filter((e=>Dt({perm:e.permission,conversationLike:r,actionLike:e,meId:t,message:n}))).filter((e=>!o||e.supportsAttachments))}({perms:c,meId:l,message:s,conversation:o,t:r})),[c,l,s,o,r]),{ref:f,inView:m}=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,i=t.trackVisibility,o=t.rootMargin,s=t.root,u=t.triggerOnce,c=t.skip,l=t.initialInView,h=a.useRef(),d=a.useState({inView:!!l}),f=d[0],p=d[1],m=a.useCallback((function(e){void 0!==h.current&&(h.current(),h.current=void 0),c||e&&(h.current=pt(e,(function(e,t){p({inView:e,entry:t}),t.isIntersecting&&u&&h.current&&(h.current(),h.current=void 0)}),{root:s,rootMargin:o,threshold:n,trackVisibility:i,delay:r}))}),[Array.isArray(n)?n.toString():n,s,o,u,c,i,r]);Object(a.useEffect)((function(){h.current||!f.entry||u||c||p({inView:!!l})}));var g=[m,f.inView,f.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}({root:document.getElementById("chat-scrollable")});return"UserMessage"===s.type&&d.length?u.a.createElement(vt,{className:e,outOfView:!m,keepMenuWithin:document.getElementById("chat-scrollable"),actions:d,actionParams:{message:s,conversation:o,controller:n,nyms:h,t:r,actionsContext:i},ref:f},t):null}function Dt({perm:e,conversationLike:t,actionLike:n,meId:r,message:i}){return yt(t,n)&&function(e,t,n){return{none:!1,own:n.senderId===t,other:n.senderId!==t,all:!0}[e]}(e,r,i)}var Tt=n(22),Ct=n(77);n(336);class Rt extends et.a{constructor(e){super(e),this.state={html:""}}async componentDidMount(){if(!I.a.IFRAMELY_API_KEY)return;const e=document.documentElement.dataset.colorScheme;try{const t=await fetch(`https://cdn.iframe.ly/api/iframely?url=${encodeURIComponent(this.props.link)}&key=${I.a.IFRAMELY_API_KEY}&iframe=1&omit_script=1&theme=${e}${this.props.compact?"&card=small&media=0":""}`),n=await t.json();if(n.html)this.setState({html:n.html}),i.a.defined(this.context),this.context.setHasLinkPreviews(!0);else{const t=new URL(this.props.link),n=t.hostname,r=t.pathname.split("/").filter((e=>e.length>0)),i="dark"===e,o=i?"black":"white",s=i?"white":"black",a=i?"#808080":"#999";if(r.length>0){const e=r[r.length-1];this.setState({html:`<a style="text-decoration: none" href="${this.props.link}" rel="noopener noreferrer" target="_blank"><div style="background-color: ${o}; color: ${s}; padding: 8px 10px; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif"><div style="font-size: 13px; font-weight: 700; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">&nbsp;${e}</div><div style="font-size: 12px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; color: ${a};">${n}</div></div></a>`})}}}catch(e){}}componentDidUpdate(){window.iframely&&window.iframely.load()}render(){return u.a.createElement(u.a.Fragment,null,this.state.html&&u.a.createElement("div",{className:"LinkPreview",dangerouslySetInnerHTML:{__html:this.state.html}}))}}Rt.contextType=Ot.a;var It=Rt;class Nt extends et.a{constructor(e){super(e)}render(){return u.a.createElement(u.a.Fragment,null,this.props.links.slice(0,3).map(((e,t)=>u.a.createElement(It,{link:e,key:t,compact:this.props.compact}))))}}var wt=n(47);n(337);function kt(e){const t=Object(a.useRef)(void 0);return Object(a.useEffect)((()=>{document.addEventListener("mouseup",(e=>{var n;(null===(n=t.current)||void 0===n?void 0:n.contains(e.target))||(t.current=void 0)}))}),[]),{onClick:n=>{t.current===n.currentTarget?n.preventDefault():null==e||e(n),t.current=void 0},onMouseDown:n=>{0===n.button&&(t.current=n.currentTarget,null==e||e(n))}}}function xt(e){const{children:t,className:n="",fastClick:r=!1,onClick:i}=e,o=Object(O.e)(e,["children","className","fastClick","onClick"]),s=r?kt(i):{onClick:i};return u.a.createElement("button",Object.assign({className:`ButtonIcon ${n}`,type:"button"},o,s),t)}n(338),n(339);var Lt=n(10),Mt=n(130),Pt=200,Ft=function(){};Ft.prototype.append=function(e){return e.length?(e=Ft.from(e),!this.length&&e||e.length<Pt&&this.leafAppend(e)||this.length<Pt&&e.leafPrepend(this)||this.appendInner(e)):this},Ft.prototype.prepend=function(e){return e.length?Ft.from(e).append(this):this},Ft.prototype.appendInner=function(e){return new Bt(this,e)},Ft.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Ft.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Ft.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Ft.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Ft.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Ft.from=function(e){return e instanceof Ft?e:e&&e.length?new jt(e):Ft.empty};var jt=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Pt)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Pt)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Ft);Ft.empty=new jt([]);var Bt=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Ft),Ut=Ft,Ht=n(27);class zt{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=e.tr,u=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new Vt(e.map));let t,i=e.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],u.push(new Vt(t,void 0,void 0,u.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,s=new zt(this.items.slice(0,i).append(c.reverse().concat(u)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let n=0;n<e.steps.length;n++){let u,c=e.steps[n].invert(e.docs[n]),l=new Vt(e.mapping.maps[n],c,t);(u=a&&a.merge(l))&&(l=u,n?i.pop():s=s.slice(0,s.length-1)),i.push(l),t&&(o++,t=void 0),r||(a=l)}let u=o-n.depth;return u>$t&&(s=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(s,u),o-=u),new zt(s.append(i),o)}remapping(e,t){let n=new Ht.a;return this.items.forEach(((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new zt(this.items.append(e.map((e=>new Vt(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let a=t;this.items.forEach((t=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let u=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(a+1,r));c&&s++,n.push(new Vt(u,o,c))}else n.push(new Vt(u))}),r);let u=[];for(let e=t;e<o;e++)u.push(new Vt(i.maps[e]));let c=this.items.slice(0,r).append(u).append(n),l=new zt(c,s);return l.emptyItemCount()>500&&(l=l.compress(this.items.length-n.length)),l}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(((o,s)=>{if(s>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=o.selection&&o.selection.map(t.slice(n));a&&i++;let u,c=new Vt(s.invert(),e,a),l=r.length-1;(u=r.length&&r[l].merge(c))?r[l]=u:r.push(c)}}else o.map&&n--}),this.items.length,0),new zt(Ut.from(r.reverse()),i)}}zt.empty=new zt(Ut.empty,0);class Vt{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Vt(t.getMap().invert(),t,this.selection)}}}class Gt{constructor(e,t,n,r,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}const $t=20;function Yt(e){let t=[];return e.forEach(((e,n,r,i)=>t.push(r,i))),t}function Wt(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function Kt(e,t,n,r){let i=Jt(t),o=Zt.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),u=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),c=new Gt(r?u:s.remaining,r?s.remaining:u,null,0,-1);n(s.transform.setSelection(a).setMeta(Zt,{redo:r,historyState:c}).scrollIntoView())}let qt=!1,Xt=null;function Jt(e){let t=e.plugins;if(Xt!=t){qt=!1,Xt=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){qt=!0;break}}return qt}const Zt=new Lt.PluginKey("history"),Qt=new Lt.PluginKey("closeHistory");function en(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Lt.Plugin({key:Zt,state:{init:()=>new Gt(zt.empty,zt.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let i,o=n.getMeta(Zt);if(o)return o.historyState;n.getMeta(Qt)&&(e=new Gt(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(Zt))return s.getMeta(Zt).redo?new Gt(e.done.addTransform(n,void 0,r,Jt(t)),e.undone,Yt(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new Gt(e.done,e.undone.addTransform(n,void 0,r,Jt(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Gt(e.done.rebased(n,i),e.undone.rebased(n,i),Wt(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Gt(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Wt(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let i=n.getMeta("composition"),o=0==e.prevTime||!s&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),a=s?Wt(e.prevRanges,n.mapping):Yt(n.mapping.maps[n.steps.length-1]);return new Gt(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,Jt(t)),zt.empty,a,n.time,null==i?e.prevComposition:i)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?tn:"historyRedo"==n?nn:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const tn=(e,t)=>{let n=Zt.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Kt(n,e,t,!1),!0)},nn=(e,t)=>{let n=Zt.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Kt(n,e,t,!0),!0)};var rn=n(5);const on=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function sn(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function an(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function un(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function cn(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}function ln(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function hn(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dn=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Lt.NodeSelection&&e.selection.node.isBlock)return!(!n.parentOffset||!Object(Ht.f)(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,o=e.tr;(e.selection instanceof Lt.TextSelection||e.selection instanceof Lt.AllSelection)&&o.deleteSelection();let s=0==n.depth?null:hn(n.node(-1).contentMatchAt(n.indexAfter(-1))),a=fn&&fn(r.parent,i),u=a?[a]:i&&s?[{type:s}]:void 0,c=Object(Ht.f)(o.doc,o.mapping.map(n.pos),1,u);if(u||c||!Object(Ht.f)(o.doc,o.mapping.map(n.pos),1,s?[{type:s}]:void 0)||(s&&(u=[{type:s}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,u),!i&&!n.parentOffset&&n.parent.type!=s)){let e=o.mapping.map(n.before()),t=o.doc.resolve(e);s&&n.node(-1).canReplaceWith(t.index(),t.index()+1,s)&&o.setNodeMarkup(o.mapping.map(n.before()),s)}t(o.scrollIntoView())}return!0};var fn;function pn(e,t,n){let r,i,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!i.isTextblock&&!Object(Ht.e)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){let i=t.pos+s.nodeSize,a=rn.c.empty;for(let e=r.length-1;e>=0;e--)a=rn.c.from(r[e].create(null,a));a=rn.c.from(o.copy(a));let u=e.tr.step(new Ht.b(t.pos-1,i,t.pos,i,new rn.i(a,1,0),r.length,!0)),c=i+2*r.length;Object(Ht.e)(u.doc,c)&&u.join(c),n(u.scrollIntoView())}return!0}let u=Lt.Selection.findFrom(t,1),c=u&&u.$from.blockRange(u.$to),l=c&&Object(Ht.j)(c);if(null!=l&&l>=t.depth)return n&&n(e.tr.lift(c,l).scrollIntoView()),!0;if(a&&an(s,"start",!0)&&an(o,"end")){let r=o,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let a=s,u=1;for(;!a.isTextblock;a=a.firstChild)u++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=rn.c.empty;for(let e=i.length-1;e>=0;e--)r=rn.c.from(i[e].copy(r));n(e.tr.step(new Ht.b(t.pos-i.length,t.pos+s.nodeSize,t.pos+u,t.pos+s.nodeSize-u,new rn.i(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function mn(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(Lt.TextSelection.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const gn=mn(-1),En=mn(1);function _n(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let vn=_n(on,((e,t,n)=>{let r=sn(e,n);if(!r)return!1;let i=un(r);if(!i){let n=r.blockRange(),i=n&&Object(Ht.j)(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&pn(e,i,t))return!0;if(0==r.parent.content.size&&(an(o,"end")||Lt.NodeSelection.isSelectable(o))){let n=Object(Ht.k)(e.doc,r.before(),r.after(),rn.i.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(an(o,"end")?Lt.Selection.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):Lt.NodeSelection.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)}),((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=un(r)}let s=o&&o.nodeBefore;return!(!s||!Lt.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(Lt.NodeSelection.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)})),An=_n(on,((e,t,n)=>{let r=cn(e,n);if(!r)return!1;let i=ln(r);if(!i)return!1;let o=i.nodeAfter;if(pn(e,i,t))return!0;if(0==r.parent.content.size&&(an(o,"start")||Lt.NodeSelection.isSelectable(o))){let n=Object(Ht.k)(e.doc,r.before(),r.after(),rn.i.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(an(o,"start")?Lt.Selection.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):Lt.NodeSelection.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)}),((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=ln(r)}let s=o&&o.nodeAfter;return!(!s||!Lt.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(Lt.NodeSelection.create(e.doc,o.pos)).scrollIntoView()),!0)}));const yn={Enter:_n(((e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),((e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Lt.AllSelection||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=hn(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(n,o.createAndFill());s.setSelection(Lt.TextSelection.create(s.doc,n+1)),t(s.scrollIntoView())}return!0}),((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Object(Ht.f)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Object(Ht.j)(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)}),dn),"Mod-Enter":(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=hn(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,s.createAndFill());i.setSelection(Lt.Selection.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},Backspace:vn,"Mod-Backspace":vn,"Shift-Backspace":vn,Delete:An,"Mod-Delete":An,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new Lt.AllSelection(e.doc))),!0)},On={"Ctrl-h":yn.Backspace,"Alt-Backspace":yn["Mod-Backspace"],"Ctrl-d":yn.Delete,"Ctrl-Alt-Backspace":yn["Mod-Delete"],"Alt-Delete":yn["Mod-Delete"],"Alt-d":yn["Mod-Delete"],"Ctrl-a":gn,"Ctrl-e":En};for(let e in yn)On[e]=yn[e];const Sn=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?On:yn;for(var bn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Dn={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Tn="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Cn="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Rn="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),In="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Nn="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),wn=Tn&&(In||+Tn[1]<57)||Rn&&In,kn=0;kn<10;kn++)bn[48+kn]=bn[96+kn]=String(kn);for(kn=1;kn<=24;kn++)bn[kn+111]="F"+kn;for(kn=65;kn<=90;kn++)bn[kn]=String.fromCharCode(kn+32),Dn[kn]=String.fromCharCode(kn);for(var xn in bn)Dn.hasOwnProperty(xn)||(Dn[xn]=bn[xn]);const Ln="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Mn(e){let t,n,r,i,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let e=0;e<o.length-1;e++){let s=o[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);Ln?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function Pn(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Fn(e){return new Lt.Plugin({props:{handleKeyDown:jn(e)}})}function jn(e){let t=function(e){let t=Object.create(null);for(let n in e)t[Mn(n)]=e[n];return t}(e);return function(e,n){let r,i=function(e){var t=!(wn&&(e.ctrlKey||e.altKey||e.metaKey)||(Cn||Nn)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Dn:bn)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=t[Pn(i,n)];if(o&&o(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){let r=t[Pn(i,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=bn[n.keyCode])&&r!=i){let i=t[Pn(r,n)];if(i&&i(e.state,e.dispatch,e))return!0}}return!1}}const Bn=new rn.h({nodes:{doc:{content:"paragraph+"},paragraph:{code:!0,content:"inline*",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},text:{group:"inline"},mention:{group:"inline",inline:!0,attrs:{id:{},name:{}},content:"text*",toDOM:e=>["span",{"data-mention-id":e.attrs.id},`@${e.attrs.name}`],parseDOM:[{tag:"span[data-mention-id]",getAttrs:e=>({id:e.dataset["mention-id"]})}]},customemoji:{group:"inline",inline:!0,attrs:{name:{},url:{}},content:"text*",selectable:!1,toDOM:e=>["img",{src:e.attrs.url,alt:e.attrs.name,"data-custom-emoji":e.attrs.name}],parseDOM:[{tag:"img[data-custom-emoji]",getAttrs:e=>({name:e.dataset.customEmoji,url:e.src})}]}},marks:{literal:{toDOM:()=>["span",{"data-literal":""}],parseDOM:[{tag:"span[data-literal]"}]},bold:{toDOM:()=>["b"],parseDOM:[{tag:"b"}]},italic:{toDOM:()=>["i"],parseDOM:[{tag:"i"}]},strikethrough:{toDOM:()=>["del"],parseDOM:[{tag:"del"}]},emoji:{attrs:{emoji:{}},toDOM:e=>["span",{"data-emoji":e.attrs.emoji},e.attrs.emoji],parseDOM:[{tag:"span[data-emoji]",getAttrs:e=>({emoji:e.dataset.emoji})}]}}});class Un{constructor(e,t,n={}){var r;this.match=e,this.match=e,this.handler="string"==typeof t?(r=t,function(e,t,n,i){let o=r;if(t[1]){let e=t[0].lastIndexOf(t[1]);o+=t[0].slice(e+t[1].length);let r=(n+=e)-i;r>0&&(o=t[0].slice(e-r,e)+o,n=i)}return e.tr.insertText(o,n,i)}):t,this.undoable=!1!==n.undoable}}function Hn({rules:e}){let t=new Lt.Plugin({state:{init:()=>null,apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(n,r,i,o)=>zn(n,r,i,o,e,t),handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&zn(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}function zn(e,t,n,r,i,o){if(e.composing)return!1;let s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;let u=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"")+r;for(let a=0;a<i.length;a++){let c=i[a],l=c.match.exec(u),h=l&&c.handler(s,l,t-(l[0].length-r.length),n);if(h)return c.undoable&&h.setMeta(o,{transform:h,from:t,to:n,text:r}),e.dispatch(h),!0}return!1}new Un(/--$/,""),new Un(/\.\.\.$/,""),new Un(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new Un(/"$/,""),new Un(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new Un(/'$/,"");const Vn=new Lt.PluginKey("placeholder"),Gn=new Lt.Plugin({key:Vn,props:{decorations(e){if($n(e.doc))return;const t=e.doc.firstChild,n=Mt.Decoration.node(0,t.nodeSize,{class:"empty-node","data-placeholder":Vn.getState(e)});return Mt.DecorationSet.create(e.doc,[n])}},state:{init:()=>"",apply:(e,t)=>{var n;return null!==(n=e.getMeta(Vn))&&void 0!==n?n:t}}});function $n(e){return 1!==e.childCount||0!==e.firstChild.childCount}var Yn=n(154);class Wn{constructor(e,t,n,r){this._schema=e,this._onSuggest=t,this._onKeydown=n,this.customEmojiUrls=r}setView(e){this.view=e}plugin(){return Object(Yn.suggestionsPlugin)({debug:!1,matcher:Kn(qn,this._schema),onEnter:e=>this.suggest(e.text,e.range),onChange:e=>this.suggest(e.text,e.range),onExit:()=>this.exit(),onKeyDown:({event:e})=>this.keydown(e.key)})}createNode(e){if(e.startsWith(":"))return this._schema.nodes.customemoji.create({name:e,url:this.customEmojiUrls[e]},this._schema.text(`<!!customemoji:${e}>`));{const t=this._schema.marks.emoji.create({emoji:e});return this._schema.text(e,[t])}}insert(e){i.a.defined(this.view);const t=this.createNode(e);let n;if(this.range){const{from:e,to:r}=this.range;n=this.view.state.tr.replaceRangeWith(e,r,t)}else n=this.view.state.tr.replaceSelectionWith(t,!1);this.view.dispatch(n)}markAsLiteral(){i.a.defined(this.view),i.a.defined(this.range);const{from:e,to:t}=this.range,n=this.view.state.tr.addMark(e,t,this._schema.marks.literal.create());this.view.dispatch(n)}exit(){this.range=void 0,this._onSuggest(void 0)}suggest(e,t){e.length<2?this.exit():(this.range=t,this._onSuggest(e))}keydown(e){return!!this.range&&("Escape"===e?(this.markAsLiteral(),!0):this._onKeydown(e))}}const Kn=(e,t)=>n=>{var r;const i=null===(r=n.nodeBefore)||void 0===r?void 0:r.text;if(!i)return;const o=i.match(e);if(!o)return;const s=o[2],a=n.pos-s.length,u=n.pos;if(n.doc.rangeHasMark(a,u,t.marks.literal))return;return{range:{from:a,to:u},text:s}},qn=/(^|\s)(:[^:\s]+)$/;class Xn{constructor(e,t,n){this._schema=e,this._onSuggest=t,this._onKeydown=n}setView(e){this.view=e}plugin(){return Object(Yn.suggestionsPlugin)({debug:!1,matcher:Kn(Jn,this._schema),onEnter:e=>this.suggest(e.text,e.range),onChange:e=>this.suggest(e.text,e.range),onExit:()=>this.exit(),onKeyDown:({event:e})=>this.keydown(e.key)})}insert(e){i.a.defined(this.view);const t=this.createNode(e.externalId,e.name);let n=this.view.state.tr;if(this.range){const{from:e,to:r}=this.range;n=n.replaceRangeWith(e,r,t)}else n=n.replaceSelectionWith(t,!1);n=n.insertText(" "),this.view.dispatch(n),this.exit()}createNode(e,t){const n=encodeURIComponent(e);return this._schema.nodes.mention.create({id:e,name:t},this._schema.text(`<!!mention:${n}|${t}>`))}markAsLiteral(){i.a.defined(this.view),i.a.defined(this.range);const{from:e,to:t}=this.range,n=this.view.state.tr.addMark(e,t,this._schema.marks.literal.create());this.view.dispatch(n)}exit(){this.range=void 0,this._onSuggest(void 0)}suggest(e,t){e.length<1?this.exit():(this.range=t,this._onSuggest(e))}keydown(e){return!!this.range&&("Escape"===e?(this.markAsLiteral(),!0):this._onKeydown(e))}}const Jn=/(^|\s)(@[^@]*)$/;function Zn(e,t,n){const r=t.clipboardData;if(!r)return!1;const i=function(e){const t=e.items||[],n={"image/gif":"gif","image/png":"png","image/jpeg":"jpg","image/svg+xml":"svg"},r=Array.from(t).filter((e=>"file"===e.kind&&n[e.type]));if(0===r.length)return;if(e.types.includes("text/rtf"))return;const i=r[0];let o=i.getAsFile();if(!o.name){const e="image."+n[i.type];o=new File([o],e,{type:i.type,lastModified:Date.now()})}return o}(r);if(i)n(i);else{!function(e,t){const n=e.state.tr.insertText(t.replace(/\r\n/g,"\n")).scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste");e.dispatch(n)}(e,r.getData("text/plain"))}return!0}function Qn(){let e,t=0;return n=>{const r=(r=Date.now())=>{window.clearTimeout(e),e=void 0,t=r;const o=function(e){const t=(e=(e=(e=e.removeMark(0,e.doc.content.size,Bn.marks.bold)).removeMark(0,e.doc.content.size,Bn.marks.italic)).removeMark(0,e.doc.content.size,Bn.marks.strikethrough)).doc.firstChild;i.a.defined(t);const n=function(e){let t,n=[],r="";e.descendants(((e,i)=>(e.isText?(r+=e.text,null!=t||(t=i)):r&&void 0!==t&&(n.push({text:r,pos:t}),r="",t=void 0),e.type!==Bn.nodes.mention))),r&&void 0!==t&&n.push({text:r,pos:t});return n}(e.doc);for(let{text:t,pos:r}of n){const n=Object(V.b)(t,{only:["Wikitext"]});[e]=er(e,r,n)}return e}(n.state.tr);n.dispatch(o)},o=Date.now();o-t<300?e||(e=window.setTimeout(r,300)):r(o)}}function er(e,t,n,r=0,o=[]){for(let s of n)if("string"==typeof s){for(let n of o)e.addMark(t+r,t+r+s.length,n.create());r+=s.length}else if("bold"===s.type||"italic"===s.type||"strikethrough"===s.type){r+=1;const n=Bn.marks[s.type],i=[...o,n];[e,r]=er(e,t,s.children,r,i),r+=1}else i.a.never();return[e,r]}function tr(e){return(t,n)=>{if(!n)return!0;let r=t.tr;const i=Lt.TextSelection.between(t.selection.$from,t.selection.$to);return r=r.replaceRangeWith(i.from,i.from,Bn.text(e,r.storedMarks)),r=r.replaceRangeWith(i.to+1,i.to+1,Bn.text(e,r.storedMarks)),r=r.setSelection(Lt.TextSelection.near(r.doc.resolve(i.to+1))),n(r),!0}}var nr=n(16);const rr=u.a.forwardRef(((e,t)=>{const n=Object(a.useRef)(null),r=Object(a.useRef)(),[o,s]=Object(a.useState)(!0),c=Object(a.useContext)(p.a),l=Object(a.useRef)(e.enableEmojis?new Wn(Bn,e.onSuggestEmojis,e.onSuggestKeyDown,c.customEmojiUrls.compose):void 0),h=Object(a.useRef)(e.enableMentions?new Xn(Bn,e.onSuggestMentions,e.onSuggestKeyDown):void 0);return Object(a.useEffect)((()=>s(!1)),[]),Object(a.useEffect)((()=>{var t,i,o,s;const a=null===(t=l.current)||void 0===t?void 0:t.plugin(),u=null===(i=h.current)||void 0===i?void 0:i.plugin();r.current=function(e,t,n,r,i,o,s,a){const u=new Un(/\u00a0$/," "),c=Lt.EditorState.create({schema:Bn,plugins:[...s.filter(R.s),en(),Fn(Object.assign(Object.assign({},Sn),{"Mod-z":tn,"Mod-y":nn,"Mod-b":tr("*"),"Mod-i":tr("_"),"Mod-Enter":Sn.Enter,"Shift-Enter":Sn.Enter,Enter:n,Escape:r,ArrowUp:i})),Fn({Enter:Sn.Enter}),Hn({rules:[u]}),Gn]}),l=Qn(),h=new Mt.EditorView(e,{handlePaste:(e,t,n)=>Zn(e,t,o),handleDOMEvents:{focus:a,blur:a},clipboardTextSerializer(e){const t=[];return e.content.forEach((e=>{e&&t.push(Object(nr.c)(e.textContent))})),t.join()},state:c,dispatchTransaction(e){e=(e=e.removeStoredMark(Bn.marks.literal)).removeStoredMark(Bn.marks.emoji);const n=h.state.apply(e);h.state.doc.eq(n.doc)||t(new ir(n.doc)),h.updateState(n),e.steps.some((e=>e instanceof Ht.c))&&setTimeout((()=>l(h)),0)}});return h}(n.current,e.onChange,e.onEnter,e.onEscape,e.onUpArrow,e.onPasteImage,[a,u],e.onChangeFocus),null===(o=l.current)||void 0===o||o.setView(r.current),null===(s=h.current)||void 0===s||s.setView(r.current)}),[]),Object(a.useEffect)((()=>{const t=r.current;null==t||t.dispatch(t.state.tr.setMeta(Gn,e.placeholderText))}),[r.current,e.placeholderText]),Object(a.useEffect)((()=>{var t;null===(t=r.current)||void 0===t||t.setProps({attributes:{spellcheck:String(e.spellcheck),class:`pretty-scrollbars test__entry-field ${e.className}`,"aria-label":e.placeholderText,role:"textbox"},editable:()=>!e.disabled})}),[e.className]),Object(a.useImperativeHandle)(t,(()=>({focus(){var e;null===(e=r.current)||void 0===e||e.dom.focus()},setContentWithInternalMarkers(e){const t=r.current,n=t.state.doc.content.size;i.a.defined(h);const o=e.split(/(\<\!\!(?:mention|customemoji)\:.*?\>)/g).filter((e=>e||e.length)).map((e=>{const[t,n,r]=e.match(/\<\!\!mention\:(.*)\|(.*)\>/)||[null];if(t&&n&&r)return h.current.createNode(decodeURIComponent(n),r);const[i,o]=e.match(/\<\!\!customemoji\:(.*?)\>/)||[null];return i&&o?l.current.createNode(o):Bn.text(e)})),s=t.state.tr.replaceWith(0,n,o);t.dispatch(s)},setText(e,t="replace"){const n=r.current,i=n.state.doc.content.size,o="insert"===t?n.state.tr.insertText(e):n.state.tr.insertText(e,0,i);n.dispatch(o)},insertEmoji(e){var t;null===(t=l.current)||void 0===t||t.insert(e)},insertMention(e){i.a.defined(h.current),h.current.insert(e)},isInViewport:async()=>R.u(n.current)}))),u.a.createElement("div",{className:"Editor",ref:n},o&&u.a.createElement("div",{key:"dummy-entry-field",className:e.className},u.a.createElement("p",{"data-placeholder":e.placeholderText,className:"empty-node"},u.a.createElement("br",null))))}));class ir{constructor(e){this.doc=e,this.size=this.doc.content.size,this.hasContent=$n(this.doc)}hasNonWhitespaceContent(){return this.hasContent&&function(e){let t=!1;return e.descendants((e=>!(e.isText&&e.text&&/\S/.test(e.text))||(t=!0,!1))),t}(this.doc)}asText(){return this.doc.textContent.replace(/\xa0/g," ")}}ir.EMPTY=new ir(Bn.topNodeType.create());n(340);let or;function sr(){return or||(or=async function(){await async function(){if("undefined"==typeof indexedDB)return!1;const e="testdb"+Math.random();try{await new Promise(((t,n)=>{const r=indexedDB.open(e);r.onerror=n,r.onsuccess=()=>{try{r.result.close()}finally{indexedDB.deleteDatabase(e)}t()}}))}catch(e){return!1}return!0}()||await async function(){const{FakeIndexedDB:e,FDBKeyRange:t}=await Promise.all([n.e(10),n.e(12)]).then(n.bind(null,933));if(indexedDB){for(const t of["open","deleteDatabase"])indexedDB[t]=e[t].bind(e);for(const e of["bound","lowerBound","upperBound","only"])IDBKeyRange[e]=t[e].bind(t)}else window.indexedDB=e,window.IDBKeyRange=t}()}()),or}function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ur(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cr(e,t)}function hr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var dr=n(53),fr=n.n(dr),pr=!1,mr=u.a.createContext(null),gr="unmounted",Er="exited",_r="entering",vr="entered",Ar="exiting",yr=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Er,r.appearStatus=_r):i=vr:i=t.unmountOnExit||t.mountOnEnter?gr:Er,r.state={status:i},r.nextCallback=null,r}lr(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===gr?{status:Er}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==_r&&n!==vr&&(t=_r):n!==_r&&n!==vr||(t=Ar)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===_r?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Er&&this.setState({status:gr})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[fr.a.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),u=r?a.appear:a.enter;!e&&!n||pr?this.safeSetState({status:vr},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:_r},(function(){t.props.onEntering(o,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:vr},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:fr.a.findDOMNode(this);t&&!pr?(this.props.onExit(r),this.safeSetState({status:Ar},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Er},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Er},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:fr.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===gr)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ur(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u.a.createElement(mr.Provider,{value:null},"function"==typeof n?n(e,r):u.a.cloneElement(u.a.Children.only(n),r))},t}(u.a.Component);function Or(){}yr.contextType=mr,yr.propTypes={},yr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Or,onEntering:Or,onEntered:Or,onExit:Or,onExiting:Or,onExited:Or},yr.UNMOUNTED=gr,yr.EXITED=Er,yr.ENTERING=_r,yr.ENTERED=vr,yr.EXITING=Ar;var Sr=yr,br=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=hr(n.className,r):n.setAttribute("class",hr(n.className&&n.className.baseVal||"",r)));var n,r}))},Dr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}lr(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&br(e,r),i&&br(e,i),o&&br(e,o)},n.render=function(){var e=this.props,t=(e.classNames,ur(e,["classNames"]));return u.a.createElement(Sr,ar({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.a.Component);Dr.defaultProps={classNames:""},Dr.propTypes={};var Tr=Dr;function Cr({focused:e,setFocused:t,buttonId:n}){Object(a.useLayoutEffect)((()=>{var t;const r=n(e);r&&(null===(t=document.getElementById(r))||void 0===t||t.scrollIntoView({block:"nearest"}))}),[e,n]);const r=Object(a.useCallback)((e=>{const n=e.currentTarget.dataset.index;t(+n)}),[t]);return{containerProps:Object(a.useMemo)((()=>({role:"menu","aria-activedescendant":n(e)})),[e,n]),itemProps:Object(a.useCallback)((e=>({onMouseMove:r,id:n(e),"data-index":e})),[r,n])}}var Rr=n(83);const Ir={ltr:["ArrowLeft","ArrowRight"],rtl:["ArrowRight","ArrowLeft"],ttb:["ArrowUp","ArrowDown"]};function Nr(e,{focused:t,setFocused:n,itemCount:r,dir:i,onConfirm:o,onSpace:s}){if(0===r)return!1;const a=e=>{e=Object(Ie.b)(0,e,r-1),n(e)},[u,c]=Ir[i];switch(e){case u:return a(t-1),!0;case c:return a(t+1),!0;case" ":return!!s&&s();case"Enter":case"Tab":return o(),!0}return!1}var wr=n(121);const kr=Object(wr.a)(),xr=u.a.forwardRef((function(e,t){const{query:r,onSelect:o,className:s}=e,c=Object(a.useRef)(),[l,h]=Object(a.useState)([]),[d,f]=Object(a.useState)([]),[m,g]=Object(a.useState)(0),[E,_]=Object(a.useState)(0),{customEmojiUrls:v}=Object(a.useContext)(p.a);Object(a.useEffect)((()=>{r?async function(){if(!c.current){const[e]=await Promise.all([n.e(2).then(n.bind(null,1001)),sr()]),t=e.Database;c.current=new t({customEmoji:Lr(v.compose)})}i.a.defined(kr),_(await c.current.getPreferredSkinTone());const e=c.current.getEmojiBySearchQuery(r);let t=await e;t=t.filter((e=>e.url||function(e){return e.version<=kr&&!Br.includes(e.unicode)}(e))),g(0),h(t),t.length>0&&f(t)}():h([])}),[r]);const A=Object(a.useCallback)((e=>{const t=l[e];return t&&"emoji-button-"+Mr(t,E)}),[d,E]),{containerProps:y,itemProps:O}=Cr({focused:m,setFocused:g,buttonId:A});Object(a.useImperativeHandle)(t,(()=>({setSkinTone(e){_(e)},keydown(e){var t;return Nr(e,{dir:null!==(t=document.documentElement.dir)&&void 0!==t?t:"ltr",focused:m,setFocused:g,itemCount:l.length,onConfirm(){const e=l[m];o(Mr(e,E))}})}})));const S=l.length>0;return u.a.createElement(Tr,{in:S,timeout:100,classNames:"slide",mountOnEnter:!0,unmountOnExit:!0},u.a.createElement("div",Object.assign({className:`pretty-scrollbars ${s}`},y),d.map(((e,t)=>u.a.createElement(Fr,Object.assign({key:Mr(e,E),emoji:e,skinTone:E,focused:t===m,onSelect:o},O(t)))))))}));function Lr(e){return ge.a(e,((e,t)=>({name:t,shortcodes:[t.replace(/^:|:$/g,"")],url:e})))}function Mr(e,t){return Pr(e)?jr(e,t):e.name}function Pr(e){return!!e.unicode}function Fr(e){var t;const{emoji:n,focused:r,skinTone:i,onSelect:o}=e,s=Object(O.e)(e,["emoji","focused","skinTone","onSelect"]),a=(null!==(t=n.shortcodes)&&void 0!==t?t:[]).join(", "),c=Pr(n)?[n.unicode,a].join(", "):a,l=Pr(n)?jr(n,i):u.a.createElement(Rr.a,{src:n.url,alt:n.name});return u.a.createElement("button",Object.assign({className:r?"focused":void 0,title:a,"aria-label":c,onClick:()=>o(Mr(n,i))},s),l)}function jr(e,t){var n,r;const i=null===(n=e.skins)||void 0===n?void 0:n.find((e=>e.tone===t));return null!==(r=null==i?void 0:i.unicode)&&void 0!==r?r:e.unicode}const Br=["","","","",""];n(341),n(342);var Ur=n(43);function Hr(e){return u.a.createElement(Ur.b,Object.assign({className:"LoadingSpinner",type:"spinner"},e,{alt:"Loading"}))}class zr extends u.a.PureComponent{constructor(e){super(e),this.customEmoji=Object(wt.a)((()=>Lr(this.context.customEmojiUrls.compose))),this.state={loaded:!1}}async componentDidMount(){const[e]=await Promise.all([n.e(2).then(n.bind(null,1001)),sr()]);new e.Database({customEmoji:this.customEmoji()});const t=this.props.show?this.getSnapshotBeforeUpdate().scrollableHeight:void 0;this.setState({loaded:!0,maxHeight:t})}getSnapshotBeforeUpdate(){var e,t;return{scrollableHeight:null!==(t=null===(e=document.getElementById("chat-scrollable"))||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0}}componentDidUpdate(e,t,n){!e.show&&this.props.show&&this.setState({maxHeight:n.scrollableHeight})}render(){var e;const t={maxHeight:this.state.maxHeight},n=(null!==(e=this.state.maxHeight)&&void 0!==e?e:0)<200;return this.props.show&&u.a.createElement("div",{style:t,className:"EmojiPicker slide-enter-done"},this.state.loaded&&u.a.createElement(Gr,Object.assign({small:n,customEmoji:this.customEmoji()},this.props)),!this.state.loaded&&u.a.createElement("div",{className:"EmojiPickerLoading"},u.a.createElement(Hr,null)))}}zr.contextType=p.a;var Vr=zr;function Gr(e){i.a.falsy(!1);const t=Object(a.useRef)(null);Object(a.useEffect)((()=>{t.current.customEmoji=e.customEmoji,t.current.addEventListener("emoji-click",(t=>{const n=Mr(t.detail.emoji,t.detail.skinTone);i.a.defined(n),e.onSelect(n)})),t.current.addEventListener("skin-tone-change",(t=>{e.onSkinToneChange(t.detail.skinTone)}));const r=n(343),o=document.createElement("style");o.textContent=r;const s=t.current.shadowRoot;s.appendChild(o);const a=s.querySelector(".picker"),u=a.style.getPropertyValue("--font-family");a.style.setProperty("--font-family",'"Twemoji Country Flags",'+u),document.documentElement.classList.contains("has-visible-scrollbar")&&s.querySelector(".picker").classList.add("has-visible-scrollbar")}),[]),Object(a.useEffect)((()=>{var n,r,i;e.show&&(null===(i=null===(r=null===(n=t.current)||void 0===n?void 0:n.shadowRoot)||void 0===r?void 0:r.getElementById("search"))||void 0===i||i.focus())}),[e.show]),R.H(e.onClose,e.show);const r=document.documentElement.dataset.colorScheme+(e.small?" small":"");return u.a.createElement("emoji-picker",{ref:t,class:r})}var $r=n(109);const Yr=u.a.memo(u.a.forwardRef((function(e,t){const{query:n,options:r,onSelect:i,className:o}=e,[s,c]=Object(a.useState)(0),l=Object(a.useMemo)((()=>L.b(r,(e=>[e.id,Object(Ie.h)(e.name)]))),[r]),h=Object(a.useMemo)((()=>{if(!n)return[];const e=Kr(n);return""===e?r:r.filter((t=>l[t.id].some((t=>Object(Ie.a)(t,e)))))}),[n,r,l]),d=Object(a.useRef)(void 0);Object(a.useEffect)((()=>{if(d.current){const e=h.findIndex((e=>e.id===d.current));c(-1===e?0:e)}}),[h]),Object(a.useEffect)((()=>{var e;d.current=null===(e=h[s])||void 0===e?void 0:e.id}),[s,h]);const f=Object(a.useCallback)((e=>{var t;const n=null===(t=h[e])||void 0===t?void 0:t.id;return n&&"mention-button-"+n}),[h]),{containerProps:p,itemProps:m}=Cr({focused:s,setFocused:c,buttonId:f});Object(a.useImperativeHandle)(t,(()=>({keydown:e=>Nr(e,{dir:"ttb",focused:s,setFocused:c,itemCount:h.length,onSpace(){if(n){const e=h[s];if(Object(Ie.i)(e.name,Kr(n)))return i(e.id),!0}return!1},onConfirm(){const e=h[s];i(e.id)}})})));const g=Object(a.useRef)();return Object(a.useEffect)((()=>{var e;g.current=null!==(e=document.querySelector(".ProseMirror-suggestion"))&&void 0!==e?e:void 0}),[n,g.current]),0===h.length?null:u.a.createElement($r.b,{targetRef:g,position:$r.c},u.a.createElement("div",Object.assign({className:`pretty-scrollbars ${o}`},p),h.map(((e,t)=>u.a.createElement(Wr,Object.assign({key:e.id,nym:e,isFocused:t===s,onSelect:i},m(t)))))))}))),Wr=u.a.memo((function(e){const{nym:t,isFocused:n,onSelect:r}=e,i=Object(O.e)(e,["nym","isFocused","onSelect"]);return u.a.createElement("button",Object.assign({className:n?"focused":"",onClick:()=>r(t.id)},i),t.name)}));function Kr(e){return i.a.equals(e[0],"@"),e.substring(1)}var qr=class{constructor(){this.listeners={}}on(e,t,n){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),null==n?void 0:n.once){const n=()=>{this.un(e,n),this.un(e,t)};return this.on(e,n),n}return()=>this.un(e,t)}un(e,t){var n;null===(n=this.listeners[e])||void 0===n||n.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach((e=>e(...t)))}};var Xr=class extends qr{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e()))}},Jr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var Zr={decode:function(e,t){return Jr(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally((()=>n.close()))}))},createBuffer:function(e,t){return"number"==typeof e[0]&&(e=[e]),function(e){const t=e[0];if(t.some((e=>e>1||e<-1))){const n=t.length;let r=0;for(let e=0;e<n;e++){const n=Math.abs(t[e]);n>r&&(r=n)}for(const t of e)for(let e=0;e<n;e++)t[e]/=r}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:t=>null==e?void 0:e[t],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Qr(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[e,r]of Object.entries(t))if("children"===e)for(const[e,r]of Object.entries(t))"string"==typeof r?n.appendChild(document.createTextNode(r)):n.appendChild(Qr(e,r));else"style"===e?Object.assign(n.style,r):"textContent"===e?n.textContent=r:n.setAttribute(e,r.toString());return n}function ei(e,t,n){const r=Qr(e,t||{});return null==n||n.appendChild(r),r}var ti=ei,ni=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var ri={fetchBlob:function(e,t,n){return ni(this,void 0,void 0,(function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(e,t){ni(this,void 0,void 0,(function*(){if(!e.body||!e.headers)return;const n=e.body.getReader(),r=Number(e.headers.get("Content-Length"))||0;let i=0;const o=e=>ni(this,void 0,void 0,(function*(){i+=(null==e?void 0:e.length)||0;const n=Math.round(i/r*100);t(n)})),s=()=>ni(this,void 0,void 0,(function*(){let e;try{e=yield n.read()}catch(e){return}e.done||(o(e.value),yield s())}));s()}))}(r.clone(),t),r.blob()}))}},ii=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var oi=class extends qr{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),null!=e.playbackRate&&this.onceMediaEvent("canplay",(()=>{null!=e.playbackRate&&(this.media.playbackRate=e.playbackRate)}))}onMediaEvent(e,t,n){return this.media.addEventListener(e,t,n),()=>this.media.removeEventListener(e,t)}onceMediaEvent(e,t){return this.onMediaEvent(e,t,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return""!==this.media.canPlayType(e)}setSrc(e,t){if(this.getSrc()===e)return;this.revokeSrc();const n=t instanceof Blob&&this.canPlayType(t.type)?URL.createObjectURL(t):e;this.media.src=n}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return ii(this,void 0,void 0,(function*(){if(this.media.src)return this.media.play()}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=e}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,t){null!=t&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}};var si=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};class ai extends qr{constructor(e,t){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=e;const n=this.parentFromOptionsContainer(e.container);this.parent=n;const[r,i]=this.initHtml();n.appendChild(r),this.container=r,this.scrollContainer=i.querySelector(".scroll"),this.wrapper=i.querySelector(".wrapper"),this.canvasWrapper=i.querySelector(".canvases"),this.progressWrapper=i.querySelector(".progress"),this.cursor=i.querySelector(".cursor"),t&&i.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if("string"==typeof e?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){const e=e=>{const t=this.wrapper.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientX-t.left;return[n/t.width,r/t.height]};this.wrapper.addEventListener("click",(t=>{const[n,r]=e(t);this.emit("click",n,r)})),this.wrapper.addEventListener("dblclick",(t=>{const[n,r]=e(t);this.emit("dblclick",n,r)})),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:e,scrollWidth:t,clientWidth:n}=this.scrollContainer,r=e/t,i=(e+n)/t;this.emit("scroll",r,i)}));const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&"auto"!==this.options.height||(this.lastContainerWidth=e,this.reRender())}initDrag(){!function(e,t,n,r,i=3,o=0){if(!e)return()=>{};let s=()=>{};const a=a=>{if(a.button!==o)return;a.preventDefault(),a.stopPropagation();let u=a.clientX,c=a.clientY,l=!1;const h=r=>{r.preventDefault(),r.stopPropagation();const o=r.clientX,s=r.clientY,a=o-u,h=s-c;if(l||Math.abs(a)>i||Math.abs(h)>i){const r=e.getBoundingClientRect(),{left:i,top:d}=r;l||(null==n||n(u-i,c-d),l=!0),t(a,h,o-i,s-d),u=o,c=s}},d=()=>{l&&(null==r||r()),s()},f=e=>{e.relatedTarget&&e.relatedTarget!==document.documentElement||d()},p=e=>{l&&(e.stopPropagation(),e.preventDefault())},m=e=>{l&&e.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",d),document.addEventListener("pointerout",f),document.addEventListener("pointercancel",f),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("click",p,{capture:!0}),s=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",d),document.removeEventListener("pointerout",f),document.removeEventListener("pointercancel",f),document.removeEventListener("touchmove",m),setTimeout((()=>{document.removeEventListener("click",p,{capture:!0})}),10)}};e.addEventListener("pointerdown",a)}(this.wrapper,((e,t,n)=>{this.emit("drag",Math.max(0,Math.min(1,n/this.wrapper.getBoundingClientRect().width)))}),(()=>this.isDragging=!0),(()=>this.isDragging=!1))}getHeight(e){return null==e?128:isNaN(Number(e))?"auto"===e&&this.parent.clientHeight||128:Number(e)}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"});return t.innerHTML=`\n      <style>\n        :host {\n          user-select: none;\n          min-width: 1px;\n        }\n        :host audio {\n          display: block;\n          width: 100%;\n        }\n        :host .scroll {\n          overflow-x: auto;\n          overflow-y: hidden;\n          width: 100%;\n          position: relative;\n        }\n        :host .noScrollbar {\n          scrollbar-color: transparent;\n          scrollbar-width: none;\n        }\n        :host .noScrollbar::-webkit-scrollbar {\n          display: none;\n          -webkit-appearance: none;\n        }\n        :host .wrapper {\n          position: relative;\n          overflow: visible;\n          z-index: 2;\n        }\n        :host .canvases {\n          min-height: ${this.getHeight(this.options.height)}px;\n        }\n        :host .canvases > div {\n          position: relative;\n        }\n        :host canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          image-rendering: pixelated;\n        }\n        :host .progress {\n          pointer-events: none;\n          position: absolute;\n          z-index: 2;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          overflow: hidden;\n        }\n        :host .progress > div {\n          position: relative;\n        }\n        :host .cursor {\n          pointer-events: none;\n          position: absolute;\n          z-index: 5;\n          top: 0;\n          left: 0;\n          height: 100%;\n          border-radius: 2px;\n        }\n      </style>\n\n      <div class="scroll" part="scroll">\n        <div class="wrapper" part="wrapper">\n          <div class="canvases"></div>\n          <div class="progress" part="progress"></div>\n          <div class="cursor" part="cursor"></div>\n        </div>\n      </div>\n    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}e.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:t}=this.scrollContainer,n=t*e;this.setScroll(n)}destroy(){var e;this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect()}createDelay(e=10){let t,n;const r=()=>{t&&clearTimeout(t),n&&n()};return this.timeouts.push(r),()=>new Promise(((i,o)=>{r(),n=o,t=setTimeout((()=>{t=void 0,n=void 0,i()}),e)}))}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const t=document.createElement("canvas"),n=t.getContext("2d"),r=t.height*(window.devicePixelRatio||1),i=n.createLinearGradient(0,0,0,r),o=1/(e.length-1);return e.forEach(((e,t)=>{const n=t*o;i.addColorStop(n,e)})),i}renderBarWaveform(e,t,n,r){const i=e[0],o=e[1]||e[0],s=i.length,{width:a,height:u}=n.canvas,c=u/2,l=window.devicePixelRatio||1,h=t.barWidth?t.barWidth*l:1,d=t.barGap?t.barGap*l:t.barWidth?h/2:0,f=t.barRadius||0,p=a/(h+d)/s,m=f&&"roundRect"in n?"roundRect":"rect";n.beginPath();let g=0,E=0,_=0;for(let e=0;e<=s;e++){const s=Math.round(e*p);if(s>g){const e=Math.round(E*c*r),i=e+Math.round(_*c*r)||1;let o=c-e;"top"===t.barAlign?o=0:"bottom"===t.barAlign&&(o=u-i),n[m](g*(h+d),o,h,i,f),g=s,E=0,_=0}const a=Math.abs(i[e]||0),l=Math.abs(o[e]||0);a>E&&(E=a),l>_&&(_=l)}n.fill(),n.closePath()}renderLineWaveform(e,t,n,r){const i=t=>{const i=e[t]||e[0],o=i.length,{height:s}=n.canvas,a=s/2,u=n.canvas.width/o;n.moveTo(0,a);let c=0,l=0;for(let e=0;e<=o;e++){const o=Math.round(e*u);if(o>c){const e=a+(Math.round(l*a*r)||1)*(0===t?-1:1);n.lineTo(c,e),c=o,l=0}const s=Math.abs(i[e]||0);s>l&&(l=s)}n.lineTo(c,a)};n.beginPath(),i(0),i(1),n.fill(),n.closePath()}renderWaveform(e,t,n){if(n.fillStyle=this.convertColorValues(t.waveColor),t.renderFunction)return void t.renderFunction(e,n);let r=t.barHeight||1;if(t.normalize){const t=Array.from(e[0]).reduce(((e,t)=>Math.max(e,Math.abs(t))),0);r=t?1/t:1}t.barWidth||t.barGap||t.barAlign?this.renderBarWaveform(e,t,n,r):this.renderLineWaveform(e,t,n,r)}renderSingleCanvas(e,t,n,r,i,o,s,a){const u=window.devicePixelRatio||1,c=document.createElement("canvas"),l=e[0].length;c.width=Math.round(n*(o-i)/l),c.height=r*u,c.style.width=`${Math.floor(c.width/u)}px`,c.style.height=`${r}px`,c.style.left=`${Math.floor(i*n/u/l)}px`,s.appendChild(c);const h=c.getContext("2d");if(this.renderWaveform(e.map((e=>e.slice(i,o))),t,h),c.width>0&&c.height>0){const e=c.cloneNode(),n=e.getContext("2d");n.drawImage(c,0,0),n.globalCompositeOperation="source-in",n.fillStyle=this.convertColorValues(t.progressColor),n.fillRect(0,0,c.width,c.height),a.appendChild(e)}}renderChannel(e,t,n){return si(this,void 0,void 0,(function*(){const r=document.createElement("div"),i=this.getHeight(t.height);r.style.height=`${i}px`,this.canvasWrapper.style.minHeight=`${i}px`,this.canvasWrapper.appendChild(r);const o=r.cloneNode();this.progressWrapper.appendChild(o);const s=e[0].length,a=(a,u)=>{this.renderSingleCanvas(e,t,n,i,Math.max(0,a),Math.min(u,s),r,o)};if(!this.isScrollable)return void a(0,s);const{scrollLeft:u,scrollWidth:c,clientWidth:l}=this.scrollContainer,h=s/c;let d=Math.min(ai.MAX_CANVAS_WIDTH,l);if(t.barWidth||t.barGap){const e=t.barWidth||.5,n=e+(t.barGap||e/2);d%n!=0&&(d=Math.floor(d/n)*n)}const f=Math.floor(Math.abs(u)*h),p=Math.floor(f+d*h),m=p-f;m<=0||(a(f,p),yield Promise.all([(()=>si(this,void 0,void 0,(function*(){if(0===f)return;const e=this.createDelay();for(let t=f;t>=0;t-=m)yield e(),a(Math.max(0,t-m),t)})))(),(()=>si(this,void 0,void 0,(function*(){if(p===s)return;const e=this.createDelay();for(let t=p;t<s;t+=m)yield e(),a(t,Math.min(s,t+m))})))()]))}))}render(e){return si(this,void 0,void 0,(function*(){this.timeouts.forEach((e=>e())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",null!=this.options.width&&(this.scrollContainer.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width);const t=window.devicePixelRatio||1,n=this.scrollContainer.clientWidth,r=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=r>n;const i=this.options.fillParent&&!this.isScrollable,o=(i?n:r)*t;this.wrapper.style.width=i?"100%":`${r}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:e.numberOfChannels}).map(((t,n)=>{var r;const i=Object.assign(Object.assign({},this.options),null===(r=this.options.splitChannels)||void 0===r?void 0:r[n]);return this.renderChannel([e.getChannelData(n)],i,o)})));else{const t=[e.getChannelData(0)];e.numberOfChannels>1&&t.push(e.getChannelData(1)),yield this.renderChannel(t,this.options,o)}}catch(e){return}this.emit("rendered")}))}reRender(){if(!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:t}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:e}=this.progressWrapper.getBoundingClientRect();let n=e-t;n*=2,n=n<0?Math.floor(n):Math.ceil(n),n/=2,this.scrollContainer.scrollLeft+=n}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,o=e*r,s=n,a=n+i,u=i/2;if(this.isDragging){const e=30;o+e>a?this.scrollContainer.scrollLeft+=e:o-e<s&&(this.scrollContainer.scrollLeft-=e)}else{(o<s||o>a)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?u:0));const e=o-n-u;t&&this.options.autoCenter&&e>0&&(this.scrollContainer.scrollLeft+=Math.min(e,10))}{const e=this.scrollContainer.scrollLeft,t=e/r,n=(e+i)/r;this.emit("scroll",t,n)}}renderProgress(e,t){if(isNaN(e))return;const n=100*e;this.canvasWrapper.style.clipPath=`polygon(${n}% 0, 100% 0, 100% 100%, ${n}% 100%)`,this.progressWrapper.style.width=`${n}%`,this.cursor.style.left=`${n}%`,this.cursor.style.transform=`translateX(-${100===Math.round(n)?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,t)}exportImage(e,t,n){return si(this,void 0,void 0,(function*(){const r=this.canvasWrapper.querySelectorAll("canvas");if(!r.length)throw new Error("No waveform data");if("dataURL"===n){const n=Array.from(r).map((n=>n.toDataURL(e,t)));return Promise.resolve(n)}return Promise.all(Array.from(r).map((n=>new Promise(((r,i)=>{n.toBlob((e=>{e?r(e):i(new Error("Could not export image"))}),e,t)})))))}))}}ai.MAX_CANVAS_WIDTH=4e3;var ui=ai;var ci=class extends qr{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},li=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var hi=class extends qr{constructor(e=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return li(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then((t=>{if(t.status>=400)throw new Error(`Failed to fetch ${e}: ${t.status} (${t.statusText})`);return t.arrayBuffer()})).then((t=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(t))).then((t=>{this.currentSrc===e&&(this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}))}_play(){var e;if(!this.paused)return;this.paused=!1,null===(e=this.bufferNode)||void 0===e||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;t>=this.duration&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,null===(e=this.bufferNode)||void 0===e||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return li(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){var t,n;const r=e-this.currentTime;null===(t=this.bufferNode)||void 0===t||t.stop(this.audioContext.currentTime+r),null===(n=this.bufferNode)||void 0===n||n.addEventListener("ended",(()=>{this.bufferNode=null,this.pause()}),{once:!0})}setSinkId(e){return li(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){this.emit("seeking");const t=!this.paused;t&&this._pause(),this.playedDuration=e/this._playbackRate,t&&this._play(),this.emit("timeupdate")}get duration(){var e;return(null===(e=this.buffer)||void 0===e?void 0:e.duration)||0}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const t=this.buffer.numberOfChannels;for(let n=0;n<t;n++)e.push(this.buffer.getChannelData(n));return e}},di=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const fi={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class pi extends oi{static create(e){return new pi(e)}constructor(e){const t=e.media||("WebAudio"===e.backend?new hi:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},fi,e),this.timer=new ci;const n=t?void 0:this.getMediaElement();this.renderer=new ui(this.options,n),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then((()=>{this.emit("init");const e=this.options.url||this.getSrc()||"";(e||this.options.peaks&&this.options.duration)&&this.load(e,this.options.peaks,this.options.duration)}))}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e)}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const e=this.updateProgress();this.emit("timeupdate",e)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop()})),this.onMediaEvent("emptied",(()=>{this.timer.stop()})),this.onMediaEvent("ended",(()=>{this.emit("finish")})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))})),this.renderer.on("dblclick",((e,t)=>{this.emit("dblclick",e,t)})),this.renderer.on("scroll",((e,t)=>{const n=this.getDuration();this.emit("scroll",e*n,t*n)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})));{let e;this.subscriptions.push(this.renderer.on("drag",(t=>{this.options.interact&&(this.renderer.renderProgress(t),clearTimeout(e),e=setTimeout((()=>{this.seekTo(t)}),this.isPlaying()?0:200),this.emit("interaction",t*this.getDuration()),this.emit("drag",t))})))}}initPlugins(){var e;(null===(e=this.options.plugins)||void 0===e?void 0:e.length)&&this.options.plugins.forEach((e=>{this.registerPlugin(e)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((e=>e())),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),null!=e.mediaControls&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",(()=>{this.plugins=this.plugins.filter((t=>t!==e))}))),e}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(e){const t=e/this.getDuration();this.renderer.setScrollPercentage(t)}getActivePlugins(){return this.plugins}loadAudio(e,t,n,r){return di(this,void 0,void 0,(function*(){if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!t&&!n){const n=e=>this.emit("loading",e);t=yield ri.fetchBlob(e,n,this.options.fetchParams)}this.setSrc(e,t);const i=r||this.getDuration()||(yield new Promise((e=>{this.onceMediaEvent("loadedmetadata",(()=>e(this.getDuration())))})));if(n)this.decodedData=Zr.createBuffer(n,i||0);else if(t){const e=yield t.arrayBuffer();this.decodedData=yield Zr.decode(e,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(e,t,n){return di(this,void 0,void 0,(function*(){yield this.loadAudio(e,void 0,t,n)}))}loadBlob(e,t,n){return di(this,void 0,void 0,(function*(){yield this.loadAudio("blob",e,t,n)}))}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:n=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const r=Math.min(e,this.decodedData.numberOfChannels),i=[];for(let e=0;e<r;e++){const r=this.decodedData.getChannelData(e),o=[],s=Math.round(r.length/t);for(let e=0;e<t;e++){const t=r.slice(e*s,(e+1)*s);let i=0;for(let e=0;e<t.length;e++){const n=t[e];Math.abs(n)>Math.abs(i)&&(i=n)}o.push(Math.round(i*n)/n)}i.push(o)}return i}getDuration(){let e=super.getDuration()||0;return 0!==e&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){super.setTime(e),this.updateProgress(e)}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}playPause(){return di(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(e="image/png",t=1,n="dataURL"){return di(this,void 0,void 0,(function*(){return this.renderer.exportImage(e,t,n)}))}destroy(){this.emit("destroy"),this.plugins.forEach((e=>e.destroy())),this.subscriptions.forEach((e=>e())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}pi.BasePlugin=Xr,pi.dom=r;var mi=pi,gi=n(104),Ei=n.n(gi);n(344);function _i(e){var t,n,r,i,o,s,a;if(!e.container)return;let u=getComputedStyle(e.container),c=Ei()(u.color);return c||(c=Ei()("rgb(255,255,255)")),mi.create(Object.assign(Object.assign({},e),{barGap:null!==(t=e.barGap)&&void 0!==t?t:2,barRadius:null!==(n=e.barRadius)&&void 0!==n?n:0,barWidth:null!==(r=e.barWidth)&&void 0!==r?r:2,barHeight:e.barHeight,hideScrollbar:!0,cursorWidth:null!==(i=e.cursorWidth)&&void 0!==i?i:0,cursorColor:e.cursorColor,height:null!==(o=e.height)&&void 0!==o?o:24,progressColor:null!==(s=e.progressColor)&&void 0!==s?s:c.cssa(),waveColor:null!==(a=e.waveColor)&&void 0!==a?a:c.alpha(c.alpha()/2).cssa()}))}function vi(e){const t=u.a.useContext(p.a),n=Object(a.useRef)(null),r=Object(a.useRef)(),i=Object(a.useRef)(),[o,s]=Object(a.useState)(!1),[c,l]=Object(a.useState)(0),[h,d]=Object(a.useState)(1),[f,m]=Object(a.useState)(!1),g=Object(a.useRef)();Object(a.useEffect)((()=>{r.current=new Audio;const t={normalize:!0,height:50,container:n.current},o=e.filename.slice(e.filename.lastIndexOf(".")+1);if(R.y(e.filename)&&"webm"===o&&!r.current.canPlayType("audio/webm;codecs=opus"))t.backend="WebAudio",i.current=new Audio("data:audio/mp3;base64,//MkxAAHiAICWABElBeKPL/RANb2w+yiT1g/gTok//lP/W/l3h8QO/OCdCqCW2Cw//MkxAQHkAIWUAhEmAQXWUOFW2dxPu//9mr60ElY5sseQ+xxesmHKtZr7bsqqX2L//MkxAgFwAYiQAhEAC2hq22d3///9FTV6tA36JdgBJoOGgc+7qvqej5Zu7/7uI9l//MkxBQHAAYi8AhEAO193vt9KGOq+6qcT7hhfN5FTInmwk8RkqKImTM55pRQHQSq//MkxBsGkgoIAABHhTACIJLf99nVI///yuW1uBqWfEu7CgNPWGpUadBmZ////4sL//MkxCMHMAH9iABEmAsKioqKigsLCwtVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//MkxCkECAUYCAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),i.current.controls=!1;else{const n=r.current;n.addEventListener("error",(()=>{var t;"PIPELINE_ERROR_READ: FFmpegDemuxer: demuxer seek failed"===n.error.message?(n.load(),s(!1)):(m(!0),s(!1),null===(t=e.onError)||void 0===t||t.call(e))})),n.src=e.src,n.preload="auto",n.preservesPitch=!0,t.media=n}g.current=_i(t);const a=g.current;return a.on("finish",(()=>{r.current.loop=!0,s(!1)})),a.on("ready",(t=>{var n;null===(n=null==e?void 0:e.onLoad)||void 0===n||n.call(e,t),l(Math.trunc(t))})),a.on("timeupdate",(e=>l(Math.trunc(e)))),"WebAudio"===t.backend&&a.load(e.src).catch((()=>{var t;m(!0),s(!1),null===(t=e.onError)||void 0===t||t.call(e)})),()=>{r.current=void 0,a.destroy(),g.current=void 0}}),[]);const E=Object(a.useCallback)((()=>{var e;if("WebAudio"===g.current.options.backend)g.current.isPlaying()||i.current.play(),g.current.playPause(),s(null!==(e=g.current.isPlaying())&&void 0!==e&&e);else{const e=r.current;e.paused?e.play():e.pause(),e.loop=!1,!e.paused&&e.ended&&(e.load(),e.play()),s(!e.paused)}}),[]),_=Object(a.useCallback)((e=>{g.current.setPlaybackRate(e),d(e)}),[]);return f?null:u.a.createElement("div",{className:"audio-player"},u.a.createElement("button",{onClick:E},u.a.createElement(Ur.b,{className:"play-pause",type:o?"pause":"play",alt:o?t.t("ARIA_PAUSE_AUDIO"):t.t("ARIA_PLAY_AUDIO")})),u.a.createElement("div",{className:"waveform",ref:n}),u.a.createElement("div",{className:"duration-speed"},u.a.createElement("div",{className:"duration"},R.l(c)),u.a.createElement(_t.a,null,u.a.createElement(_t.b,{className:"playback-speed","aria-label":t.t("ARIA_SET_PLAYBACK_SPEED")},h,"x",u.a.createElement(Ur.b,{type:"updown","aria-hidden":!0,className:"up-down"})),u.a.createElement(_t.e,null,u.a.createElement(_t.d,{className:"action-menu"},u.a.createElement("div",{className:"playback-heading"},"Playback Speed"),[.25,.5,.75,1,1.25,1.5,2].map(((e,t)=>u.a.createElement(_t.c,{key:t,onSelect:()=>_(e)},u.a.createElement("span",{className:"playback-checkmark"},h===e?"":""),e,"x"))))))))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ai(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}class yi{constructor(){this.listeners={}}on(e,t,n){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),null==n?void 0:n.once){const n=()=>{this.un(e,n),this.un(e,t)};return this.on(e,n),n}return()=>this.un(e,t)}un(e,t){var n;null===(n=this.listeners[e])||void 0===n||n.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach((e=>e(...t)))}}class Oi extends yi{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e()))}}class Si extends yi{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const bi=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class Di extends Oi{constructor(e){var t,n,r,i;super(Object.assign(Object.assign({},e),{audioBitsPerSecond:null!==(t=e.audioBitsPerSecond)&&void 0!==t?t:128e3,scrollingWaveform:null!==(n=e.scrollingWaveform)&&void 0!==n&&n,scrollingWaveformWindow:null!==(r=e.scrollingWaveformWindow)&&void 0!==r?r:5,renderRecordedAudio:null===(i=e.renderRecordedAudio)||void 0===i||i})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Si,this.subscriptions.push(this.timer.on("tick",(()=>{const e=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+e,this.emit("record-progress",this.duration)})))}static create(e){return new Di(e||{})}renderMicStream(e){const t=new AudioContext,n=t.createMediaStreamSource(e),r=t.createAnalyser();n.connect(r);const i=r.frequencyBinCount,o=new Float32Array(i);let s;const a=Math.floor((this.options.scrollingWaveformWindow||0)*t.sampleRate),u=()=>{var e;if(this.isWaveformPaused)return void(s=requestAnimationFrame(u));if(r.getFloatTimeDomainData(o),this.options.scrollingWaveform){const e=Math.min(a,this.dataWindow?this.dataWindow.length+i:i),t=new Float32Array(a);if(this.dataWindow){const n=Math.max(0,a-this.dataWindow.length);t.set(this.dataWindow.slice(-e+i),n)}t.set(o,a-i),this.dataWindow=t}else this.dataWindow=o;const t=this.options.scrollingWaveformWindow;this.wavesurfer&&(null!==(e=this.originalOptions)&&void 0!==e||(this.originalOptions={cursorWidth:this.wavesurfer.options.cursorWidth,interact:this.wavesurfer.options.interact}),this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[this.dataWindow],t)),s=requestAnimationFrame(u)};return u(),{onDestroy:()=>{cancelAnimationFrame(s),null==n||n.disconnect(),null==t||t.close()},onEnd:()=>{this.isWaveformPaused=!0,cancelAnimationFrame(s),this.stopMic()}}}startMic(e){return Ai(this,void 0,void 0,(function*(){let t;try{t=yield navigator.mediaDevices.getUserMedia({audio:!(null==e?void 0:e.deviceId)||{deviceId:e.deviceId}})}catch(t){throw new Error("Error accessing the microphone: "+t.message)}const{onDestroy:n,onEnd:r}=this.renderMicStream(t);return this.subscriptions.push(this.once("destroy",n)),this.subscriptions.push(this.once("record-end",r)),this.stream=t,t}))}stopMic(){this.stream&&(this.stream.getTracks().forEach((e=>e.stop())),this.stream=null,this.mediaRecorder=null)}startRecording(e){return Ai(this,void 0,void 0,(function*(){const t=this.stream||(yield this.startMic(e));this.dataWindow=null;const n=this.mediaRecorder||new MediaRecorder(t,{mimeType:this.options.mimeType||bi.find((e=>MediaRecorder.isTypeSupported(e))),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=n,this.stopRecording();const r=[];n.ondataavailable=e=>{e.data.size>0&&r.push(e.data)};const i=e=>{var t;const i=new Blob(r,{type:n.mimeType});this.emit(e,i),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),null===(t=this.wavesurfer)||void 0===t||t.load(URL.createObjectURL(i)))};n.onpause=()=>i("record-pause"),n.onstop=()=>i("record-end"),n.start(),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")}))}getDuration(){return this.duration}isRecording(){var e;return"recording"===(null===(e=this.mediaRecorder)||void 0===e?void 0:e.state)}isPaused(){var e;return"paused"===(null===(e=this.mediaRecorder)||void 0===e?void 0:e.state)}isActive(){var e;return"inactive"!==(null===(e=this.mediaRecorder)||void 0===e?void 0:e.state)}stopRecording(){var e;this.isActive()&&(null===(e=this.mediaRecorder)||void 0===e||e.stop(),this.timer.stop())}pauseRecording(){var e,t;this.isRecording()&&(this.isWaveformPaused=!0,null===(e=this.mediaRecorder)||void 0===e||e.requestData(),null===(t=this.mediaRecorder)||void 0===t||t.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var e;this.isPaused()&&(this.isWaveformPaused=!1,null===(e=this.mediaRecorder)||void 0===e||e.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return Ai(this,void 0,void 0,(function*(){return navigator.mediaDevices.enumerateDevices().then((e=>e.filter((e=>"audioinput"===e.kind))))}))}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.options.cursorWidth=this.originalOptions.cursorWidth,this.wavesurfer.options.interact=this.originalOptions.interact,delete this.originalOptions)}}var Ti=n(266),Ci=n.n(Ti),Ri=n(267),Ii=n.n(Ri);function Ni(){return Ii()('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/__assets/",n(n.s=0)}([function(e,t,n){var r;"undefined"!=typeof OpusMediaRecorder?OpusMediaRecorder:"undefined"!=typeof self&&self,r=function(){return function(){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(t=u+"/"+t,o="/"===u.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),u="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&u&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),u=Math.min(o.length,i.length),a=u,s=0;s<u;s++)if(o[s]!==i[s]){a=s;break}var c=[];for(s=a;s<o.length;s++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,u=e.length-1;u>=0;--u){var a=e.charCodeAt(u);if(47!==a)-1===r&&(o=!1,r=u+1),46===a?-1===t?t=u:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=u+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(2))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var l=function(){function e(t,n,r,o){switch(s(this,e),this._size=n,this._module=t,this._size){case 1:this._heapArray=r?this._module.HEAP8:this._module.HEAPU8;break;case 2:this._heapArray=r?this._module.HEAP16:this._module.HEAPU16;break;case 4:this._heapArray=r?this._module.HEAP32:this._module.HEAPU32;break;default:this._heapArray=this._module.HEAPU8}o&&(this._size=4,this._heapArray=this._module.HEAPF32),this._pointer=this._module._malloc(n)}return f(e,[{key:"free",value:function(){this._module._free(this.pointer)}},{key:"pointer",get:function(){return this._pointer}},{key:"value",get:function(){var e=0;switch(this._size){case 2:e=1;break;case 4:e=2;break;default:throw new Error("Pointer can be only deferenced as integer-sized")}return this._heapArray[this.pointer>>e]},set:function(e){var t=0;switch(this._size){case 2:t=1;break;case 4:t=2;break;default:throw new Error("Pointer can be only deferenced as integer-sized")}this._heapArray[this.pointer>>t]=e}}]),e}(),p=function(e){r(n,e);var t=i(n);function n(e,r){var o;return s(this,n),o=t.call(this,e,4,!0,!1),void 0!==r&&(o.value=r),o}return n}(l),_=function(e){r(n,e);var t=i(n);function n(e,r){var o;return s(this,n),o=t.call(this,e,4,!1,!1),void 0!==r&&(o.value=r),o}return n}(l),d=function(e){r(n,e);var t=i(n);function n(e,r,o,i,u){var a;s(this,n),a=t.call(this,e,r*o,i,u);var c=0;switch(o){case 1:a._heapArray=i?a._module.HEAP8:a._module.HEAPU8,c=0;break;case 2:a._heapArray=i?a._module.HEAP16:a._module.HEAPU16,c=1;break;case 4:a._heapArray=i?a._module.HEAP32:a._module.HEAPU32,c=2;break;default:throw new Error("Unit size must be an integer-size")}u&&(a._heapArray=a._module.HEAPF32,c=2);var f=a._pointer>>c;return a._buffer=a._heapArray.subarray(f,f+r),a._length=r,a}return f(n,[{key:"set",value:function(e,t){this._buffer.set(e,t)}},{key:"subarray",value:function(e,t){return this._buffer.subarray(e,t)}},{key:"length",get:function(){return this._length}}]),n}(l),h=function(e){r(n,e);var t=i(n);function n(e,r){return s(this,n),t.call(this,e,r,4,!0,!0)}return n}(d),m=function(e){r(n,e);var t=i(n);function n(e,r){return s(this,n),t.call(this,e,r,1,!1,!1)}return n}(d),y=function(){function e(t){s(this,e),this._module=t}return f(e,[{key:"mallocInt32",value:function(e){return new p(this._module,e)}},{key:"mallocUint32",value:function(e){return new _(this._module,e)}},{key:"mallocUint8Buffer",value:function(e){return new m(this._module,e)}},{key:"mallocFloat32Buffer",value:function(e){return new h(this._module,e)}}]),e}();e.exports={writeString:function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},EmscriptenMemoryAllocator:y}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&_())}function _(){if(!f){var e=a(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||f||a(_)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t,n){function r(e){var t,r=n(6),o=n(7),i=n(8);e.onmessage=function(e){var n=e.data.command;switch(n){case"loadEncoder":var u,a=e.data,s=a.mimeType,c=a.wasmPath;switch(s){case"audio/wav":case"audio/wave":u=r;break;case"audio/webm":u=o;break;case"audio/ogg":u=i}var f={};c&&(f.locateFile=function(e,t){return e.match(/.wasm/)?c:t+e}),u(f).then((function(e){t=e,self.postMessage({command:"readyToInit"})}));break;case"init":var l=e.data,p=l.sampleRate,_=l.channelCount,d=l.bitsPerSecond;t.init(p,_,d);break;case"pushInputData":for(var h=e.data,m=h.channelBuffers,y=(h.length,h.duration,0);y<m.length;y++)m[y]=new Float32Array(m[y].buffer);t.encode(m);break;case"getEncodedData":case"done":"done"===n&&t.close();var v=t.flush();self.postMessage({command:"done"===n?"lastEncodedData":"encodedData",buffers:v},v),"done"===n&&self.close()}}}"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&r(self),e.exports=r},function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(1).writeString,u=Int16Array.BYTES_PER_ELEMENT,a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config={inputSampleRate:t,channelCount:n},this.encodedBuffers=[]}var t,n;return t=e,(n=[{key:"encode",value:function(e){for(var t=e[0].length,n=new ArrayBuffer(t*u*this.config.channelCount),r=new DataView(n),o=0;o<this.config.channelCount;o++)for(var i=e[o],a=0;a<t;a++){var s=32767*i[a]|0;s>32767?s=32767:s<-32768&&(s=-32768);var c=(a*this.config.channelCount+o)*u;r.setInt16(c,0|s,!0)}this.encodedBuffers.push(n)}},{key:"getHeader",value:function(){var e=this.encodedBuffers.reduce((function(e,t){return e+t.byteLength}),0),t=new ArrayBuffer(44),n=new DataView(t);return i(n,0,"RIFF"),n.setUint32(4,36+e,!0),i(n,8,"WAVE"),i(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,this.config.channelCount,!0),n.setUint32(24,this.config.inputSampleRate,!0),n.setUint32(28,this.config.inputSampleRate*u*this.config.channelCount,!0),n.setUint16(32,u*this.config.channelCount,!0),n.setUint16(34,8*u,!0),i(n,36,"data"),n.setUint32(40,e,!0),t}}])&&o(t.prototype,n),e}();e.exports=function(e){return new Promise((function(t,n){(e=void 0!==e&&e||{}).init=function(t,n,r){e.encoder=new a(t,n,r)},e.encode=function(t){e.encoder.encode(t)},e.flush=function(){var t=e.encoder.getHeader(),n=e.encoder.encodedBuffers.splice(0,e.encoder.encodedBuffers.length);return[t].concat(function(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n))},e.close=function(){},t(e)}))}},function(e,t,n){(function(e,r,o,i){var u;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var l,p=(l=(l="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||e,function(e){e=void 0!==(e=e||{})?e:{};var t=n(1),i=t.EmscriptenMemoryAllocator,u=2049,c=48e3,p=4e3,_=20,d=6,h=4096,m=0,y=4002,v=0,b=function(){function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t),this.config={inputSampleRate:n,channelCount:r},this.memory=new i(e),this._opus_encoder_create=e._opus_encoder_create,this._opus_encoder_ctl=e._opus_encoder_ctl,this._opus_encode_float=e._opus_encode_float,this._opus_encoder_destroy=e._opus_encoder_destroy,this._speex_resampler_init=e._speex_resampler_init,this._speex_resampler_process_interleaved_float=e._speex_resampler_process_interleaved_float,this._speex_resampler_destroy=e._speex_resampler_destroy,this._container=new e.Container,this._container.init(c,r,Math.floor(4294967295*Math.random())),this.OpusInitCodec(c,r,o),this.SpeexInitResampler(n,c,r),this.inputSamplesPerChannel=n*_/1e3,this.outputSamplePerChannel=c*_/1e3,this.inputBufferIndex=0,this.mInputBuffer=this.memory.mallocFloat32Buffer(this.inputSamplesPerChannel*r),this.mResampledBuffer=this.memory.mallocFloat32Buffer(this.outputSamplePerChannel*r),this.mOutputBuffer=this.memory.mallocUint8Buffer(p),this.interleavedBuffers=1!==r?new Float32Array(h*r):void 0}return f(t,[{key:"encode",value:function(e){for(var t=this.interleave(e),n=0;n<t.length;){var r=Math.min(this.mInputBuffer.length-this.inputBufferIndex,t.length-n);if(this.mInputBuffer.set(t.subarray(n,n+r),this.inputBufferIndex),this.inputBufferIndex+=r,this.inputBufferIndex>=this.mInputBuffer.length){var o=this.memory.mallocUint32(this.inputSamplesPerChannel),i=this.memory.mallocUint32(this.outputSamplePerChannel),u=this._speex_resampler_process_interleaved_float(this.resampler,this.mInputBuffer.pointer,o.pointer,this.mResampledBuffer.pointer,i.pointer);if(o.free(),i.free(),u!==v)throw new Error("Resampling error.");var a=this._opus_encode_float(this.encoder,this.mResampledBuffer.pointer,this.outputSamplePerChannel,this.mOutputBuffer.pointer,this.mOutputBuffer.length);if(a<0)throw new Error("Opus encoding error.");this._container.writeFrame(this.mOutputBuffer.pointer,a,this.outputSamplePerChannel),this.inputBufferIndex=0}n+=r}}},{key:"close",value:function(){for(var t=this.config.channelCount,n=[],r=0;r<t;++r)n.push(new Float32Array(h-this.inputBufferIndex/t));this.encode(n),e.destroy(this._container),this.mInputBuffer.free(),this.mResampledBuffer.free(),this.mOutputBuffer.free(),this._opus_encoder_destroy(this.encoder),this._speex_resampler_destroy(this.resampler)}},{key:"interleave",value:function(e){var t=e.length;if(1===t)return e[0];for(var n=0;n<t;n++)for(var r=e[n],o=0;o<r.length;o++)this.interleavedBuffers[o*t+n]=r[o];return this.interleavedBuffers}},{key:"OpusInitCodec",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.memory.mallocUint32(void 0);this.encoder=this._opus_encoder_create(e,t,u,r.pointer);var o=r.value;if(r.free(),o!==m)throw new Error("Opus encodor initialization failed.");n&&this.OpusSetOpusControl(y,n)}},{key:"OpusSetOpusControl",value:function(e,t){var n=this.memory.mallocInt32(t);this._opus_encoder_ctl(this.encoder,e,n.pointer),n.free()}},{key:"SpeexInitResampler",value:function(e,t,n){var r=this.memory.mallocUint32(void 0);this.resampler=this._speex_resampler_init(n,e,t,d,r.pointer);var o=r.value;if(r.free(),o!==v)throw new Error("Initializing resampler failed.")}}]),t}();e.init=function(t,n,r){e.encodedBuffers=[],e.encoder=new b(t,n,r)},e.encode=function(t){e.encoder.encode(t)},e.flush=function(){return e.encodedBuffers.splice(0,e.encodedBuffers.length)},e.close=function(){e.encoder.close()};var g,w={};for(g in e)e.hasOwnProperty(g)&&(w[g]=e[g]);var A=[],S=!1,C=!1,x=!1,P=!1;S="object"===("undefined"==typeof window?"undefined":a(window)),C="function"==typeof importScripts,x="object"===(void 0===r?"undefined":a(r))&&"object"===a(r.versions)&&"string"==typeof r.versions.node,P=!S&&!x&&!C;var E,O,R,B,I="";function j(t){return e.locateFile?e.locateFile(t,I):I+t}x?(I=C?n(0).dirname(I)+"/":o+"/",E=function(e,t){return R||(R=n(4)),B||(B=n(0)),e=B.normalize(e),R.readFileSync(e,t?null:"utf8")},O=function(e){var t=E(e,!0);return t.buffer||(t=new Uint8Array(t)),W(t.buffer),t},r.argv.length>1&&r.argv[1].replace(/\\\\/g,"/"),A=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof qe))throw e})),r.on("unhandledRejection",_e),e.inspect=function(){return"[Emscripten Module object]"}):P?("undefined"!=typeof read&&(E=function(e){return read(e)}),O=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(W("object"===a(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?A=scriptArgs:void 0!==arguments&&(A=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(S||C)&&(C?I=self.location.href:document.currentScript&&(I=document.currentScript.src),l&&(I=l),I=0!==I.indexOf("blob:")?I.substr(0,I.lastIndexOf("/")+1):"",E=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},C&&(O=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var k,T,U=e.print||console.log.bind(console),M=e.printErr||console.warn.bind(console);for(g in w)w.hasOwnProperty(g)&&(e[g]=w[g]);w=null,e.arguments&&(A=e.arguments),e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&(k=e.wasmBinary),e.noExitRuntime&&e.noExitRuntime,"object"!==("undefined"==typeof WebAssembly?"undefined":a(WebAssembly))&&M("no native wasm support detected");var F=new WebAssembly.Table({initial:60,maximum:60,element:"anyfunc"}),H=!1;function W(e,t){e||_e("Assertion failed: "+t)}var D="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&D)return D.decode(e.subarray(t,o));for(var i="";t<o;){var u=e[t++];if(128&u){var a=63&e[t++];if(192!=(224&u)){var s=63&e[t++];if((u=224==(240&u)?(15&u)<<12|a<<6|s:(7&u)<<18|a<<12|s<<6|63&e[t++])<65536)i+=String.fromCharCode(u);else{var c=u-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&u)<<6|a)}else i+=String.fromCharCode(u)}return i}function L(e,t){return e?z(q,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var V,q,G,N=65536;function X(t){V=t,e.HEAP8=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=G=new Int32Array(t),e.HEAPU8=q=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var Y=5289024,$=45984,J=e.INITIAL_MEMORY||16777216;function K(t){for(;t.length>0;){var n=t.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?e.dynCall_v(r):e.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n()}}(T=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:J/N,maximum:J/N}))&&(V=T.buffer),J=V.byteLength,X(V),G[$>>2]=Y;var Q=[],Z=[],ee=[],te=[];function ne(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)ue(e.preRun.shift());K(Q)}function re(){K(Z)}function oe(){K(ee)}function ie(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)ae(e.postRun.shift());K(te)}function ue(e){Q.unshift(e)}function ae(e){te.unshift(e)}var se=0,ce=null,fe=null;function le(t){se++,e.monitorRunDependencies&&e.monitorRunDependencies(se)}function pe(t){if(se--,e.monitorRunDependencies&&e.monitorRunDependencies(se),0==se&&(null!==ce&&(clearInterval(ce),ce=null),fe)){var n=fe;fe=null,n()}}function _e(t){throw e.onAbort&&e.onAbort(t),U(t+=""),M(t),H=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}e.preloadedImages={},e.preloadedAudios={};var de="data:application/octet-stream;base64,";function he(e){return String.prototype.startsWith?e.startsWith(de):0===e.indexOf(de)}var me="WebMOpusEncoder.wasm";function ye(){try{if(k)return new Uint8Array(k);if(O)return O(me);throw"both async and sync fetching of the wasm failed"}catch(e){_e(e)}}function ve(){return k||!S&&!C||"function"!=typeof fetch?new Promise((function(e,t){e(ye())})):fetch(me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+me+"\'";return e.arrayBuffer()})).catch((function(){return ye()}))}function be(){var t={a:Ue};function n(t,n){var r=t.exports;e.asm=r,pe()}function r(e){n(e.instance)}function o(e){return ve().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){M("failed to asynchronously prepare wasm: "+e),_e(e)}))}if(le(),e.instantiateWasm)try{return e.instantiateWasm(t,n)}catch(e){return M("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(k||"function"!=typeof WebAssembly.instantiateStreaming||he(me)||"function"!=typeof fetch)return o(r);fetch(me,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(e){M("wasm streaming compile failed: "+e),M("falling back to ArrayBuffer instantiation"),o(r)}))}))}(),{}}function ge(t,n){var r=new Uint8Array(e.HEAPU8.buffer,t,n);e.encodedBuffers.push(new Uint8Array(r).buffer)}function we(e,t,n,r){_e("Assertion failed: "+L(e)+", at: "+[t?L(t):"unknown filename",n,r?L(r):"unknown function"])}he(me)||(me=j(me)),Z.push({func:function(){He()}});var Ae={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Ae.buffers[e];0===t||10===t?((1===e?U:M)(z(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Ae.varargs+=4,G[Ae.varargs-4>>2]},getStr:function(e){return L(e)},get64:function(e,t){return e}};function Se(e,t,n){return Ae.varargs=n,0}function Ce(e,t,n){Ae.varargs=n}function xe(e,t,n){return Ae.varargs=n,0}function Pe(){_e()}function Ee(e,t,n){q.copyWithin(e,t,t+n)}function Oe(e){_e("OOM")}function Re(e){Oe()}function Be(e){return 0}function Ie(e,t,n,r){var o=Ae.getStreamFromFD(e),i=Ae.doReadv(o,t,n);return G[r>>2]=i,0}function je(e,t,n,r,o){}function ke(e,t,n,r){for(var o=0,i=0;i<n;i++){for(var u=G[t+8*i>>2],a=G[t+(8*i+4)>>2],s=0;s<a;s++)Ae.printChar(e,q[u+s]);o+=a}return G[r>>2]=o,0}function Te(e){var t=Date.now()/1e3|0;return e&&(G[e>>2]=t),t}var Ue={a:we,e:Se,h:Ce,g:xe,b:Pe,m:ge,k:Ee,l:Re,c:Be,f:Ie,j:je,d:ke,memory:T,table:F,i:Te},Me=be();e.asm=Me;var Fe,He=e.___wasm_call_ctors=function(){return(He=e.___wasm_call_ctors=e.asm.n).apply(null,arguments)},We=(e.___em_js__emscriptenPushBuffer=function(){return(e.___em_js__emscriptenPushBuffer=e.asm.o).apply(null,arguments)},e._emscripten_bind_VoidPtr___destroy___0=function(){return(We=e._emscripten_bind_VoidPtr___destroy___0=e.asm.p).apply(null,arguments)}),De=e._emscripten_bind_Container_Container_0=function(){return(De=e._emscripten_bind_Container_Container_0=e.asm.q).apply(null,arguments)},ze=e._emscripten_bind_Container_init_3=function(){return(ze=e._emscripten_bind_Container_init_3=e.asm.r).apply(null,arguments)},Le=e._emscripten_bind_Container_writeFrame_3=function(){return(Le=e._emscripten_bind_Container_writeFrame_3=e.asm.s).apply(null,arguments)},Ve=e._emscripten_bind_Container___destroy___0=function(){return(Ve=e._emscripten_bind_Container___destroy___0=e.asm.t).apply(null,arguments)};function qe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ge(t){function n(){Fe||(Fe=!0,e.calledRun=!0,H||(re(),oe(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ie()))}t=t||A,se>0||(ne(),se>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e._opus_encoder_create=function(){return(e._opus_encoder_create=e.asm.u).apply(null,arguments)},e._opus_encode_float=function(){return(e._opus_encode_float=e.asm.v).apply(null,arguments)},e._opus_encoder_ctl=function(){return(e._opus_encoder_ctl=e.asm.w).apply(null,arguments)},e._opus_encoder_destroy=function(){return(e._opus_encoder_destroy=e.asm.x).apply(null,arguments)},e._speex_resampler_init=function(){return(e._speex_resampler_init=e.asm.y).apply(null,arguments)},e._speex_resampler_destroy=function(){return(e._speex_resampler_destroy=e.asm.z).apply(null,arguments)},e._speex_resampler_process_interleaved_float=function(){return(e._speex_resampler_process_interleaved_float=e.asm.A).apply(null,arguments)},e._free=function(){return(e._free=e.asm.B).apply(null,arguments)},e._malloc=function(){return(e._malloc=e.asm.C).apply(null,arguments)},e.dynCall_vi=function(){return(e.dynCall_vi=e.asm.D).apply(null,arguments)},e.dynCall_v=function(){return(e.dynCall_v=e.asm.E).apply(null,arguments)},e.asm=Me,e.then=function(t){if(Fe)t(e);else{var n=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){n&&n(),t(e)}}return e},fe=function e(){Fe||Ge(),Fe||(fe=e)},e.run=Ge,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();function Ne(){}function Xe(e){return(e||Ne).__cache__}function Ye(e,t){var n=Xe(t),r=n[e];return r||((r=Object.create((t||Ne).prototype)).ptr=e,n[e]=r)}function $e(e,t){return Ye(e.ptr,t)}function Je(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete Xe(e.__class__)[e.ptr]}function Ke(e,t){return e.ptr===t.ptr}function Qe(e){return e.ptr}function Ze(e){return e.__class__}function et(){throw"cannot construct a VoidPtr, no constructor in IDL"}function tt(){this.ptr=De(),Xe(tt)[this.ptr]=this}return Ge(),Ne.prototype=Object.create(Ne.prototype),Ne.prototype.constructor=Ne,Ne.prototype.__class__=Ne,Ne.__cache__={},e.WrapperObject=Ne,e.getCache=Xe,e.wrapPointer=Ye,e.castObject=$e,e.NULL=Ye(0),e.destroy=Je,e.compare=Ke,e.getPointer=Qe,e.getClass=Ze,et.prototype=Object.create(Ne.prototype),et.prototype.constructor=et,et.prototype.__class__=et,et.__cache__={},e.VoidPtr=et,et.prototype.__destroy__=et.prototype.__destroy__=function(){var e=this.ptr;We(e)},tt.prototype=Object.create(Ne.prototype),tt.prototype.constructor=tt,tt.prototype.__class__=tt,tt.__cache__={},e.Container=tt,tt.prototype.init=tt.prototype.init=function(e,t,n){var r=this.ptr;e&&"object"===a(e)&&(e=e.ptr),t&&"object"===a(t)&&(t=t.ptr),n&&"object"===a(n)&&(n=n.ptr),ze(r,e,t,n)},tt.prototype.writeFrame=tt.prototype.writeFrame=function(e,t,n){var r=this.ptr;e&&"object"===a(e)&&(e=e.ptr),t&&"object"===a(t)&&(t=t.ptr),n&&"object"===a(n)&&(n=n.ptr),Le(r,e,t,n)},tt.prototype.__destroy__=tt.prototype.__destroy__=function(){var e=this.ptr;Ve(e)},e});"object"===a(t)&&"object"===a(i)?i.exports=p:void 0===(u=function(){return p}.apply(t,[]))||(i.exports=u)}).call(this,"/index.js",n(2),"/",n(3)(e))},function(e,t,n){(function(e,r,o,i){var u;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var l,p=(l=(l="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||e,function(e){e=void 0!==(e=e||{})?e:{};var t=n(1),i=t.EmscriptenMemoryAllocator,u=2049,c=48e3,p=4e3,_=20,d=6,h=4096,m=0,y=4002,v=0,b=function(){function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t),this.config={inputSampleRate:n,channelCount:r},this.memory=new i(e),this._opus_encoder_create=e._opus_encoder_create,this._opus_encoder_ctl=e._opus_encoder_ctl,this._opus_encode_float=e._opus_encode_float,this._opus_encoder_destroy=e._opus_encoder_destroy,this._speex_resampler_init=e._speex_resampler_init,this._speex_resampler_process_interleaved_float=e._speex_resampler_process_interleaved_float,this._speex_resampler_destroy=e._speex_resampler_destroy,this._container=new e.Container,this._container.init(c,r,Math.floor(4294967295*Math.random())),this.OpusInitCodec(c,r,o),this.SpeexInitResampler(n,c,r),this.inputSamplesPerChannel=n*_/1e3,this.outputSamplePerChannel=c*_/1e3,this.inputBufferIndex=0,this.mInputBuffer=this.memory.mallocFloat32Buffer(this.inputSamplesPerChannel*r),this.mResampledBuffer=this.memory.mallocFloat32Buffer(this.outputSamplePerChannel*r),this.mOutputBuffer=this.memory.mallocUint8Buffer(p),this.interleavedBuffers=1!==r?new Float32Array(h*r):void 0}return f(t,[{key:"encode",value:function(e){for(var t=this.interleave(e),n=0;n<t.length;){var r=Math.min(this.mInputBuffer.length-this.inputBufferIndex,t.length-n);if(this.mInputBuffer.set(t.subarray(n,n+r),this.inputBufferIndex),this.inputBufferIndex+=r,this.inputBufferIndex>=this.mInputBuffer.length){var o=this.memory.mallocUint32(this.inputSamplesPerChannel),i=this.memory.mallocUint32(this.outputSamplePerChannel),u=this._speex_resampler_process_interleaved_float(this.resampler,this.mInputBuffer.pointer,o.pointer,this.mResampledBuffer.pointer,i.pointer);if(o.free(),i.free(),u!==v)throw new Error("Resampling error.");var a=this._opus_encode_float(this.encoder,this.mResampledBuffer.pointer,this.outputSamplePerChannel,this.mOutputBuffer.pointer,this.mOutputBuffer.length);if(a<0)throw new Error("Opus encoding error.");this._container.writeFrame(this.mOutputBuffer.pointer,a,this.outputSamplePerChannel),this.inputBufferIndex=0}n+=r}}},{key:"close",value:function(){for(var t=this.config.channelCount,n=[],r=0;r<t;++r)n.push(new Float32Array(h-this.inputBufferIndex/t));this.encode(n),e.destroy(this._container),this.mInputBuffer.free(),this.mResampledBuffer.free(),this.mOutputBuffer.free(),this._opus_encoder_destroy(this.encoder),this._speex_resampler_destroy(this.resampler)}},{key:"interleave",value:function(e){var t=e.length;if(1===t)return e[0];for(var n=0;n<t;n++)for(var r=e[n],o=0;o<r.length;o++)this.interleavedBuffers[o*t+n]=r[o];return this.interleavedBuffers}},{key:"OpusInitCodec",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.memory.mallocUint32(void 0);this.encoder=this._opus_encoder_create(e,t,u,r.pointer);var o=r.value;if(r.free(),o!==m)throw new Error("Opus encodor initialization failed.");n&&this.OpusSetOpusControl(y,n)}},{key:"OpusSetOpusControl",value:function(e,t){var n=this.memory.mallocInt32(t);this._opus_encoder_ctl(this.encoder,e,n.pointer),n.free()}},{key:"SpeexInitResampler",value:function(e,t,n){var r=this.memory.mallocUint32(void 0);this.resampler=this._speex_resampler_init(n,e,t,d,r.pointer);var o=r.value;if(r.free(),o!==v)throw new Error("Initializing resampler failed.")}}]),t}();e.init=function(t,n,r){e.encodedBuffers=[],e.encoder=new b(t,n,r)},e.encode=function(t){e.encoder.encode(t)},e.flush=function(){return e.encodedBuffers.splice(0,e.encodedBuffers.length)},e.close=function(){e.encoder.close()};var g,w={};for(g in e)e.hasOwnProperty(g)&&(w[g]=e[g]);var A=[],S=!1,C=!1,x=!1,P=!1;S="object"===("undefined"==typeof window?"undefined":a(window)),C="function"==typeof importScripts,x="object"===(void 0===r?"undefined":a(r))&&"object"===a(r.versions)&&"string"==typeof r.versions.node,P=!S&&!x&&!C;var E,O,R,B,I="";function j(t){return e.locateFile?e.locateFile(t,I):I+t}x?(I=C?n(0).dirname(I)+"/":o+"/",E=function(e,t){return R||(R=n(4)),B||(B=n(0)),e=B.normalize(e),R.readFileSync(e,t?null:"utf8")},O=function(e){var t=E(e,!0);return t.buffer||(t=new Uint8Array(t)),W(t.buffer),t},r.argv.length>1&&r.argv[1].replace(/\\\\/g,"/"),A=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof We))throw e})),r.on("unhandledRejection",_e),e.inspect=function(){return"[Emscripten Module object]"}):P?("undefined"!=typeof read&&(E=function(e){return read(e)}),O=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(W("object"===a(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?A=scriptArgs:void 0!==arguments&&(A=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(S||C)&&(C?I=self.location.href:document.currentScript&&(I=document.currentScript.src),l&&(I=l),I=0!==I.indexOf("blob:")?I.substr(0,I.lastIndexOf("/")+1):"",E=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},C&&(O=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var k,T,U=e.print||console.log.bind(console),M=e.printErr||console.warn.bind(console);for(g in w)w.hasOwnProperty(g)&&(e[g]=w[g]);w=null,e.arguments&&(A=e.arguments),e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&(k=e.wasmBinary),e.noExitRuntime&&e.noExitRuntime,"object"!==("undefined"==typeof WebAssembly?"undefined":a(WebAssembly))&&M("no native wasm support detected");var F=new WebAssembly.Table({initial:36,maximum:36,element:"anyfunc"}),H=!1;function W(e,t){e||_e("Assertion failed: "+t)}var D="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&D)return D.decode(e.subarray(t,o));for(var i="";t<o;){var u=e[t++];if(128&u){var a=63&e[t++];if(192!=(224&u)){var s=63&e[t++];if((u=224==(240&u)?(15&u)<<12|a<<6|s:(7&u)<<18|a<<12|s<<6|63&e[t++])<65536)i+=String.fromCharCode(u);else{var c=u-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&u)<<6|a)}else i+=String.fromCharCode(u)}return i}function L(e,t){return e?z(q,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var V,q,G,N=65536;function X(t){V=t,e.HEAP8=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=G=new Int32Array(t),e.HEAPU8=q=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var Y=5289728,$=46688,J=e.INITIAL_MEMORY||16777216;function K(t){for(;t.length>0;){var n=t.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?e.dynCall_v(r):e.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n()}}(T=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:J/N,maximum:J/N}))&&(V=T.buffer),J=V.byteLength,X(V),G[$>>2]=Y;var Q=[],Z=[],ee=[],te=[];function ne(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)ue(e.preRun.shift());K(Q)}function re(){K(Z)}function oe(){K(ee)}function ie(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)ae(e.postRun.shift());K(te)}function ue(e){Q.unshift(e)}function ae(e){te.unshift(e)}var se=0,ce=null,fe=null;function le(t){se++,e.monitorRunDependencies&&e.monitorRunDependencies(se)}function pe(t){if(se--,e.monitorRunDependencies&&e.monitorRunDependencies(se),0==se&&(null!==ce&&(clearInterval(ce),ce=null),fe)){var n=fe;fe=null,n()}}function _e(t){throw e.onAbort&&e.onAbort(t),U(t+=""),M(t),H=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}e.preloadedImages={},e.preloadedAudios={};var de="data:application/octet-stream;base64,";function he(e){return String.prototype.startsWith?e.startsWith(de):0===e.indexOf(de)}var me="OggOpusEncoder.wasm";function ye(){try{if(k)return new Uint8Array(k);if(O)return O(me);throw"both async and sync fetching of the wasm failed"}catch(e){_e(e)}}function ve(){return k||!S&&!C||"function"!=typeof fetch?new Promise((function(e,t){e(ye())})):fetch(me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+me+"\'";return e.arrayBuffer()})).catch((function(){return ye()}))}function be(){var t={a:Be};function n(t,n){var r=t.exports;e.asm=r,pe()}function r(e){n(e.instance)}function o(e){return ve().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){M("failed to asynchronously prepare wasm: "+e),_e(e)}))}if(le(),e.instantiateWasm)try{return e.instantiateWasm(t,n)}catch(e){return M("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(k||"function"!=typeof WebAssembly.instantiateStreaming||he(me)||"function"!=typeof fetch)return o(r);fetch(me,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(e){M("wasm streaming compile failed: "+e),M("falling back to ArrayBuffer instantiation"),o(r)}))}))}(),{}}function ge(t,n){var r=new Uint8Array(e.HEAPU8.buffer,t,n);e.encodedBuffers.push(new Uint8Array(r).buffer)}function we(e,t,n,r){_e("Assertion failed: "+L(e)+", at: "+[t?L(t):"unknown filename",n,r?L(r):"unknown function"])}function Ae(){_e()}function Se(e,t,n){q.copyWithin(e,t,t+n)}function Ce(e){_e("OOM")}function xe(e){Ce()}he(me)||(me=j(me)),Z.push({func:function(){ke()}});var Pe={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Pe.buffers[e];0===t||10===t?((1===e?U:M)(z(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Pe.varargs+=4,G[Pe.varargs-4>>2]},getStr:function(e){return L(e)},get64:function(e,t){return e}};function Ee(e){return 0}function Oe(e,t,n,r,o){}function Re(e,t,n,r){for(var o=0,i=0;i<n;i++){for(var u=G[t+8*i>>2],a=G[t+(8*i+4)>>2],s=0;s<a;s++)Pe.printChar(e,q[u+s]);o+=a}return G[r>>2]=o,0}var Be={a:we,c:Ae,d:ge,f:Se,g:xe,h:Ee,e:Oe,b:Re,memory:T,table:F},Ie=be();e.asm=Ie;var je,ke=e.___wasm_call_ctors=function(){return(ke=e.___wasm_call_ctors=e.asm.i).apply(null,arguments)},Te=(e.___em_js__emscriptenPushBuffer=function(){return(e.___em_js__emscriptenPushBuffer=e.asm.j).apply(null,arguments)},e._emscripten_bind_VoidPtr___destroy___0=function(){return(Te=e._emscripten_bind_VoidPtr___destroy___0=e.asm.k).apply(null,arguments)}),Ue=e._emscripten_bind_Container_Container_0=function(){return(Ue=e._emscripten_bind_Container_Container_0=e.asm.l).apply(null,arguments)},Me=e._emscripten_bind_Container_init_3=function(){return(Me=e._emscripten_bind_Container_init_3=e.asm.m).apply(null,arguments)},Fe=e._emscripten_bind_Container_writeFrame_3=function(){return(Fe=e._emscripten_bind_Container_writeFrame_3=e.asm.n).apply(null,arguments)},He=e._emscripten_bind_Container___destroy___0=function(){return(He=e._emscripten_bind_Container___destroy___0=e.asm.o).apply(null,arguments)};function We(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function De(t){function n(){je||(je=!0,e.calledRun=!0,H||(re(),oe(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ie()))}t=t||A,se>0||(ne(),se>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e._opus_encoder_create=function(){return(e._opus_encoder_create=e.asm.p).apply(null,arguments)},e._opus_encode_float=function(){return(e._opus_encode_float=e.asm.q).apply(null,arguments)},e._opus_encoder_ctl=function(){return(e._opus_encoder_ctl=e.asm.r).apply(null,arguments)},e._opus_encoder_destroy=function(){return(e._opus_encoder_destroy=e.asm.s).apply(null,arguments)},e._malloc=function(){return(e._malloc=e.asm.t).apply(null,arguments)},e._free=function(){return(e._free=e.asm.u).apply(null,arguments)},e._speex_resampler_init=function(){return(e._speex_resampler_init=e.asm.v).apply(null,arguments)},e._speex_resampler_destroy=function(){return(e._speex_resampler_destroy=e.asm.w).apply(null,arguments)},e._speex_resampler_process_interleaved_float=function(){return(e._speex_resampler_process_interleaved_float=e.asm.x).apply(null,arguments)},e.dynCall_vi=function(){return(e.dynCall_vi=e.asm.y).apply(null,arguments)},e.dynCall_v=function(){return(e.dynCall_v=e.asm.z).apply(null,arguments)},e.asm=Ie,e.then=function(t){if(je)t(e);else{var n=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){n&&n(),t(e)}}return e},fe=function e(){je||De(),je||(fe=e)},e.run=De,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();function ze(){}function Le(e){return(e||ze).__cache__}function Ve(e,t){var n=Le(t),r=n[e];return r||((r=Object.create((t||ze).prototype)).ptr=e,n[e]=r)}function qe(e,t){return Ve(e.ptr,t)}function Ge(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete Le(e.__class__)[e.ptr]}function Ne(e,t){return e.ptr===t.ptr}function Xe(e){return e.ptr}function Ye(e){return e.__class__}function $e(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Je(){this.ptr=Ue(),Le(Je)[this.ptr]=this}return De(),ze.prototype=Object.create(ze.prototype),ze.prototype.constructor=ze,ze.prototype.__class__=ze,ze.__cache__={},e.WrapperObject=ze,e.getCache=Le,e.wrapPointer=Ve,e.castObject=qe,e.NULL=Ve(0),e.destroy=Ge,e.compare=Ne,e.getPointer=Xe,e.getClass=Ye,$e.prototype=Object.create(ze.prototype),$e.prototype.constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},e.VoidPtr=$e,$e.prototype.__destroy__=$e.prototype.__destroy__=function(){var e=this.ptr;Te(e)},Je.prototype=Object.create(ze.prototype),Je.prototype.constructor=Je,Je.prototype.__class__=Je,Je.__cache__={},e.Container=Je,Je.prototype.init=Je.prototype.init=function(e,t,n){var r=this.ptr;e&&"object"===a(e)&&(e=e.ptr),t&&"object"===a(t)&&(t=t.ptr),n&&"object"===a(n)&&(n=n.ptr),Me(r,e,t,n)},Je.prototype.writeFrame=Je.prototype.writeFrame=function(e,t,n){var r=this.ptr;e&&"object"===a(e)&&(e=e.ptr),t&&"object"===a(t)&&(t=t.ptr),n&&"object"===a(n)&&(n=n.ptr),Fe(r,e,t,n)},Je.prototype.__destroy__=Je.prototype.__destroy__=function(){var e=this.ptr;He(e)},e});"object"===a(t)&&"object"===a(i)?i.exports=p:void 0===(u=function(){return p}.apply(t,[]))||(i.exports=u)}).call(this,"/index.js",n(2),"/",n(3)(e))}])}},"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?r()():e.exports=r()}]);',"Worker",void 0,n.p+"encoderWorker.umd-bundle-release-a7bb971.worker.js")}let wi;const ki="audio/webm;codecs=opus";function xi(e){const t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),o=Object(a.useRef)(!1);Object(a.useEffect)((()=>{var t;"recording"===e.recordingState?s():"previewing"===e.recordingState?null===(t=r.current)||void 0===t||t.stop():r.current&&(o.current=!0,r.current.stop())}),[e.recordingState]);const s=async()=>{var s;n.current=Di.create(),t.current=_i(Object.assign(Object.assign({},e.wavesurferOptions),{interact:!1,barHeight:null!==(s=e.wavesurferOptions.barHeight)&&void 0!==s?s:4,plugins:[n.current],container:e.wavesurferContainer.current}));const a=await n.current.startMic();MediaRecorder&&MediaRecorder.isTypeSupported(ki)?r.current=new MediaRecorder(a,{mimeType:ki}):r.current=new Ci.a(a,{mimeType:ki},{encoderWorkerFactory:()=>new Ni,WebMOpusEncoderWasmPath:wi}),r.current.onstart=()=>i.current=Date.now(),r.current.ondataavailable=s=>{if(!o.current){const t=Date.now(),n=Math.floor((t-i.current)/1e3),r=new File([s.data],`talkjs_audio_message_${t}_${n}.webm`,{type:"audio/webm"});e.onSendRecording(r,n)}o.current=!1,(()=>{var e;r.current=void 0,null===(e=t.current)||void 0===e||e.destroy(),t.current=void 0,n.current=void 0})()},r.current.start()};return null}MediaRecorder&&MediaRecorder.isTypeSupported(ki)||n.e(13).then(n.t.bind(null,934,7)).then((e=>wi=e.default));var Li=n(50),Mi=n(60);const Pi="talkjs_drafts";const Fi=function(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>t(...r)),e)}}(200,((e,t,n,r)=>{const i=ji(e,t,n),o=JSON.parse(Mi.a.getItem(Pi)||"{}"),s=r();s.match(/^\s*$/)?delete o[i]:o[i]=s,Mi.a.setItem(Pi,JSON.stringify(o))})),ji=(e,t,n)=>`draft_${e}_${t}_${n}`;function Bi({appId:e,conversationId:t,meId:n,setText:r}){const i=Object(a.useMemo)((()=>Ui(t,n,e)),[e,t,n]);return Object(a.useEffect)((()=>{var e;let t=JSON.parse(Mi.a.getItem(Pi)||"{}");const n=Mi.a.getItem(i);n&&(Mi.a.removeItem(i),t[i]=n,Mi.a.setItem(Pi,JSON.stringify(t)));const o=null!==(e=t[i])&&void 0!==e?e:"";r(o)}),[e,t]),null}const Ui=(e,t,n)=>`draft_${e}_${t}_${n}`,Hi=()=>{};class zi extends et.a{constructor(e){super(e),this.editor=u.a.createRef(),this.emojiSuggestBar=u.a.createRef(),this.mentionSuggestList=u.a.createRef(),this.wavesurferContainer=u.a.createRef(),this.wavesurferOptions={},this.currentDoc=ir.EMPTY,this.setText=e=>{var t;return null===(t=this.editor.current)||void 0===t?void 0:t.setContentWithInternalMarkers(e)},this.typeText=e=>{var t;return null===(t=this.editor.current)||void 0===t?void 0:t.setText(e,"insert")},this.getText=()=>this.currentDoc.asText(),this._onSay=e=>{e.preventDefault(),this._send()},this._onEnter=()=>{var e;const t=null===(e=this.props.messageField.enterSendsMessage)||void 0===e||e;return"not_recording"!==this.state.recordingState||t&&this._send(),t},this._onChangeFocus=(e,t)=>("focus"===t.type?this.setState({isFocused:!0}):"blur"===t.type&&this.setState({isFocused:!1}),!1),this._onUpArrow=()=>"not_recording"===this.state.recordingState&&(!(!this.state.isEmpty||this.props.editingMessage)&&this.props.onEditLastMessage()),this._onAttach=e=>{e.preventDefault(),this.props.onAttach()},this._onShareLocation=e=>{e.preventDefault(),this.props.onShareLocation()},this._placeholderText=Object(wt.a)(((e,t,n,r)=>{const{canRead:i,canWrite:o}=e;return this.props.editingMessage?"":i&&o?n.placeholder?n.placeholder:r("ENTRYBOX_PLACEHOLDER"):!i&&!o||t?r("ENTRYBOX_PLACEHOLDER_CHAT_CLOSED"):i&&!o?r("ENTRYBOX_PLACEHOLDER_CHAT_READONLY"):""})),this._referencedMessageData=Object(wt.a)(((e,t,n,r,i,o)=>Pe(e,t,void 0,r,n,void 0,void 0,i,Dt({perm:o,actionLike:{needsWriteAccess:!0},conversationLike:{myRights:this.props.rights},meId:e.id,message:t})))),this._toggleEmojiPicker=e=>{e.preventDefault(),this.state.showEmojiPicker?this._onCloseEmojiPicker():this.setState({showEmojiPicker:!0})},this._onCloseEmojiPicker=()=>{this.setState({showEmojiPicker:!1},(()=>this.editor.current.focus()))},this._onSuggestEmojis=e=>{this.setState({suggestEmojiQuery:e})},this._onSuggestMentions=e=>{this.setState({suggestMentionQuery:e})},this._onSuggestKeydown=e=>this.state.suggestEmojiQuery?this.emojiSuggestBar.current.keydown(e):this.state.suggestMentionQuery?this.mentionSuggestList.current.keydown(e):void i.a.never(),this._insertEmoji=e=>{this.editor.current.insertEmoji(e),this.editor.current.focus()},this._setSkinTone=e=>{var t;null===(t=this.emojiSuggestBar.current)||void 0===t||t.setSkinTone(e)},this._insertMention=e=>{const t=this.props.mentionOptions.find((t=>t.id===e));i.a.defined(t),this.editor.current.insertMention(t)},this._onRecord=async()=>{if("cancel"!==await d.a.request("emitBrowserPermissionNeeded","microphone"))try{await navigator.mediaDevices.getUserMedia({audio:!0}),this.tickHandle=setInterval((()=>this.setState((e=>({recordingDuration:e.recordingDuration+1})))),1e3),this.setState({recordingState:"recording"})}catch(e){"NotAllowedError"===e.name&&d.a.request("emitBrowserPermissionDenied","microphone"),z.a.error(e)}},this._onStopRecording=()=>{void 0!==this.tickHandle&&(clearInterval(this.tickHandle),this.tickHandle=void 0),this.setState({recordingState:"not_recording",recordingDuration:0})},this._onSendRecording=(e,t)=>{i.a.defined(this.props.onSendRecording),this.props.onSendRecording(e),this.setState({audioProgress:t})},this._onStopPreviewing=()=>{var e,t,n;null===(e=this.previewAudioElement)||void 0===e||e.pause(),(null===(t=this.previewAudioElement)||void 0===t?void 0:t.currentSrc.startsWith("blob:"))&&URL.revokeObjectURL(this.previewAudioElement.currentSrc),this.previewAudioElement=void 0,null===(n=this.wavesurfer)||void 0===n||n.destroy(),this.wavesurfer=void 0},this._onStartPreviewing=e=>{this.previewAudioElement=new Audio;const t=Object.assign(Object.assign({},this.wavesurferOptions),{normalize:!0,container:this.wavesurferContainer.current}),n=()=>{this.wavesurfer=_i(t),this.wavesurfer.on("timeupdate",(e=>{const t=Math.trunc(e);t!==this.state.audioProgress&&this.setState({audioProgress:t})})),this.wavesurfer.on("finish",(()=>this.setState({isPlayingAudio:!1}))),"WebAudio"===t.backend&&this.wavesurfer.loadBlob(e)};if(""===this.previewAudioElement.canPlayType("audio/webm;codecs=opus"))t.backend="WebAudio";else{const r=this.previewAudioElement;r.addEventListener("error",(()=>{var e;r.error.code===r.error.MEDIA_ERR_SRC_NOT_SUPPORTED&&(null===(e=this.wavesurfer)||void 0===e||e.destroy(),t.media=void 0,t.backend="WebAudio",n())})),r.src=URL.createObjectURL(e),r.preservesPitch=!0,t.media=r}n()},this._onConfirmSendUpload=()=>{i.a.defined(this.props.onConfirmSendUpload),this.props.onConfirmSendUpload(),this._onStopPreviewing(),this.setState({recordingState:"not_recording",audioProgress:0,isPlayingAudio:!1})},this._onCancelUpload=()=>{void 0!==this.props.onCancelUpload&&(this.props.onCancelUpload(),this._onStopPreviewing(),this.setState({recordingState:"not_recording",audioProgress:0,isPlayingAudio:!1}))},this.state={isFocused:!1,atTextLimit:!1,showEmojiPicker:!1,suggestEmojiQuery:void 0,suggestMentionQuery:void 0,isFirstRender:!0,isEmpty:!e.editingMessage,recordingState:"not_recording",characterCount:0,recordingDuration:0,isPlayingAudio:!1,audioProgress:0,playbackSpeed:1};{const e=document.head,t="customElements"in window,n=e.createShadowRoot||e.attachShadow;this.supportsEmojiPicker=Boolean(kr&&t&&n)}this.layout=this.props.editingMessage?"tall":"v2"===this.props.theme.version?this.props.theme.settings.messageFieldLayout:"regular";const t={EmojiPicker:()=>u.a.createElement(Vr,{show:this.state.showEmojiPicker,onSelect:this._insertEmoji,onSkinToneChange:this._setSkinTone,onClose:this._onCloseEmojiPicker}),MentionSuggestList:e=>this.state.suggestMentionQuery?u.a.createElement(Yr,{ref:this.mentionSuggestList,className:e.className,options:this.props.mentionOptions,query:this.state.suggestMentionQuery,onSelect:this._insertMention}):null,EmojiSuggestBar:e=>!this.state.isFirstRender&&this.supportsEmojiPicker?u.a.createElement(xr,{ref:this.emojiSuggestBar,className:e.className,query:this.state.suggestEmojiQuery,onSelect:this._insertEmoji}):null,TextForm:e=>u.a.createElement("form",{className:e.className,onSubmit:this._onSay},e.children),Editor:e=>{var t,n;const r=this._placeholderText(this.props.rights,this.props.chatClosed,this.props.messageField,this.context.t);let i=Number(e.characterLimit);Number.isNaN(i)&&(i=zi.MAX_LENGTH);return u.a.createElement(u.a.Fragment,null,u.a.createElement(rr,{ref:this.editor,className:e.className,disabled:void 0!==e.disabled,placeholderText:null!==(t=e.placeholder)&&void 0!==t?t:r,spellcheck:null!==(n=this.props.messageField.spellcheck)&&void 0!==n&&n,enableEmojis:this.supportsEmojiPicker,enableMentions:this.context.enableMentions,onSuggestMentions:this._onSuggestMentions,onSuggestEmojis:this._onSuggestEmojis,onSuggestKeyDown:this._onSuggestKeydown,onChange:e=>{this.currentDoc=e;const t=e.hasContent;!this.state.isFirstRender&&t&&this.props.onTyping();const n=e.size>i&&e.asText().length>i,r=!e.hasNonWhitespaceContent();this.props.editingMessage||Fi(this.props.conversationId,this.props.me.id,this.props.appId,(()=>e.asText())),this.setState({atTextLimit:n,isEmpty:r,characterCount:0===e.size?0:e.size-2})},onPasteImage:this.props.onPasteImage,onEnter:this._onEnter,onEscape:this.props.onCancel,onUpArrow:this._onUpArrow,onChangeFocus:this._onChangeFocus}),!this.props.editingMessage&&u.a.createElement(Bi,{conversationId:this.props.conversationId,meId:this.props.me.id,appId:this.props.appId,setText:this.setText}))},LocationButton:e=>u.a.createElement(xt,{className:`message-button message-button--location ${e.className}`,"aria-label":e.ariaLabel,title:e.title,fastClick:!0,onClick:this._onShareLocation},e.children),AttachmentButton:e=>u.a.createElement(xt,{className:`message-button message-button--attach ${e.className}`,"aria-label":e.ariaLabel,title:e.title,fastClick:!0,onClick:this._onAttach},e.children),EmojiButton:e=>u.a.createElement(xt,{className:`message-button message-button--emoji ${e.className}`,"aria-label":e.ariaLabel,title:e.title,fastClick:!0,onClick:this._toggleEmojiPicker},e.children),VoiceMessageButton:e=>u.a.createElement(xt,{className:`record-button ${e.className}`,"aria-label":e.ariaLabel,title:e.title,onClick:this._onRecord},e.children),SendButton:e=>{const t=Object(a.useMemo)((()=>"recording"===this.state.recordingState?()=>{void 0!==this.tickHandle&&(clearInterval(this.tickHandle),this.tickHandle=void 0),this.setState({recordingState:"previewing",recordingDuration:0})}:"previewing"===this.state.recordingState?this._onConfirmSendUpload:this._onSay),[this.state.recordingState,this.tickHandle]);return u.a.createElement(u.a.Fragment,null,"string"==typeof e.children?u.a.createElement("button",{className:`send-button-full test__send-button ${e.className}`,title:e.title,onClick:this._onSay,disabled:!this._canSend()},e.children):u.a.createElement(xt,{className:`send-button test__send-button ${e.className}`,"aria-label":e.ariaLabel,title:e.title,onClick:t,fastClick:!0,disabled:!this._canSend()&&Boolean(this.props.uploadErrorMsg)},e.children))},CloseButton:e=>{const t=this.props.referencedMessage,n=this.state.recordingState,r=Object(a.useCallback)((()=>{var e,t;this.props.referencedMessage&&(this.context.controller.unsetReferencedMessage(this.props.conversationId),null===(t=(e=this.props).onCloseReplyBar)||void 0===t||t.call(e)),"previewing"===n?this._onCancelUpload():"recording"===n&&this._onStopRecording()}),[n,t]);return R.H(r),u.a.createElement(xt,{className:e.className,"aria-label":e.ariaLabel,title:e.title,fastClick:!0,onClick:r},e.children)},CancelButton:e=>u.a.createElement("button",{className:`cancel-button-full test__cancel-button ${e.className}`,title:e.title,onClick:this.props.onCancel},e.children),ActionButton:Li.b,ActionLink:Li.c,ReferencedMessageLink:e=>{var t,n,r;const i=this.props.referencedMessage,o=this.context.t;if(i){const s=Object(a.useMemo)((()=>{let e;if(i.attachment){const t=Object(Ie.e)(i.attachment.url);e=R.y(t)?`${o("VOICE_MESSAGE")} (${R.l(R.p(t))})`:t}else(null==i?void 0:i.location)&&(e=o("LOCATION"));return e}),[i,o]),c=this.props.onClickReplyBar,l=Object(a.useCallback)((()=>{c&&c(i.id)}),[this.props.onClickReplyBar,this.props.referencedMessage]);return u.a.createElement("div",{"aria-label":o("ARIA_REPLYING_TO",{SENDER_NAME:null!==(n=null===(t=this.props.referencedMessageSender)||void 0===t?void 0:t.name)&&void 0!==n?n:"",CONTENT:null!==(r=null!=s?s:null==i?void 0:i.text)&&void 0!==r?r:""}),onClick:l,className:e.className},e.children)}return null},Waveform:e=>{function t(e){let t=Number(e);return Number.isNaN(t)?void 0:t}return this.wavesurferOptions.barHeight=t(e.barHeight),this.wavesurferOptions.barRadius=t(e.barRadius),this.wavesurferOptions.barGap=t(e.barGap),this.wavesurferOptions.barWidth=t(e.barWidth),this.wavesurferOptions.cursorWidth=t(e.cursorWidth),this.wavesurferOptions.cursorColor=e.cursorColor,this.wavesurferOptions.height=t(e.height),this.wavesurferOptions.progressColor=e.progressColor,this.wavesurferOptions.waveColor=e.waveColor,u.a.createElement("div",{ref:this.wavesurferContainer,className:e.className})},PlayButton:e=>{const t=Object(a.useCallback)((()=>{this.state.isPlayingAudio?this.wavesurfer.pause():this.wavesurfer.play(),this.setState((e=>({isPlayingAudio:!e.isPlayingAudio})))}),[]);return u.a.createElement("button",{className:e.className,"aria-label":e.ariaLabel,title:e.title,onClick:t},e.children)},PlaybackMenu:e=>{var t;const n=Object(a.useCallback)((e=>{this.wavesurfer.setPlaybackRate(e),this.setState({playbackSpeed:e})}),[]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(_t.a,null,u.a.createElement(_t.b,{"aria-label":this.context.t("ARIA_SET_PLAYBACK_SPEED")},this.state.playbackSpeed,"x",u.a.createElement(Ur.b,{type:"updown","aria-hidden":!0,style:{width:"1rem",height:"1rem",marginTop:"-2px"}})),u.a.createElement(_t.e,null,u.a.createElement(_t.d,{className:"action-menu"},u.a.createElement("div",{style:{opacity:.5,padding:"0.5rem 1rem"}},"Playback Speed"),null===(t=e.speeds)||void 0===t?void 0:t.split(",").map(((e,t)=>{const r=Number(e.trim());return u.a.createElement(_t.c,{key:t,onSelect:()=>n(r)},u.a.createElement("span",{style:{display:"inline-block",width:"1em"}},this.state.playbackSpeed==r?"":""),r,"x")}))))))}};this.messageFieldComponent=this.props.theme.getComponent("MessageField",t)}componentDidMount(){this._autofocus(),this.setState({isFirstRender:!1}),this.props.editingMessage&&setTimeout((()=>{this.focus(),this.setText(Object(H.a)(this.props.editingMessage.entityTree,!0))}),0)}componentDidUpdate(e,t){var n,r,i,o,s;if(t.recordingState!==this.state.recordingState&&"not_recording"===this.state.recordingState&&setTimeout((()=>{this.focus()}),0),(null===(n=e.upload)||void 0===n?void 0:n.resource)!==(null===(r=this.props.upload)||void 0===r?void 0:r.resource)){const e=null===(i=this.props.upload)||void 0===i?void 0:i.resource;e&&this._onStartPreviewing(e)}e.referencedMessage!==this.props.referencedMessage&&(null===(s=(o=this.props).onOpenReplyBar)||void 0===s||s.call(o))}async _autofocus(){if(!this.props.editingMessage){if(!1===this.props.messageField.autofocus)return;if(!this.props.browserMode.isDesktop)return}this.editor.current&&await this.editor.current.isInViewport()&&this.focus()}focus(){var e;null===(e=this.editor.current)||void 0===e||e.focus()}_send(){if("recording"===this.state.recordingState)return void this._onStopRecording();let e=this.currentDoc.asText().trim();if(!this._canSend())return;if(this.props.editingMessage&&e===Object(H.a)(this.props.editingMessage.entityTree,!0))return void this.props.onCancel();const t=Object(V.c)(e);this.props.onSay(t),this.setText(""),this._onCloseEmojiPicker()}_canSend(){return"recording"===this.state.recordingState||!this.state.atTextLimit&&(!this.state.isEmpty||!(!this.props.editingMessage||!this.props.canDelete))}render(){var e;const t=this.props,n=this.context,{canWrite:r}=t.rights,i=n.enableFileTransfers&&!t.editingMessage,o=n.enableLocation&&!t.editingMessage,s=!this.state.isFirstRender&&this.supportsEmojiPicker&&t.browserMode.isDesktop&&!t.editingMessage,a=n.enableVoiceRecording&&!t.editingMessage&&"not_recording"===this.state.recordingState;let c;if(t.referencedMessage){const e=t.referencedMessage;c=this._referencedMessageData(t.me,e,t.referencedMessageSender,t.conversationTemplateData,t.shouldTranslateReferencedMessage,n.emojiReactions);const r=n.contentMasking.shouldSuppress({isContentBySender:t.me.id===e.senderId});"text"===c.body.type&&(c.body.formattedText=u.a.createElement(Ct.a,{entityTree:c.body.entityTree,contactInfo:!!r&&"suppress",suppression:n.contentMasking,t:n.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",markup:!0}))}const l={canWrite:r,canRecord:a,canShareFile:i,canShareLocation:o,characterCount:this.state.characterCount,conversation:t.conversationTemplateData,layout:this.layout,canSend:this._canSend(),canDelete:t.canDelete,isFocused:this.state.isFocused,isEditing:Boolean(t.editingMessage),isEmojiPickerOpen:this.state.showEmojiPicker,enableEmojiPicker:s,atTextLimit:this.state.atTextLimit,recordingState:this.state.recordingState,uploadState:null===(e=t.upload)||void 0===e?void 0:e.state,uploadError:Boolean(t.uploadErrorMsg),uploadErrorMessage:t.uploadErrorMsg,recordingDuration:this.state.recordingDuration,isPlayingAudio:this.state.isPlayingAudio,audioProgress:this.state.audioProgress,referencedMessageData:c};return u.a.createElement(u.a.Fragment,null,u.a.createElement(xi,{onSendRecording:this._onSendRecording,recordingState:this.state.recordingState,wavesurferOptions:this.wavesurferOptions,wavesurferContainer:this.wavesurferContainer}),this.messageFieldComponent.render(l))}}zi.defaultProps={onTyping:Hi,onPasteImage:Hi,onAttach:Hi,onShareLocation:Hi,onCancel:Hi,onEditLastMessage:Hi},zi.MAX_LENGTH=1e4,zi.contextType=p.a;var Vi=zi;n(347);function Gi(e){const t=function(e,t,n){const r=n.shouldSuppress({isContentBySender:e.sender.isMe});switch(e.body.type){case"text":return u.a.createElement(Ct.a,{entityTree:e.body.entityTree,contactInfo:!!r&&"suppress",suppression:n,enableEmojiImageFallback:!0,formattedLinks:"plaintext",t:t});case"file":const i=Object(Ie.e)(e.body.file.url);return R.y(i)?`${t("VOICE_MESSAGE")} (${R.l(R.p(i))})`:i;case"location":return t("LOCATION");default:return console.error(`Unknown message body type: ${e.body.type}`),""}}(e.message,e.t,e.contentMasking);return u.a.createElement("div",{className:"ReferencedMessage",onClick:e.scrollToMessage},u.a.createElement("div",{className:"senderName"},e.message.sender.name),u.a.createElement("div",{className:"content"},t))}var $i=e=>{const{controller:t,t:n}=u.a.useContext(p.a),{message:r,conversation:i}=u.a.useContext(Ot.a);return u.a.createElement("button",{style:e.style,className:e.className,onClick:()=>{e.canReact&&(e.iReacted?t.removeEmojiReaction(i,r,e.emoji):t.addEmojiReaction(i,r,e.emoji))},disabled:!e.canReact,title:e.title,"aria-pressed":e.iReacted,"aria-label":n("ARIA_REACTION_COUNT",{NUM_REACTIONS:e.numReactions.toString(),EMOJI:e.emoji})},e.children)};var Yi=e=>u.a.createElement("button",{style:e.style,className:e.className,onClick:()=>{e.canReact&&e.setEmojiReactionState(e.message)},disabled:!e.canReact,"aria-label":e.t("ADD_REACTION")},e.children);let Wi;function Ki(e){var t;i.a.defined(e.src);const r=null!==(t=e.videoType)&&void 0!==t?t:/[.]ts/i.test(e.src)?"mpegts":"native",o=Object(a.useRef)();"mpegts"==r&&Object(a.useEffect)((()=>{(async()=>{Wi||(Wi=(await n.e(81).then(n.t.bind(null,935,7))).default),i.a.defined(o.current);const t=Wi.createPlayer({type:"mpegts",url:e.src});t.attachMediaElement(o.current),t.load()})()}),[]);const s=Object.fromEntries(Object.entries(e).filter((([e,t])=>!["src","ref"].includes(e))));return"mpegts"==r&&(s.ref=o),"mpegts"!=r&&e.src?u.a.createElement("video",s,u.a.createElement("source",{src:e.src}),e.children):u.a.createElement("video",s,e.children)}n(348);class qi extends u.a.PureComponent{constructor(e){super(e),this.state={isInteracting:!1,hasLinkPreviews:!1,isEditing:!1,thumbnailError:!1},this.renderThumbnail=({src:e,file:t,location:n,gradients:r})=>{r=r?r.trim().split(/\s*;\s*/).map((e=>{const t={"top-left":"165deg",top:"180deg","top-right":"195deg",right:"-90deg","bottom-right":"-15deg",bottom:"0deg","bottom-left":"15deg",left:"90deg"}[e];return t?`linear-gradient(${t}, rgba(0,0,0,.6) 0, rgba(0,0,0,.2) 3em, rgba(0,0,0,0) 5em)`:`linear-gradient(${e})`})).join(",")+",":"";const[i,o]=t?[t.url,t.filename]:e?[e,e.split("?")[0]]:[null,null];if(i&&o)return R.t(o)?u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{href:i,className:"test__image-preview",onClick:this.onShowImagePopup,target:"_blank",rel:"noopener noreferrer",style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"inherit",maxHeight:"inherit",height:"100%",overflow:"hidden"}},u.a.createElement("img",{src:i,style:{minWidth:0,minHeight:0,maxHeight:"inherit",aspectRatio:Xi(t)}}),u.a.createElement("div",{style:{background:`${r} center center / cover no-repeat`,position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"}}))):R.y(o)||R.q(o)||"audio"==(null==t?void 0:t.type)?u.a.createElement(vi,{src:i,filename:o,onError:()=>this.setState({thumbnailError:!0})}):R.x(o)?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"test__video-preview",style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"inherit",maxHeight:"inherit",height:"100%",overflow:"hidden"}},u.a.createElement(Ki,{className:"video-content",controls:!0,style:{minWidth:0,minHeight:0,maxHeight:"inherit",aspectRatio:Xi(t)},preload:"metadata",src:`${i}#t=0.1`,playsInline:!0}),u.a.createElement("div",{style:{background:`${r} center center / cover no-repeat`,position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"}}))):(console.error(`Theme error: cannot render <Thumbnail> for file "${i}", the file type is not supported.`),null);if(n){const{imageUrl:e,linkUrl:t}=R.m(n);return u.a.createElement(st.a,{href:t,target:"_blank",className:"test__location-preview",style:{background:`${r} url(${JSON.stringify(e)}) center center / cover no-repeat`,display:"block",height:"100%",width:"100%"}})}throw new le.a("Theme error: can't render <Thumbnail /> if `location` or `file` props are not present.")},this.renderMessageTicks=()=>u.a.createElement(it,{message:this.props.message}),this.onShowImagePopup=e=>{e.preventDefault();const{url:t}=this.props.message.attachment;this.props.controller.showImagePopup({url:t})},this.onDoneEditing=async e=>{0!==e.length?(this.context.controller.editMessage(this.props.conversation,this.props.message,e),this.setIsEditing(!1)):confirm(this.context.t("DELETION_EXPLANATION"))&&(this.context.controller.deleteMessage(this.props.conversation,this.props.message),this.setIsEditing(!1))},this.shouldApplyContentMasking=()=>{const{templateData:e,contentMasking:t}=this.props;if("SystemMessage"===e.type)return!1;{const n=e.sender.id===e.conversation.me.id;return t.shouldSuppress({isContentBySender:n})}},this.setHasLinkPreviews=e=>{this.setState({hasLinkPreviews:e})},this.setIsEditing=e=>{var t;e?this.props.scrollToMessage(this.props.message.id):this.props.focusMessageFieldAfterEditing&&(null===(t=window.__chatBox)||void 0===t||t.focusMessageField()),this.setState({isEditing:e})},this.setEmojiReactionState=e=>{this.props.setEmojiReactionState(e)};let t={StatusTicks:()=>u.a.createElement(it,{message:this.props.message}),Thumbnail:e=>this.renderThumbnail(e),ActionMenu:bt,ActionButton:Li.b,ActionLink:Li.c,LinkPreviews:Nt,LinkPreview:It,Emoji:({emoji:e})=>{if(e.startsWith(":")){const t=this.context.customEmojiUrls.display[e];if(t)return u.a.createElement(Rr.a,{src:t,alt:e})}return e},EmojiReactionButton:e=>{let{numReactions:t,iReacted:n,emoji:r}=e.reaction?e.reaction:e;return u.a.createElement($i,Object.assign({},e,{emoji:r,numReactions:t,iReacted:n,conversation:this.props.conversation,message:this.props.message,canReact:Dt({perm:this.props.permissions.messages.emojiReactions,conversationLike:this.props.conversation,actionLike:{needsWriteAccess:!0},meId:this.props.me.id,message:this.props.message})}))},AddEmojiReaction:e=>u.a.createElement(Yi,Object.assign({t:this.context.t,setEmojiReactionState:this.setEmojiReactionState,message:this.props.message},e,{canReact:Dt({perm:this.props.permissions.messages.emojiReactions,conversationLike:this.props.conversation,actionLike:{needsWriteAccess:!0},meId:this.props.me.id,message:this.props.message})})),ReferencedMessageLink:t=>{const n=Object(a.useCallback)((()=>e.scrollToMessage(e.message.referencedMessageId)),[e.scrollToMessage,e.message.referencedMessageId]);return u.a.createElement("div",{className:t.className,onClick:n},t.children)}};e.theme.hasComponent("ReferencedMessage")||(t.ReferencedMessage=()=>{const t=Object(a.useCallback)((()=>e.scrollToMessage(e.message.referencedMessageId)),[e.scrollToMessage,e.message.referencedMessageId]),n=this.props.templateData;return"UserMessage"===n.type&&n.referencedMessage?u.a.createElement(Gi,{t:this.context.t,message:n.referencedMessage,contentMasking:this.props.contentMasking,scrollToMessage:t}):null}),this.userMessageComponent=e.theme.getComponent("UserMessage",t),this.systemMessageComponent=e.theme.getComponent("SystemMessage",t)}renderFormattedBody(e){const t=this.shouldApplyContentMasking();return u.a.createElement(Ct.a,{entityTree:e,contactInfo:t?"suppress":"link",suppression:this.props.contentMasking,sameTabLinkRules:this.context.sameTabLinkRules,enableEmojiImageFallback:!0,formattedLinks:"link",highlight:this.props.highlight,t:this.context.t})}extractLinks(e,t){const n=[];e=Object(Tt.f)(e,{contactInfo:t?"suppress":"link",suppression:t});for(let r of e)"string"!=typeof r&&("link"!==r.type&&"autolink"!=r.type||!r.url.startsWith("http")?"children"in r&&n.push(...this.extractLinks(r.children,t)):n.push(r.url));return n}renderSearcheableText(e){return u.a.createElement(at.a,{markup:!1,highlight:this.props.highlight},e)}renderMessageEditor(){return u.a.createElement(p.b.Consumer,null,(({messageField:e})=>u.a.createElement(Vi,{appId:this.context.controller._appId,me:this.props.me,theme:this.props.theme,conversationId:this.props.conversation.id,rights:this.props.conversation.myRights,chatClosed:this.props.conversation.isClosed(),editingMessage:this.props.message,browserMode:this.props.browserMode,messageField:e,canDelete:Dt({perm:this.props.permissions.messages.delete,conversationLike:this.props.conversation,actionLike:{needsWriteAccess:!0},meId:this.props.me.id,message:this.props.message}),conversationTemplateData:this.props.conversationTemplateData,shouldTranslateReferencedMessage:!1,onSay:this.onDoneEditing,mentionOptions:[],onCancel:()=>this.setIsEditing(!1)})))}render(){const{message:e,conversation:t,contentMasking:n}=this.props,r=this.props.templateData;if("text"==r.body.type){r.body.formattedText=this.renderFormattedBody(r.body.entityTree);const e=this.shouldApplyContentMasking();r.body.links=this.extractLinks(r.body.entityTree,e?this.props.contentMasking:void 0)}if("file"==r.body.type&&(r.body.file.formattedFilename=this.renderSearcheableText(r.body.file.filename),r.body.thumbnailError=this.state.thumbnailError),"UserMessage"===r.type&&r.referencedMessage){const e=r.referencedMessage;if("text"===e.body.type){const t=n.shouldSuppress({isContentBySender:e.sender.isMe});e.body.formattedText=u.a.createElement(Ct.a,{entityTree:e.body.entityTree,contactInfo:t?"suppress":"link",suppression:n,t:this.context.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext"})}}const i=Object.assign(Object.assign({},r),{showActionMenu:this.state.isInteracting,hasLinkPreviews:this.state.hasLinkPreviews}),o="SystemMessage"==i.type?this.systemMessageComponent.render(i):this.userMessageComponent.render(i),s=this.state.isEditing?this.renderMessageEditor():o;return u.a.createElement("div",{className:`${this.props.className} MessageDiv`,ref:this.props.messageDivRef},u.a.createElement(Ot.a.Provider,{value:{message:e,conversation:t,setHasLinkPreviews:this.setHasLinkPreviews,setIsEditing:this.setIsEditing,setEmojiReactionState:this.setEmojiReactionState}},s))}}function Xi(e){const t=null==e?void 0:e.dimensions;if(void 0!==t&&"width"in t&&"height"in t){return`${t.width}/${t.height}`}}qi.contextType=p.a;n(349);var Ji=n(96);class Zi extends u.a.Component{constructor(){super(...arguments),this.buildText=()=>{if(void 0!==this.props.day)return Object(Ji.b)(this.props.now,this.props.day,this.context)}}shouldComponentUpdate(e){if(this.props.isUnreadMarker!==e.isUnreadMarker||this.props.day!==e.day)return!0;if(void 0===this.props.day)return!1;i.a.defined(e.day);return Object(Ji.a)(this.props.day,this.props.now)!=Object(Ji.a)(e.day,e.now)}render(){const e=this.buildText();return u.a.createElement("div",{className:R.g("DayMarker",this.props.isUnreadMarker&&"has-unread-marker")},u.a.createElement("div",{className:"line"},u.a.createElement("hr",null)),e&&u.a.createElement("span",null,e),!this.props.isUnreadMarker&&u.a.createElement("div",{className:"line"},u.a.createElement("hr",null)),this.props.isUnreadMarker&&u.a.createElement("div",{className:"line"},u.a.createElement("div",{className:"unread-marker"},u.a.createElement("div",{className:"line"},u.a.createElement("hr",null)),u.a.createElement("span",null,this.context.t("MESSAGELIST_NEW_MARKER")))))}}Zi.contextType=p.a;var Qi=Zi;function eo(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function to(e,t,n){return null!=n[t]?n[t]:e.props[t]}function no(e,t,n){var r=eo(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];a[i[u][r]]=n(c)}a[u]=n(u)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if(Object(a.isValidElement)(s)){var u=o in t,c=o in r,l=t[o],h=Object(a.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&Object(a.isValidElement)(l)&&(i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:to(s,"exit",e),enter:to(s,"enter",e)})):i[o]=Object(a.cloneElement)(s,{in:!1}):i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:to(s,"exit",e),enter:to(s,"enter",e)})}})),i}var ro=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},io=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}lr(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,eo(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:to(e,"appear",n),enter:to(e,"enter",n),exit:to(e,"exit",n)})}))):no(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=eo(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ar({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=ur(e,["component","childFactory"]),i=this.state.contextValue,o=ro(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(mr.Provider,{value:i},o):u.a.createElement(mr.Provider,{value:i},u.a.createElement(t,r,o))},t}(u.a.Component);io.propTypes={},io.defaultProps={component:"div",childFactory:function(e){return e}};var oo=io,so=n(18);const ao=R.z();function uo(e,t,n){if(Array.isArray(e)){const r=e[1].map((e=>co(e)));return t.filter((t=>ao.getOrCompute(t,[e],(()=>{const e=n(t);return r.map((t=>po(e,t))).some((e=>e))}))))}{const r=co(e);return t.filter((t=>ao.getOrCompute(t,[e],(()=>po(n(t),r)))))}}function co(e){return Object.assign({custom:{}},e)}function lo(e,t,n){switch(n){case"exists":return e in t;case"!exists":return!(e in t)}return ho(t[e],n)}function ho(e,t){const[n,r]=t;switch(n){case"oneOf":return-1!==r.indexOf(e);case"!oneOf":return-1===r.indexOf(e);case"==":return e===r;case"!=":return e!==r}}function fo(e,t){const[n,r]=t;switch(n){case">":return e>r;case"<":return e<r;case">=":return e>=r;case"<=":return e<=r;case"between":{const[t,n]=r;return e>=t&&e<n}case"!between":{const[t,n]=r;return!(e>=t&&e<n)}}}function po(e,t){let n=!0;for(let r of Object.getOwnPropertyNames(t.custom)){const i=lo(r,e.custom,t.custom[r]);n=n&&i}if(void 0!==t.access){const r=ho(Object(so.c)(e.rights),t.access);n=n&&r}if(void 0!==t.hasUnreadMessages){const r=t.hasUnreadMessages!==e.read;n=n&&r}if(void 0!==t.subject){const r=ho(e.subject,t.subject);n=n&&r}if(void 0!==t.lastMessageTs){const r=fo(e.lastMessageTs,t.lastMessageTs);n=n&&r}if(void 0!==t.createdAt){const r=fo(e.createdAt,t.createdAt);n=n&&r}return n}function mo(e,t){let n=!0;for(let r of Object.getOwnPropertyNames(t.custom)){const i=lo(r,e.custom,t.custom[r]);n=n&&i}if(void 0!==t.type){const r=ho(e.type,t.type);n=n&&r}if(void 0!==t.origin){const r=ho(e.origin,t.origin);n=n&&r}if(void 0!==t.sender){const r=t.sender,i=e.sender;if(null===i)return!1;if(void 0!==r.custom)for(let e of Object.getOwnPropertyNames(r.custom)){const t=lo(e,i.custom,r.custom[e]);n=n&&t}if(void 0!==r.id){const e=ho(i.id,r.id);n=n&&e}if(void 0!==r.locale){const e=ho(i.locale,r.locale);n=n&&e}if(void 0!==r.role){const e=ho(i.role,r.role);n=n&&e}}if(void 0!==t.createdAt){const r=fo(e.createdAt,t.createdAt);n=n&&r}return n}n(350);const go=u.a.createContext(q.Map());class Eo extends et.a{constructor(e){let t;super(e),this.showMoreRef=u.a.createRef(),this.myLastTextMessage=u.a.createRef(),this.handleScroll=()=>{i.a.defined(this.scrollable);const e=this.scrollable.scrollHeight-this.scrollable.clientHeight+this.scrollable.scrollTop;this.showMoreRef.current&&e<90&&!this.state.isLoadingMore&&this._onShowMore()},this._onShowMore=async(e,t)=>{let n=this.getVisibleMessages(this.props,this.state);if(!n)return!1;let r=n.count();if(0==r)return!1;if(e){if(Boolean(this._getMessageWithId(e)))return!0}let i,o=0;do{o=r;const s=n.first(),a=this.messageDivRefs.get(s.id).current;this.setState({isLoadingMore:!0}),Ao(this.props.messages,this.state.showLast+I.a.LOAD_MORE_MESSAGES_STEP)||await this.props.controller.loadMoreMessages(this.props.conversation.id,this.props.me.id,this.props.messages.first().createdAt),this.setState({isLoadingMore:!1,showLast:this.state.showLast+I.a.LOAD_MORE_MESSAGES_STEP},(()=>{a.scrollIntoView({behavior:"auto",block:"nearest"})})),i=!t||await t(),e&&(i=Boolean(this._getMessageWithId(e))),n=this.getVisibleMessages(this.props,this.state),r=n.count()}while(!0!==i&&o!==r);return i},this.renderShowMore=Ze(((e,t)=>[e.messages,t.isLoadingMore,t.isFirstRender,t.showLast]),((e,t,n,r)=>{if(Ao(e,r)){let e;return e=!0===t?"...":n?u.a.createElement("span",{className:"show-more__text loading"},this.context.t("MESSAGELIST_LOADING_OLDER")):u.a.createElement("span",{className:"show-more__text action"},u.a.createElement(tt,{onClick:()=>this._onShowMore()},this.context.t("MESSAGELIST_SHOW_OLDER"))),u.a.createElement("div",{className:"show-more",ref:this.showMoreRef},e)}return null})),this.someoneTyping=Ze((e=>[e.presence,e.me]),((e,t)=>e&&e.filter(((e,n)=>t.id!==n&&e.isTyping)))),this.getConversationTemplateData=Ze((e=>[e.conversation,e.me,e.participants]),((e,t,n)=>ke(t,n,e))),this.getConversationWelcomeMessages=Ze((e=>[e.conversation,e.others]),((e,t)=>{let n,r=[];for(let e of t){const t=e.availabilityText;if(t){if(n&&n!==t){n=void 0;break}n=t}}return n&&r.push(n),e.welcomeMessages&&r.push(...e.welcomeMessages),r.map(((e,t)=>new S.h({id:"!!"+t,createdAt:null,text:e,entityTree:Object(Tt.e)(e),isWelcomeMessage:!0})))})),this.getVisibleMessages=Ze(((e,t)=>[e.messages,e.others,e.allNyms,e.conversation,t.showLast,e.filter]),((e,t,n,r,o,s)=>{if(!e)return null;const a=e=function(e,t){return t=t.set("SYSTEM",null),e.filter((e=>t.has(e.senderId)))}(e=function(e,t,n){const r=n[0];if(r&&r.welcomeMessage&&!t.some((e=>"UserMessage"===e.type))){const n=e.generateUserWelcomeMessage(r);return q.OrderedMap().set(n.id,n).merge(t)}return t}(r,e,t),n);return m.e(s)||(e=function(e,t,n){if(Array.isArray(e)){const r=e[1].map((e=>co(e)));return t.filter((e=>{const t=n(e);return r.map((e=>mo(t,e))).some((e=>e))}))}{const r=co(e);return t.filter((e=>mo(n(e),r)))}}(s,a,(e=>{let t={type:e.type,origin:e.origin,custom:e.custom||{},sender:null,createdAt:e.createdAt};if("SYSTEM"===e.senderId)return t;{const r=n.get(e.senderId);return i.a.defined(r),t.sender={id:r.externalId,custom:r.custom||{},locale:r.locale,role:r.configuration},t}}))),Ao(e,o)||(e=this.prependConversationWelcomeMessages(e)),e=e.sortBy(((e,t)=>[t,e]),(([e,t],[n,r])=>t.createdAt&&r.createdAt?t.createdAt-r.createdAt:e<n?-1:e==n?0:1)).takeLast(o)})),this.getMessageData=Ze(((e,t,n,r,i)=>[n,e.allMessages,r,i,e.conversation,e.me,e.allNyms,t.lastReadTs]),((e,t,n,r,i,o,s,a)=>{if(!e||0===e.size)return q.OrderedMap();let c=new Map,l=this.interleaveDayBorders(e,this.state,o);r&&(l=this.attachTypingIndicators(r,l));const h=n;let d;const f=l.map((e=>{var n;if(e instanceof vo)return{message:e,referencedMessages:void 0,data:void 0};{let r=null!==(n=this.messageDivRefs.get(e.id))&&void 0!==n?n:u.a.createRef();c.set(e.id,r);const a=s.get(e.senderId);let l;"UserMessage"===e.type&&e.referencedMessageId&&(l=t.get(e.referencedMessageId)||t.find((t=>t.id==e.referencedMessageId)));const f=l?s.get(l.senderId):void 0,p=[i,o,a,l,d,this.props.translate],m=this._messageTemplateDataCache.getOrCompute(e,p,(()=>Pe(o,e,l,h,a,f,d,this.props.translate,Dt({perm:this.context.emojiReactions,conversationLike:this.props.conversation,actionLike:{needsWriteAccess:!0},meId:o.id,message:e}))));return d=m,{message:e,data:m}}}));return this.messageDivRefs=c,f})),this.editMyLastMessage=()=>!(!this.myLastTextMessage.current||"none"===this.props.permissions.messages.edit)&&(this.myLastTextMessage.current.setIsEditing(!0),!0),this.scrollToMessage=async e=>{const t=`[TalkJS]: Message with id: ${e} could not be found in this conversation`;await this.whenLoaded;if(!await this._onShowMore(e))throw new Error(t);const n=this._getMessageWithId(e).id,r=this.messageDivRefs.get(n).current;return this.scrollToAndHighlight(r,n)},this.decideNewMessageMarker()&&(t=!0),this.state={isLoadingMore:!1,showLast:this.props.showAll?I.a.ALL_MESSAGES:I.a.MAX_INITIALLY_VISIBLE_MESSAGES,isFirstRender:!0,higlightedMessageId:void 0,shouldRenderNewMessageMarker:t,lastReadTs:this.props.lastReadTs,announceText:null},this._messageTemplateDataCache=e.controller.caches.messageTemplateData,this.hasScrollListener=!1,this.messageDivRefs=new Map,this.whenLoaded=new Promise((e=>this.resolveWhenLoaded=e))}componentDidMount(){this.setState({isFirstRender:!1}),void 0===this.state.shouldRenderNewMessageMarker&&this.decideNewMessageMarker()&&this.setState({shouldRenderNewMessageMarker:!0}),this._isProbablyStillLoading()||(this.resolveWhenLoaded(),this.maybeTranslateMessages(),this._scrollToBottom(),i.a.defined(this.scrollable),this.scrollable.addEventListener("scroll",this.handleScroll),this.hasScrollListener=!0)}componentWillUnmount(){this.scrollable&&this.hasScrollListener&&this.scrollable.removeEventListener("scroll",this.handleScroll)}getSnapshotBeforeUpdate(){const e=this.scrollable;return{scrollTop:e&&e.scrollTop}}_scrollToBottom(){this.scrollable.scrollTop=0}componentDidUpdate(e,t,n){var r;if(this._isProbablyStillLoading())return;if(this.resolveWhenLoaded(),this.maybeTranslateMessages(),this.maybeAnnounceNewMessage(e),t.higlightedMessageId!==this.state.higlightedMessageId)return;if(i.a.defined(this.scrollable),this.hasScrollListener||(this.scrollable.addEventListener("scroll",this.handleScroll),this.hasScrollListener=!0),this.props.mobileDisplayMode!==e.mobileDisplayMode)return void this._scrollToBottom();if(this.props.conversation.id!==e.conversation.id)return void this._scrollToBottom();if(!e.messages)return void this._scrollToBottom();(null!==(r=n.scrollTop)&&void 0!==r?r:0)>-30&&this._scrollToBottom()}maybeTranslateMessages(){if(this.props.translate){const e=this.getVisibleMessages(this.props,this.state);this.props.controller.ensureMessagesTranslated(e,this.props.conversation)}}maybeAnnounceNewMessage(e){var t;if(this.props.conversation.id!==e.conversation.id)return;if(!this.props.messages)return;if(!e.messages)return;const n=this.props.messages.last();if(n&&(0===e.messages.size||n.id!==e.messages.last().id)&&n.senderId!==this.props.me.id){const e=null===(t=this.props.allNyms.get(n.senderId))||void 0===t?void 0:t.name,r=e?`${e}: `:"";let i;if(n.location)i=this.context.t("LOCATION");else if(n.attachment){const e=Object(Ie.e)(n.attachment.url);i=R.t(e)?"Image":R.x(e)?"Video":R.q(e)?R.y(e)?"Voice message":"Audio":"Attachment"}else i=n.translatedText||n.text;const o=`${r} ${i}`;this.setState({announceText:o})}}decideNewMessageMarker(){return!!(this.props.messages&&this.props.lastReadTs&&this.props.messages.some((e=>!!e.createdAt&&e.createdAt>this.props.lastReadTs)))}_isProbablyStillLoading(){return!this.props.others||!this.props.conversation||!this.props.messages}interleaveDayBorders(e,t,n){let r,o=q.OrderedMap();return e.forEach(((e,s)=>{if(i.a.defined(e),void 0!==e.createdAt&&!e.isWelcomeMessage){const i=e.createdAt||R.B(this.context),s=R.E(i,this.context.timeZone);let a;if(r&&r!==s&&(a=new vo(s)),r=s,t.shouldRenderNewMessageMarker&&t.lastReadTs&&e.createdAt&&e.senderId!==n.id&&t.lastReadTs<e.createdAt&&(a=new vo(null==a?void 0:a.day,!0)),a){let e=`db-${a.day}-${a.isUnreadMarker}`;o=o.set(e,a)}}o=o.set(s,e)})),o}prependConversationWelcomeMessages(e){const t=this.getConversationWelcomeMessages(this.props);if(t.length){const n=t.map((e=>[e.id,e]));return q.OrderedMap().merge(n).merge(e)}return e}attachTypingIndicators(e,t){if(e.size>0&&this.context.showTypingIndicators)for(let n of e.keySeq().toArray()){let e="typing_"+n;t=t.set(e,S.e.createTypingIndicator({senderId:n,id:e}))}return t}renderBalloons(e,t,n){return u.a.createElement(go.Provider,{value:this.props.conversation.participants},u.a.createElement(oo,{className:"transition-group"},e.mapEntries(((e,r)=>{const[i,{message:o,data:s}]=e;if(o instanceof vo){const e=R.B(this.context);return[i,u.a.createElement(Tr,{timeout:500,key:i,classNames:"message-transition-container"},u.a.createElement(Qi,{key:i,day:o.day,isUnreadMarker:o.isUnreadMarker,now:e}))]}{const e=o.senderId===this.props.me.id&&!!o.text,r=this.state.higlightedMessageId===o.id;return[i,u.a.createElement(Tr,{timeout:500,key:i,classNames:"message-transition-container"},u.a.createElement(qi,Object.assign({className:r?"highlighted-message":"",controller:this.props.controller,theme:t,message:o,conversation:this.props.conversation,templateData:s,highlight:this.props.highlight,contentMasking:this.context.contentMasking,permissions:this.props.permissions,me:this.props.me,messageDivRef:this.messageDivRefs.get(o.id),browserMode:this.props.browserMode,scrollToMessage:this.scrollToMessage,focusMessageFieldAfterEditing:this.props.focusMessageFieldAfterEditing||!1,conversationTemplateData:n,setEmojiReactionState:this.props.setEmojiReactionState},e?{ref:this.myLastTextMessage}:{})))]}})).toArray()))}renderMessageAnnouncer(){return u.a.createElement("div",{className:"sr-announcer","aria-live":"polite","aria-atomic":"true",role:"log"},this.state.announceText||"")}async jumpToNextHighlight(e){let t=await this.scrollToNextHighlight(e);return!0===t||"down"===e?t:this._onShowMore(void 0,(()=>this.scrollToNextHighlight("up")))}async scrollToNextHighlight(e){i.a.defined(this.scrollable);const t=[],n=Array.from(this.messageDivRefs);Array.from(this.scrollable.getElementsByClassName("highlighted-text")).forEach((e=>{const r=n.findIndex((([t,n])=>n.current.contains(e)));if(-1===r)return;const i=n.splice(r,1),[o,s]=i[0];t.push([o,s.current])}));const r=this.scrollable.getBoundingClientRect().top;let o,s;if("up"===e){for(let e=t.length-1;e>=0;--e){const[n,i]=t[e];if(i.getBoundingClientRect().top-r<-5){s=n,o=i;break}}}else{const e=.05*this.scrollable.getBoundingClientRect().height,n=this.scrollable.getBoundingClientRect().bottom,r=t=>n-t[1].getBoundingClientRect().top<=e,i=t.find(r);i&&([s,o]=i)}return o?(this.scrollToAndHighlight(o,s),!0):0!==t.length&&"end"}_getMessageWithId(e){const t=this.getVisibleMessages(this.props,this.state);if(!t)return;const n=e.startsWith("msg_");return t.find((t=>n?t.externalId===e:t.id===e))}scrollToAndHighlight(e,t){const n=this.scrollable.getBoundingClientRect(),r=e.getBoundingClientRect();let i="scrollSnapAlignStart";-1===Math.sign(n.top-r.top)&&r.height<n.height&&(i="scrollSnapAlignEnd"),e.classList.add(i),e.scrollIntoView({behavior:"instant"}),e.classList.remove(i),this.setState({higlightedMessageId:t})}render(){const e=this.getConversationTemplateData(this.props),t=this.someoneTyping(this.props),n=this.getVisibleMessages(this.props,this.state),r=this.getMessageData(this.props,this.state,n,e,t);if(this._isProbablyStillLoading())return null;this.resolveWhenLoaded();const o=this.context.theme;return i.a.is(this.props.conversation,S.d),u.a.createElement("div",{className:"MessageList",ref:e=>this.scrollable=e&&e.parentElement},this.renderShowMore(this.props,this.state),this.renderBalloons(r,o,e),this.renderMessageAnnouncer())}}Eo.defaultProps={translate:!1},Eo.contextType=p.a;var _o=Eo;class vo{constructor(e,t=!1){this.day=e,this.isUnreadMarker=t}}function Ao(e,t){return e.size>t}n(351),n(352);class yo extends et.a{getPhotoUrl(){const e=this.props;let t;if(e.nym)t=e.nym;else{if(e.chat.conversation.photoUrl)return e.chat.conversation.photoUrl;t=e.chat.isWithMe()?e.me:e.others.first()}return null==t?void 0:t.photoUrlOrFallbackSvg()}render(){const e=`url("${this.getPhotoUrl()}")`,t=this.props.float?"float-"+this.props.float:"";return u.a.createElement("div",{className:`Avatar ${t}`,style:{backgroundImage:e}})}}n(353);function Oo(e){const{className:t,lightweight:n,fastClick:r,onClick:i}=e,o=Object(O.e)(e,["className","lightweight","fastClick","onClick"]),s=!0===e.lightweight?"lightweight":"very"===e.lightweight?"very-lightweight":"regular",a=r?kt(i):{onClick:i};return u.a.createElement("button",Object.assign({type:"button",className:`Button ${s} ${t}`},o,a),e.children)}n(354);class So extends et.a.DivWithAClass{}So.displayName="Header";var bo=So;n(355);function Do(e){const{theme:t}=u.a.useContext(p.a);if(t.hasComponent("GroupChatImage")){return t.useComponent("GroupChatImage").render(e)}const n=e.participants.filter((e=>!e.isMe)).slice(0,2),r=e.participants.length,i=r>99?"99+":r,o="99+"===i?8:10,s=22;return u.a.createElement("div",{className:"GroupChatIcon"},n.map((e=>{const t=`url(${e.photoUrl})`;return u.a.createElement("div",{key:e.id,className:"avatar",style:{backgroundImage:t}})})),r>2&&u.a.createElement("svg",{className:"counter",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",{className:"group"},u.a.createElement("rect",{className:"bg",x:"0",y:"0",width:s,height:s,fill:"currentColor"})),u.a.createElement("text",{textAnchor:"middle",x:11,y:Math.round(.666*s),width:s,height:s,fontSize:o,fill:"currentColor"},i)))}class To extends u.a.PureComponent{constructor(){super(...arguments),this._onClose=()=>{this.props.controller.closePopover()}}render(){const e=this.props.visibleOthers.sortBy((e=>e.name.toLowerCase())).take(5).toArray(),t=this.props.chat.conversation,n="auto"===this.context.showCloseInHeader?this.context.isPopover:this.context.showCloseInHeader,r=this.props.chat.isWithMe()?u.a.createElement("span",{className:"you"}," (",this.context.t("YOU_MARKER"),")"):"",i=e.map((e=>u.a.createElement("span",null,e.name))),o=e.map((e=>e.name)).join(", "),s=t.subject,a=u.a.createElement("span",null,i.map(((e,t)=>u.a.createElement("span",{key:t},0!==t&&", ",e))),r),c=t.subject&&u.a.createElement(at.a,{t:this.context.t,sameTabLinkRules:this.context.sameTabLinkRules,enableEmojiImageFallback:!0,formattedLinks:"link",markup:!0,contactInfo:"link",except:["Actions"]},t.subject),l="participants"===this.context.chatTitleMode?a:c||a,h="participants"===this.context.chatSubtitleMode?a:"subject"===this.context.chatSubtitleMode?c:void 0,d=l===a?o:s,f=h&&(h===a?o:s),p=this.props.chat.isGroupChat()&&!this.props.chat.conversation.photoUrl?u.a.createElement(Do,{participants:this.props.visibleOthers.map((e=>e.templateData)).toArray().concat(this.props.me.templateData)}):u.a.createElement(yo,{chat:this.props.chat,me:this.props.me,others:this.props.visibleOthers});return u.a.createElement(bo,{className:"SlimProfile"},p,n&&u.a.createElement(Oo,{"aria-label":this.context.t("ARIA_CLOSE_CHAT_POPUP"),lightweight:"very",className:"close",onClick:this._onClose},u.a.createElement(Ur.b,{type:"close"})),this.props.canISearch&&u.a.createElement(Oo,{"aria-label":this.context.t("ARIA_SEARCH_INSIDE_CONVERSATION"),lightweight:"very",className:"search-button",onClick:this.props.onShowSearch,fastClick:!0},u.a.createElement(Ur.b,{type:"search"})),u.a.createElement("div",{className:"name test__header-title",title:d},l),h&&u.a.createElement("div",{className:"subject",title:f},h))}}To.contextType=p.a;var Co=To;n(356),n(357);const Ro={notEmpty:e=>/\w/.test(e),email:e=>/.@./.test(e)&&e.length>4};class Io extends et.a{constructor(e){super(e),this.isValid=void 0,this._onChange=e=>{const t=e.target.value;this.isValid=this._validate(t),this.setState({value:t},(()=>{var e,t;null===(t=(e=this.props).onChange)||void 0===t||t.call(e,this.state.value,this.isValid)}))},this._onFocus=()=>{this._setFocused(!0)},this._onBlur=()=>{this._setFocused(!1)},this._onKeyDown=e=>{this.context.messageField.enterSendsMessage&&R.w(e)&&e.preventDefault()},this._onKeyUp=e=>{var t,n,r,i;this.context.messageField.enterSendsMessage&&R.w(e)?(e.preventDefault(),null===(n=(t=this.props).onSubmit)||void 0===n||n.call(t)):R.r(e)&&(null===(i=(r=this.props).onCancel)||void 0===i||i.call(r))},this._fieldRef=u.a.createRef(),this.state={isFocused:!1,value:this._initialValue()},Object.defineProperty(this,"value",{get:()=>this.state.value})}_initialValue(){const e=void 0!==this.props.defaultValue?this.props.defaultValue:"";return this.isValid=this._validate(e),e}_validate(e){const t=this.props.validate&&Ro[this.props.validate]||this.props.validate||(()=>!0);return i.a.is(t,Function),t(e)}clear(){const e=this._initialValue();this.setState({value:e})}componentWillMount(){"email"!==this.props.type&&R.i(this.props.uniqueId,"value",this.setState.bind(this))}componentDidMount(){var e;this.props.autofocus&&(null===(e=this._fieldRef.current)||void 0===e||e.focus())}blur(){var e;null===(e=this._fieldRef.current)||void 0===e||e.blur()}focus(e){const t=this._fieldRef.current;if(t&&(t.focus(),"end"===e)){const e=this.state.value?this.state.value.length:0;t.setSelectionRange(e,e),t.scrollLeft=t.scrollWidth}}_setFocused(e){this.setState({isFocused:e})}renderField(){const e=m.i(this.props,...Object.keys(Io.propTypes)),t=this.props.lightweight?"lightweight":this.props.transparent?"transparent":"regular",n=Object.assign(Object.assign({},e),{ref:this._fieldRef,className:`field ${t} ${this.props.borderBottom?"":"no-border-bottom"}`,placeholder:this.props.placeholder,value:this.state.value,onChange:this._onChange,onFocus:this._onFocus,onBlur:this._onBlur});return this.props.postfix&&(n.style={paddingRight:`calc(25px + ${.9*this.props.postfix.length}ex)`,textAlign:"right"}),n.onKeyDown=this._onKeyDown,n.onKeyUp=this._onKeyUp,"textarea"===this.props.type?u.a.createElement("textarea",Object.assign({},n)):u.a.createElement("input",Object.assign({id:this.props.uniqueId},n,{type:this.props.type}))}render(){const e=this.props.showValidation&&!this.isValid;let t=e||this.props.showPlaceholderInLabel&&!!this.state.value||this.props.showPlaceholderInLabel&&window.browser.ie&&this.state.isFocused||this.props.label;const n=t?"on":"off",r=e&&"invalid",i="bg-"+this.props.bg,o=e&&this.props.invalidHint?this.props.invalidHint:this.props.label||this.props.placeholder;return u.a.createElement("div",{className:this.className("Input",i,r,t&&"label-on",this.props.postfix&&"has-postfix")},u.a.createElement("label",{htmlFor:this.props.uniqueId,className:n},o),this.renderField(),this.props.postfix&&u.a.createElement("p",{className:"postfix"},this.props.postfix))}}Io.propTypes={type:s.a.oneOf(["text","email","textarea","password","search","tel","number"]).isRequired,placeholder:s.a.string.isRequired,showPlaceholderInLabel:s.a.bool,label:s.a.string,bg:s.a.oneOf(["dark","light"]),defaultValue:s.a.string,className:et.a.stringOrArray,validate:s.a.oneOfType([s.a.func,s.a.oneOf(Object.keys(Ro))]),invalidHint:s.a.string,showValidation:s.a.bool,onChange:s.a.func,onSubmit:s.a.func,onCancel:s.a.func,lightweight:s.a.bool,transparent:s.a.bool,borderBottom:s.a.bool,postfix:s.a.string,uniqueId:s.a.string.isRequired},Io.defaultProps={bg:"light",showValidation:!1,lightweight:!1,transparent:!1,showPlaceholderInLabel:!1,borderBottom:!0},Io.contextType=p.b,Io.validators=Ro;var No=Io;class wo extends u.a.PureComponent{constructor(){super(...arguments),this.input=u.a.createRef(),this.lastValue="",this.highlightHappened=Promise.resolve(),this.state={found:!0,searching:!1},this.back=()=>{this.props.controller.nav.replaceLocation((e=>{e.patchLocalSettings({highlight:[],chatHeaderState:"profile"})}))},this._highlight=async()=>{const e=this._value();if(this.lastValue!==e){const t=e.split(/\s+/).map((e=>e.trim())).filter((e=>e)),n=this.props.controller.nav;await n.replaceLocation((e=>{e.patchLocalSettings({highlight:t})}))}this.lastValue=e},this._onChange=async()=>{await this.highlightHappened,this.highlightHappened=this._highlight(),this.setState({found:!0})},this._onSubmit=()=>{this.input.current.blur(),this._searchUp()},this._search=async e=>{const t=this._value();await this.highlightHappened,t&&this._jump(e)},this._searchDown=()=>this._search("down"),this._searchUp=()=>this._search("up")}_value(){return this.input.current.state.value.trim()}async _jump(e){this.setState({searching:!0});const t=await this.props.onJumpToNextHighlight(e),n=!this.lastValue||t;this.setState({found:n,searching:!1})}componentDidMount(){var e;null===(e=this.input.current)||void 0===e||e.focus()}render(){var e;let t;return this.state.searching&&(t=this.context.t("SEARCH_SEARCHING")),!1===this.state.found&&(t=this.context.t("SEARCH_NO_RESULTS")),"end"===this.state.found&&(t=this.context.t("SEARCH_NO_MORE_RESULTS")),u.a.createElement(bo,{className:`SearchBox ${this.props.className}`,style:this.props.style},u.a.createElement(Oo,{"aria-label":this.context.t("ARIA_LEAVE_SEARCH_MODE"),lightweight:"very",className:"back-button",fastClick:!0,onClick:this.back},u.a.createElement(Ur.b,{type:"back"})),u.a.createElement("form",{className:"form",action:".",onSubmit:e=>e.preventDefault()},u.a.createElement(No,{ref:this.input,uniqueId:"search-field",className:"search-field",type:"search",placeholder:null!==(e=this.props.placeholder)&&void 0!==e?e:this.context.t("SEARCH_PLACEHOLDER_TEXT"),bg:"light",transparent:!0,onSubmit:this._onSubmit,onChange:this._onChange,label:t,autoComplete:"off"})),u.a.createElement(Oo,{"aria-label":this.context.t("ARIA_SEARCH_UP"),lightweight:"very",className:"previous-button",fastClick:!0,onClick:this._searchUp},u.a.createElement(Ur.b,{type:"chevronUp"})),u.a.createElement(Oo,{"aria-label":this.context.t("ARIA_SEARCH_DOWN"),lightweight:"very",className:"next-button",fastClick:!0,onClick:this._searchDown},u.a.createElement(Ur.b,{type:"chevronDown"})))}}wo.contextType=p.a;var ko=wo;n(358);class xo extends et.a{constructor(e){super(e),this._htmlPanelIframeRef=u.a.createRef()}_xdmHtmlPanelLoaded(){d.a.request("htmlPanelLoaded",this.props.panelId)}async componentDidMount(){const e=this._htmlPanelIframeRef.current.contentWindow;try{(null==e?void 0:e.origin)&&(e.onunload=()=>{this._xdmHtmlPanelLoaded()})}catch(e){this._xdmHtmlPanelLoaded()}}render(){const{url:e,height:t,show:n}=this.props;return u.a.createElement("iframe",{ref:this._htmlPanelIframeRef,className:"HtmlPanel",frameBorder:"0",src:e,style:{height:t+"px",display:n?"initial":"none"},name:this.props.panelId})}}xo.propTypes={panelId:s.a.string.isRequired,url:s.a.string.isRequired,conversationId:s.a.string,height:s.a.number.isRequired,show:s.a.bool.isRequired};var Lo=xo;n(359),n(360);class Mo extends et.a.DivWithAClass{}Mo.displayName="Pinboard";var Po=Mo;class Fo extends u.a.PureComponent{constructor(e){super(e),this.state={phase:"nothing"}}componentDidMount(){this.timeoutHandle=window.setTimeout((()=>{this.setState({phase:"loader"}),this.timeoutHandle=window.setTimeout((()=>{this.setState({phase:"notFound"})}),4e3)}),1e3)}componentWillUnmount(){window.clearTimeout(this.timeoutHandle)}renderPinboard(e){return u.a.createElement("div",{className:"NotFound main-content",dir:"ltr"},u.a.createElement(Po,null,u.a.createElement("span",null,u.a.createElement("p",null,u.a.createElement("i",null,e)))))}render(){return"nothing"===this.state.phase?null:"loader"===this.state.phase?this.renderPinboard(this.context.t("LOADING")):this.renderPinboard(this.context.t("CHAT_NOT_FOUND"))}}Fo.contextType=p.a;var jo=Fo;n(361);class Bo extends et.a{constructor(){super(...arguments),this.toggleConversationEnabled=()=>{this.props.controller.setTranslationEnabledForConversation(this.props.conversation,!this.props.translationEnabled)}}renderTranslationIndicator(){if(!this.props.translationEnabled)return null;const[e,t]=this.context.t("TRANSLATION_INDICATOR").split("$GOOGLE_LOGO");return u.a.createElement(u.a.Fragment,null,e,u.a.createElement("img",{src:n(362)}),t,this.props.showTranslationToggle&&u.a.createElement("br",null))}render(){if(!this.props.translationEnabled&&!this.props.showTranslationToggle)return null;const e=this.context.t;let t;return t=this.props.translationEnabled?e("DISABLE_TRANSLATION"):this.context.unsupportedRequestedLocale?e("ENABLE_TRANSLATION_GENERIC"):e("ENABLE_TRANSLATION"),u.a.createElement("div",{className:"TranslationBox"},this.renderTranslationIndicator(),this.props.showTranslationToggle&&u.a.createElement(tt,{onClick:this.toggleConversationEnabled},t))}}Bo.propTypes={controller:s.a.instanceOf($).isRequired,conversation:s.a.instanceOf(S.d).isRequired,translationEnabled:s.a.bool.isRequired,showTranslationToggle:s.a.bool.isRequired},Bo.contextType=p.a;var Uo=Bo;n(363);class Ho extends u.a.PureComponent{constructor(){super(...arguments),this.scrollTop=0,this.scrollTopBookmark=0,this.ref=u.a.createRef(),this.handleScroll=()=>{var e;if(!document.fullscreenElement){const t=null!==(e=this.props.innerRef)&&void 0!==e?e:this.ref;this.scrollTop=t.current.scrollTop}},this.handleFullscreenChange=()=>{var e;if(document.fullscreenElement)this.scrollTopBookmark=this.scrollTop;else{(null!==(e=this.props.innerRef)&&void 0!==e?e:this.ref).current.scrollTop=this.scrollTopBookmark}}}render(){const e=this.props,{children:t,innerRef:n}=e,r=Object(O.e)(e,["children","innerRef"]);return u.a.createElement("div",Object.assign({ref:null!=n?n:this.ref},r,{className:"Scrollable pretty-scrollbars",tabIndex:0,onScroll:this.handleScroll}),t)}componentWillUnmount(){document.removeEventListener("fullscreenchange",this.handleFullscreenChange)}componentDidMount(){var e;document.addEventListener("fullscreenchange",this.handleFullscreenChange);const t=(null!==(e=this.props.innerRef)&&void 0!==e?e:this.ref).current;t.style.overflow="hidden",t.offsetHeight,t.style.overflow=""}}Ho.propTypes={id:s.a.string.isRequired,children:s.a.node};var zo=u.a.forwardRef(((e,t)=>{const{innerRef:n}=e,r=Object(O.e)(e,["innerRef"]);return u.a.createElement(Ho,Object.assign({innerRef:t},r))})),Vo=n(117);n(364);function Go(e){const[t,n]=Object(a.useState)(!1);return Object(a.useEffect)((()=>n(!0)),[]),t?null:u.a.createElement("div",{className:"MountingSpinner",style:{animationDelay:e.delay}},u.a.createElement(Hr,null))}n(365);class $o extends et.a{render(){return u.a.createElement("div",Object.assign({},this.props,{className:this.className("tj_panel")}),this.props.children)}}$o.displayName="Panel",$o.propTypes={children:s.a.node.isRequired,className:et.a.stringOrArray};var Yo=$o,Wo=n(32),Ko=n.n(Wo),qo=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Xo(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=qo.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var Jo=[".DS_Store","Thumbs.db"];function Zo(e){return"object"==typeof e&&null!==e}function Qo(e){return rs(e.target.files).map((function(e){return Xo(e)}))}function es(e){return Object(O.a)(this,void 0,void 0,(function(){return Object(O.c)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return Xo(e)}))]}}))}))}function ts(e,t){return Object(O.a)(this,void 0,void 0,(function(){var n;return Object(O.c)(this,(function(r){switch(r.label){case 0:return e.items?(n=rs(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(is))]):[3,2];case 1:return[2,ns(ss(r.sent()))];case 2:return[2,ns(rs(e.files).map((function(e){return Xo(e)})))]}}))}))}function ns(e){return e.filter((function(e){return-1===Jo.indexOf(e.name)}))}function rs(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function is(e){if("function"!=typeof e.webkitGetAsEntry)return as(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?cs(t):as(e)}function ss(e){return e.reduce((function(e,t){return Object(O.f)(Object(O.f)([],Object(O.d)(e),!1),Object(O.d)(Array.isArray(t)?ss(t):[t]),!1)}),[])}function as(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Xo(t);return Promise.resolve(n)}function us(e){return Object(O.a)(this,void 0,void 0,(function(){return Object(O.c)(this,(function(t){return[2,e.isDirectory?cs(e):ls(e)]}))}))}function cs(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var o=this;t.readEntries((function(t){return Object(O.a)(o,void 0,void 0,(function(){var o,s,a;return Object(O.c)(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),e(o),[3,4];case 3:return s=u.sent(),n(s),[3,4];case 4:return[3,6];case 5:a=Promise.all(t.map(us)),r.push(a),i(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function ls(e){return Object(O.a)(this,void 0,void 0,(function(){return Object(O.c)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=Xo(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var hs=n(268),ds=n.n(hs);function fs(e){return function(e){if(Array.isArray(e))return vs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||_s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t){if(e){if("string"==typeof e)return vs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vs(e,t):void 0}}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var As="file-invalid-type",ys="file-too-large",Os="file-too-small",Ss="too-many-files",bs=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:As,message:"File type must be ".concat(t)}},Ds=function(e){return{code:ys,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Ts=function(e){return{code:Os,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Cs={code:Ss,message:"Too many files"};function Rs(e,t){var n="application/x-moz-file"===e.type||ds()(e,t);return[n,n?null:bs(t)]}function Is(e,t,n){if(Ns(e.size))if(Ns(t)&&Ns(n)){if(e.size>n)return[!1,Ds(n)];if(e.size<t)return[!1,Ts(t)]}else{if(Ns(t)&&e.size<t)return[!1,Ts(t)];if(Ns(n)&&e.size>n)return[!1,Ds(n)]}return[!0,null]}function Ns(e){return null!=e}function ws(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!(!o&&t.length>1||o&&s>=1&&t.length>s)&&t.every((function(e){var t=Es(Rs(e,n),1)[0],o=Es(Is(e,r,i),1)[0],s=a?a(e):null;return t&&o&&!s}))}function ks(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function xs(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Ls(e){e.preventDefault()}function Ms(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function Ps(e){return-1!==e.indexOf("Edge/")}function Fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Ms(e)||Ps(e)}function js(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!ks(e)&&t&&t.apply(void 0,[e].concat(r)),ks(e)}))}}function Bs(){return"showOpenFilePicker"in window}function Us(e){return Ns(e)?[{accept:Object.entries(e).filter((function(e){var t=Es(e,2),n=t[0],r=t[1],i=!0;return Gs(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every($s)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=Es(t,2),r=n[0],i=n[1];return ms(ms({},e),{},gs({},r,i))}),{})}]:e}function Hs(e){if(Ns(e))return Object.entries(e).reduce((function(e,t){var n=Es(t,2),r=n[0],i=n[1];return[].concat(fs(e),[r],fs(i))}),[]).filter((function(e){return Gs(e)||$s(e)})).join(",")}function zs(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Vs(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}function Gs(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function $s(e){return/^.*\.[\w]+$/.test(e)}var Ys=["children"],Ws=["open"],Ks=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],qs=["refKey","onChange","onClick"];function Xs(e){return function(e){if(Array.isArray(e))return Qs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||Zs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(e,t){if(e){if("string"==typeof e)return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ra(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ia=Object(a.forwardRef)((function(e,t){var n=e.children,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ta(ta({},oa),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,u=t.multiple,c=t.maxFiles,l=t.onDragEnter,h=t.onDragLeave,d=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,m=t.onDropRejected,g=t.onFileDialogCancel,E=t.onFileDialogOpen,_=t.useFsAccessApi,v=t.autoFocus,A=t.preventDropOnDocument,y=t.noClick,O=t.noKeyboard,S=t.noDrag,b=t.noDragEventsBubbling,D=t.onError,T=t.validator,C=Object(a.useMemo)((function(){return Hs(n)}),[n]),R=Object(a.useMemo)((function(){return Us(n)}),[n]),I=Object(a.useMemo)((function(){return"function"==typeof E?E:ca}),[E]),N=Object(a.useMemo)((function(){return"function"==typeof g?g:ca}),[g]),w=Object(a.useRef)(null),k=Object(a.useRef)(null),x=Js(Object(a.useReducer)(ua,aa),2),L=x[0],M=x[1],P=L.isFocused,F=L.isFileDialogActive,j=Object(a.useRef)("undefined"!=typeof window&&window.isSecureContext&&_&&Bs()),B=function(){!j.current&&F&&setTimeout((function(){k.current&&(k.current.files.length||(M({type:"closeDialog"}),N()))}),300)};Object(a.useEffect)((function(){return window.addEventListener("focus",B,!1),function(){window.removeEventListener("focus",B,!1)}}),[k,F,N,j]);var U=Object(a.useRef)([]),H=function(e){w.current&&w.current.contains(e.target)||(e.preventDefault(),U.current=[])};Object(a.useEffect)((function(){return A&&(document.addEventListener("dragover",Ls,!1),document.addEventListener("drop",H,!1)),function(){A&&(document.removeEventListener("dragover",Ls),document.removeEventListener("drop",H))}}),[w,A]),Object(a.useEffect)((function(){return!r&&v&&w.current&&w.current.focus(),function(){}}),[w,v,r]);var z=Object(a.useCallback)((function(e){D?D(e):console.error(e)}),[D]),V=Object(a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),U.current=[].concat(Xs(U.current),[e.target]),xs(e)&&Promise.resolve(i(e)).then((function(t){if(!ks(e)||b){var n=t.length,r=n>0&&ws({files:t,accept:C,minSize:s,maxSize:o,multiple:u,maxFiles:c,validator:T});M({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e)}})).catch((function(e){return z(e)}))}),[i,l,z,b,C,s,o,u,c,T]),G=Object(a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=xs(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&d&&d(e),!1}),[d,b]),$=Object(a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=U.current.filter((function(e){return w.current&&w.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),U.current=t,t.length>0||(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xs(e)&&h&&h(e))}),[w,h,b]),Y=Object(a.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Js(Rs(e,C),2),i=t[0],a=t[1],u=Js(Is(e,s,o),2),c=u[0],l=u[1],h=T?T(e):null;if(i&&c&&!h)n.push(e);else{var d=[a,l];h&&(d=d.concat(h)),r.push({file:e,errors:d.filter((function(e){return e}))})}})),(!u&&n.length>1||u&&c>=1&&n.length>c)&&(n.forEach((function(e){r.push({file:e,errors:[Cs]})})),n.splice(0)),M({acceptedFiles:n,fileRejections:r,type:"setFiles"}),f&&f(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&p&&p(n,t)}),[M,u,C,s,o,c,f,p,m,T]),W=Object(a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),U.current=[],xs(e)&&Promise.resolve(i(e)).then((function(t){ks(e)&&!b||Y(t,e)})).catch((function(e){return z(e)})),M({type:"reset"})}),[i,Y,z,b]),K=Object(a.useCallback)((function(){if(j.current){M({type:"openDialog"}),I();var e={multiple:u,types:R};window.showOpenFilePicker(e).then((function(e){return i(e)})).then((function(e){Y(e,null),M({type:"closeDialog"})})).catch((function(e){zs(e)?(N(e),M({type:"closeDialog"})):Vs(e)?(j.current=!1,k.current?(k.current.value=null,k.current.click()):z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):z(e)}))}else k.current&&(M({type:"openDialog"}),I(),k.current.value=null,k.current.click())}),[M,I,N,_,Y,z,R,u]),q=Object(a.useCallback)((function(e){w.current&&w.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))}),[w,K]),X=Object(a.useCallback)((function(){M({type:"focus"})}),[]),J=Object(a.useCallback)((function(){M({type:"blur"})}),[]),Z=Object(a.useCallback)((function(){y||(Fs()?setTimeout(K,0):K())}),[y,K]),Q=function(e){return r?null:e},ee=function(e){return O?null:Q(e)},te=function(e){return S?null:Q(e)},ne=function(e){b&&e.stopPropagation()},re=Object(a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,o=e.onKeyDown,s=e.onFocus,a=e.onBlur,u=e.onClick,c=e.onDragEnter,l=e.onDragOver,h=e.onDragLeave,d=e.onDrop,f=ra(e,Ks);return ta(ta(na({onKeyDown:ee(js(o,q)),onFocus:ee(js(s,X)),onBlur:ee(js(a,J)),onClick:Q(js(u,Z)),onDragEnter:te(js(c,V)),onDragOver:te(js(l,G)),onDragLeave:te(js(h,$)),onDrop:te(js(d,W)),role:"string"==typeof i&&""!==i?i:"presentation"},n,w),r||O?{}:{tabIndex:0}),f)}}),[w,q,X,J,Z,V,G,$,W,O,S,r]),ie=Object(a.useCallback)((function(e){e.stopPropagation()}),[]),oe=Object(a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=ra(e,qs);return ta(ta({},na({accept:C,multiple:u,type:"file",style:{display:"none"},onChange:Q(js(r,W)),onClick:Q(js(i,ie)),tabIndex:-1},n,k)),o)}}),[k,n,u,W,r]);return ta(ta({},L),{},{isFocused:P&&!r,getRootProps:re,getInputProps:oe,rootRef:w,inputRef:k,open:Q(K)})}(ra(e,Ys)),i=r.open,o=ra(r,Ws);return Object(a.useImperativeHandle)(t,(function(){return{open:i}}),[i]),u.a.createElement(a.Fragment,null,n(ta(ta({},o),{},{open:i})))}));ia.displayName="Dropzone";var oa={disabled:!1,getFilesFromEvent:function(e){return Object(O.a)(this,void 0,void 0,(function(){return Object(O.c)(this,(function(t){return Zo(e)&&Zo(e.dataTransfer)?[2,ts(e.dataTransfer,e.type)]:function(e){return Zo(e)&&Zo(e.target)}(e)?[2,Qo(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"==typeof e.getFile}))?[2,es(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ia.defaultProps=oa,ia.propTypes={children:Ko.a.func,accept:Ko.a.objectOf(Ko.a.arrayOf(Ko.a.string)),multiple:Ko.a.bool,preventDropOnDocument:Ko.a.bool,noClick:Ko.a.bool,noKeyboard:Ko.a.bool,noDrag:Ko.a.bool,noDragEventsBubbling:Ko.a.bool,minSize:Ko.a.number,maxSize:Ko.a.number,maxFiles:Ko.a.number,disabled:Ko.a.bool,getFilesFromEvent:Ko.a.func,onFileDialogCancel:Ko.a.func,onFileDialogOpen:Ko.a.func,useFsAccessApi:Ko.a.bool,autoFocus:Ko.a.bool,onDragEnter:Ko.a.func,onDragLeave:Ko.a.func,onDragOver:Ko.a.func,onDrop:Ko.a.func,onDropAccepted:Ko.a.func,onDropRejected:Ko.a.func,onError:Ko.a.func,validator:Ko.a.func};var sa=ia,aa={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ua(e,t){switch(t.type){case"focus":return ta(ta({},e),{},{isFocused:!0});case"blur":return ta(ta({},e),{},{isFocused:!1});case"openDialog":return ta(ta({},aa),{},{isFileDialogActive:!0});case"closeDialog":return ta(ta({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ta(ta({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ta(ta({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ta({},aa);default:return e}}function ca(){}n(366);class la extends et.a{constructor(){super(...arguments),this.onDrop=e=>{const t=e[0];t?this.props.onSendFile(t):this.props.onDragLeave()}}render(){const e=u.a.createElement(sa,{multiple:!1,maxSize:104857600,onDrop:this.onDrop,onDragLeave:this.props.onDragLeave,noClick:!0,useFsAccessApi:!1},(({getRootProps:e})=>u.a.createElement("div",Object.assign({},e({className:"Dropzone"})),this.props.children)));return u.a.createElement(u.a.Fragment,null,this.props.enableDrop?e:this.props.children)}}n(369);async function ha(e){if(e instanceof File&&"image/jpeg"!==e.type)return e;const{loadImage:t}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,936));return new Promise((n=>t(e,(t=>t.toBlob((t=>{if(null===t)n(e);else{const r=t;r.name=e.name,n(r)}}),"image/jpeg")),{canvas:!0,meta:!0,orientation:!0})))}!function(e){e.preload=function(){Promise.all([n.e(0),n.e(1)]).then(n.bind(null,936))}}(ha||(ha={}));var da=ha;class fa extends et.a.DivWithAClass{componentWillMount(){da.preload()}}fa.displayName="AttachOverlay";var pa=fa;function ma(){return u.a.createElement("svg",{className:"AttachIcon",height:"20",viewBox:"0 0 1792 1792",width:"20"},u.a.createElement("path",{d:"M1596 1385q0 117-79 196t-196 79q-135 0-235-100l-777-776q-113-115-113-271 0-159 110-270t269-111q158 0 273 113l605 606q10 10 10 22 0 16-30.5 46.5t-46.5 30.5q-13 0-23-10l-606-607q-79-77-181-77-106 0-179 75t-73 181q0 105 76 181l776 777q63 63 145 63 64 0 106-42t42-106q0-82-63-145l-581-581q-26-24-60-24-29 0-48 19t-19 48q0 32 25 59l410 410q10 10 10 22 0 16-31 47t-47 31q-12 0-22-10l-410-410q-63-61-63-149 0-82 57-139t139-57q88 0 149 63l581 581q100 98 100 235z"}))}n(370);function ga({upload:e,onConfirm:t,onCancel:n,errorMsg:r}){const[o,s]=Object(a.useState)(void 0),c=Object(a.useRef)(null);R.H(n),Object(a.useEffect)((()=>{"done"===e.state&&c.current.focus()}),[e.state]);const{t:l}=Object(a.useContext)(p.a),[h,d]=e.resource instanceof Blob?[e.resource,void 0]:[void 0,e.resource],f=Object(a.useMemo)((()=>{let e=null;if(h)if(R.x(h.name)){const t=/[.]ts/i.test(h.name)?"mpegts":"native";let n="";switch(h.name.split(".").pop()){case"ts":n="video/MP2T";break;case"mov":n="video/quicktime";break;case"webm":n="video/webm";break;case"ogv":n="video/ogg";break;default:n="video/mp4"}const r=URL.createObjectURL(new Blob([h],{type:n}));e=u.a.createElement("div",{className:"video-container"},u.a.createElement(Ki,{src:`${r}`,videoType:t,playsInline:!0,controls:!0,preload:"auto",onLoadedMetadata:({currentTarget:e})=>{s({width:e.videoWidth,height:e.videoHeight,duration:e.duration})}}))}else R.t(h.name)?e=u.a.createElement("div",{className:"img-container"},u.a.createElement("img",{src:h.preview,onLoad:({currentTarget:e})=>{s({width:e.naturalWidth,height:e.naturalHeight})}})):R.q(h.name)&&(i.a.defined(h.preview),e=u.a.createElement(vi,{src:h.preview,filename:h.name,onLoad:e=>{s({duration:e})}}));return e}),[h]),m=Object(a.useMemo)((()=>{if(!h)return null;let t;if("pending"===e.state)t=`${l("UPLOAD_IN_PROGRESS")} ${e.progress}%`;else{const n=Object(Ie.e)(e.url);t=R.y(n)?"":n}let n="",r="";return R.t(h.name)||R.x(h.name)||R.q(h.name)||(n="is-file","done"===e.state&&(r="file-block")),u.a.createElement("div",{className:`filename-row ${n}`},u.a.createElement("div",{className:r},t))}),[h,e.state,e.progress]);return u.a.createElement(pa,{className:"UploadPreview"},u.a.createElement("div",{className:"preview"},u.a.createElement("div",{className:"body"},f,d&&u.a.createElement(Ea,{location:d}),m,!h&&!d&&u.a.createElement("div",{className:"loading"},u.a.createElement(Hr,null))),void 0!==r&&u.a.createElement("div",{className:"error-row"},r),u.a.createElement("div",{className:"send-row"},u.a.createElement("button",{className:"cancel",onClick:n},l("CANCEL")),void 0===r&&"done"===e.state&&u.a.createElement("button",{className:"confirm-send test__confirm-upload-button",onClick:()=>t(o),ref:c},l("SEND_BUTTON_TEXT")))))}function Ea({location:e}){const{imageUrl:t,linkUrl:n}=R.m(e),r=JSON.stringify(t);return u.a.createElement(st.a,{href:n,target:"_blank",className:"location-upload-preview",style:{background:`url(${r}) center center / cover no-repeat`}})}n(371);const _a=e=>u.a.createElement("div",{className:"NoticeBar",dir:"ltr"},e.children);function va(){return Object(a.useContext)(p.a).isDashboardPreview?null:u.a.createElement(_a,null,u.a.createElement("span",null,u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},u.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),u.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),u.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))),u.a.createElement("span",null,"You're in TalkJS Test Mode. To chat with real users,"," ",u.a.createElement("a",{className:"Link",href:"https://talkjs.com/dashboard/billing/checkout",target:"_blank",rel:"noopener noreferrer"},"golive"),"."))}n(372);function Aa(){return u.a.createElement(p.b.Consumer,null,(({tokenRefreshFailed:e})=>!e&&u.a.createElement("div",{className:"OfflineIndicator"})))}n(373);const ya=({className:e,user:t})=>{const n=Object(a.useContext)(p.a),r=!!Object(At.a)([se],(e=>e.getUserPresence(t.id))),i=r?"online":"offline";return u.a.createElement("span",{"aria-label":n.t(r?"STATUS_INDICATOR_ONLINE":"STATUS_INDICATOR_OFFLINE"),className:`${e} status-indicator status-${i}`})};n(374);function Oa({className:e,children:t,permissions:n,me:r,conversation:i,label:o}){const{controller:s,t:a}=u.a.useContext(p.a),c=u.a.useMemo((()=>function(e,t,n,r){const i=[],o={label:r("LEAVE_CONVERSATION"),name:"t:leave",needsWriteAccess:!1,action:({controller:e,conversation:t,me:n})=>ba((()=>e.leaveConversation(t,n)))},s={label:r("MARK_CONVERSATION_AS_UNREAD"),name:"t:markAsUnread",needsWriteAccess:!1,action:({controller:e,conversation:t,me:n})=>ba((()=>e.markConversationAsUnread(t,n)))};Sa({me:t,actionLike:o,conversation:n,perm:e.conversations.leave})&&i.push(o);Sa({me:t,actionLike:s,conversation:n,perm:e.conversations.markAsUnread})&&i.push(s);return m.d(e.conversationsCustom,((e,r)=>{Sa({me:t,actionLike:e,conversation:n,perm:e.permission})&&i.push({label:e.label,name:r,action:({conversation:e,controller:t})=>t.postCustomConversationAction(r,e)})})),i}(n,r,i,a)),[n,r,i,a]);return u.a.createElement(vt,{className:`test__conversation-action-menu ${e}`,itemListClassName:"conversation-menu",keepMenuWithin:document.getElementById("chat-box"),actions:c,actionParams:{conversation:i,controller:s,me:r,t:a},label:o},t)}function Sa({me:e,actionLike:t,conversation:n,perm:r}){return yt(n,t)&&"none"!==r}async function ba(e){try{return await e()}catch(e){throw e instanceof le.a&&alert(e.userMessage),e}}class Da extends a.PureComponent{constructor(e){super(e),this.getTemplateData=Object(wt.a)((e=>{const{me:t,visibleOthers:n,conversation:r,chatHeaderState:i,showCloseButton:o,showSearchButton:s,permissions:u,t:c,enablePresence:l}=this.props,h=ke(t,n.set(t.id,t),r);h.rawSubject&&(h.formattedSubject=a.createElement(at.a,{enableEmojiImageFallback:!0,formattedLinks:"link",markup:!0,contactInfo:"link",t:c,except:["Actions"]},h.rawSubject));const d=m.b(u.conversationsCustom,(e=>yt(r,e))),f=Object.assign(Object.assign({},u.conversations),m.g(d,(e=>e.permission)));return{conversation:h,showSearchBox:"search"==i,showSearchButton:s,showCloseButton:o,showActionMenu:!!m.c(f,(e=>"none"!==e)),presenceEnabled:!!l}})),this.renderClickHandler=(e,t,n)=>{if(!this.getTemplateData(this.props)[`show${e}`])throw new le.a(`Can't render <${e} /> when \`t:if={{ show${e} }}\` is not present in ChatHeader template.`);return"ActionMenu"===e?a.createElement(Oa,{conversation:this.props.conversation,me:this.props.me,permissions:this.props.permissions,className:n.className,label:n.label},n.children):a.createElement("button",{"aria-label":n.label,title:n.label,style:n.style,className:n.className,onClick:t},n.children)},this.renderCloseButton=e=>this.renderClickHandler("CloseButton",this.props.onClose,Object.assign({label:this.context.t("ARIA_CLOSE_CHAT_POPUP")},e)),this.renderSearchButton=e=>this.renderClickHandler("SearchButton",this.props.onSearch,Object.assign({label:this.context.t("ARIA_SEARCH_INSIDE_CONVERSATION")},e)),this.renderActionMenu=e=>this.renderClickHandler("ActionMenu",this.props.onSearch,Object.assign({label:this.context.t("ARIA_MORE_ACTIONS")},e)),this.renderSearchBox=e=>{if("search"!==this.props.chatHeaderState)throw new le.a("Can't render <SearchBox /> when `t:if={{ showSearchBox }}` is not present in the ChatHeader template.");return a.createElement(ko,Object.assign({},this.props.searchBoxProps,e))},this.renderStatusIndicator=e=>this.context.enablePresence?a.createElement(ya,Object.assign({},e,{className:e.className})):null,this._templateComponent=e.theme.getComponent("ChatHeader",{GroupChatImage:Do,CloseButton:this.renderCloseButton,SearchButton:this.renderSearchButton,SearchBox:this.renderSearchBox,ActionMenu:this.renderActionMenu,ActionButton:Li.b,ActionLink:Li.c,StatusIndicator:this.renderStatusIndicator})}render(){const e=this.getTemplateData(this.props);return this._templateComponent.render(e)}}Da.contextType=p.a;var Ta=Da;class Ca extends et.a{constructor(e){super(e),this.controllerView=new Je(this,ne.a,te.a,Q,se,ee.a),this.attachFileInput=u.a.createRef(),this.messageList=u.a.createRef(),this.messageField=u.a.createRef(),this.onSay=async e=>{const t=this.state.messages&&this.state.messages.size>0;try{const n=this.state.currentChat.conversation.getOthers(this.state.participants,this.state.me.id,(e=>e.canRead)).first(),r=this.getReferencedMessageId();await this.props.controller.say({entityTree:e,conversation:this.state.conversation,me:this.state.me,other:n,isFirstUserMessage:!t,referencedMessageId:r})}catch(e){throw e}},this.enableDrop=e=>{1===e.dataTransfer.items.length&&"file"===e.dataTransfer.items[0].kind&&this.setState({showDrop:!0})},this.disableDrop=()=>this.setState({showDrop:!1}),this.onAttach=()=>{this.attachFileInput.current.value="",this.attachFileInput.current.click()},this.onShareLocation=async()=>{this.setState({upload:{resource:void 0,state:"pending"},uploadError:void 0,uploadIsARecording:!1});try{const e=await d.a.request("getCurrentLocation");if("cancel"===e)return void this.setState({upload:void 0,uploadError:void 0});this.setState({upload:{resource:e,state:"done"},uploadError:void 0})}catch(e){alert(this.context.t("SHARE_LOCATION_ERROR")+e),this.setState({upload:void 0,uploadError:void 0})}},this.onSendFiles=e=>{const t=e.target.files[0];t&&this.onSendFile(t)},this.onSendRecording=async e=>this.onSendFile(e,{isARecording:!0}),this.onSendFile=async(e,t={isARecording:!1})=>{i.a.is(e,Blob),i.a.is(e.name,String),(R.t(e.name)||R.x(e.name)||R.q(e.name))&&((e=await da(e)).preview=URL.createObjectURL(e));const n=this.props.controller.upload(e);this.setState({upload:{task:n,resource:e,state:"pending",progress:0},uploadError:void 0,uploadIsARecording:t.isARecording});n.on("state_changed",(t=>{const r=Math.trunc(t.bytesTransferred/t.totalBytes*100);this.setState({upload:{task:n,resource:e,state:"pending",progress:r},uploadError:void 0})}),(t=>{if("storage/canceled"!==t.code)return z.a.error("Error uploading file",t),void this.setState({uploadError:this.context.t("UPLOAD_ERROR")});e.preview&&URL.revokeObjectURL(e.preview),this.setState({upload:void 0,uploadError:void 0,showDrop:!1},(()=>{this.props.browserMode.isDesktop&&this.focusMessageField()}))}),(async()=>{e.preview&&URL.revokeObjectURL(e.preview);const t=await n.snapshot.ref.getDownloadURL();this.state.upload&&this.setState({upload:{resource:e,task:n,url:t,state:"done"},uploadError:void 0})}))},this.onConfirmSendUpload=async e=>{try{const t=this.state.upload;i.a.defined(t);const n=this.getReferencedMessageId();if(t.resource instanceof Blob){i.a.equals(t.state,"done"),i.a.defined(t.url),i.a.defined(t.task);t.task.snapshot.ref.updateMetadata({customMetadata:{draft:null}}),await this.props.controller.sendFile(this.state.conversation,this.state.me,t.resource,t.url,n,e)}else i.a.defined(t.resource),this.props.controller.sendLocation(this.state.conversation,this.state.me,t.resource,n)}catch(e){throw alert(this.context.t("UPLOAD_ERROR")),e}finally{this.setState({upload:void 0,uploadError:void 0,showDrop:!1},(()=>{this.props.browserMode.isDesktop&&this.focusMessageField()}))}},this.onCancelUpload=async()=>{const e=this.state.upload;if(void 0===e)return;const t=e.resource;if(t instanceof Blob){i.a.defined(e.task),t.preview&&URL.revokeObjectURL(t.preview);e.task.cancel()||(i.a.oneOf(e.state,["done","pending"]),e.task.snapshot.ref.delete().catch((e=>{console.error("[TalkJS] unexpected error when deleting uploaded file: ",e)})))}this.setState({upload:void 0,uploadError:void 0,showDrop:!1,uploadIsARecording:!1},(()=>{this.props.browserMode.isDesktop&&this.focusMessageField()}))},this.focusMessageField=()=>{var e;this.state.conversation.myRights.canWrite&&(null===(e=this.messageField.current)||void 0===e||e.focus())},this.jumpToNextHighlight=async e=>{var t,n;return null!==(n=null===(t=this.messageList.current)||void 0===t?void 0:t.jumpToNextHighlight(e))&&void 0!==n&&n},this.setText=e=>{var t;this.state.conversation.myRights.canWrite&&(null===(t=this.messageField.current)||void 0===t||t.setText(e))},this.typeText=e=>{var t;this.state.conversation.myRights.canWrite&&(null===(t=this.messageField.current)||void 0===t||t.typeText(e))},this.getText=()=>{var e;return null===(e=this.messageField.current)||void 0===e?void 0:e.getText()},this.jumpToMessage=e=>{var t;return null===(t=this.messageList.current)||void 0===t?void 0:t.scrollToMessage(e)},this.onTyping=()=>this.props.controller.markTyping(this.state.currentChat),this.onJumpToNextHighlight=e=>this.messageList.current.jumpToNextHighlight(e),this.getViewData=Ze(((e,t)=>[t.me,t.participants,t.currentChat.conversation,t.htmlPanelOptions]),((e,t,n,r)=>{const i=n.getOthers(t,e.id,(e=>e.canRead)).toMap(),o=n.getOthers(t,e.id).toArray(),s=n.isClosed(),a=n.myRights,u=r.perConv[this.state.conversation.externalId]||r.global;return{visibleOthers:i,allOthers:o,chatClosed:s,rights:a,allPanelOptions:(r.global?[[void 0,r.global]]:[]).concat(ge.b(r.perConv)).map((([e,t])=>Object.assign(Object.assign({},t),{show:t.show&&t===u,conversationId:e})))}})),this.getConversationTemplateData=Object(wt.a)(((e,t,n)=>ke(e,n,t))),this.getSenders=Object(wt.a)(((e,t)=>{i.a.defined(e),i.a.defined(t);let n={};return e.reverse().take(100).forEach((({senderId:e})=>{var r;e&&"SYSTEM"!==e&&(null!==(r=n[e])&&void 0!==r||(n[e]=t.get(e)))})),n})),this.sortParticipants=Object(wt.a)((e=>e.sortBy((e=>e.name)))),this.getMentionableNyms=Object(wt.a)(((e,t,n,r)=>{if(!e||!t||!n)return[];if(n.size>0){const e=this.sortParticipants(n).valueSeq().toArray();return Object(Ie.l)(r,e)}const i=Object.values(this.getSenders(e,t));return Object(Ie.l)(r,i)})),this.getMessageById=Object(wt.a)(((e,t)=>e.get(t)||e.find((e=>e.id==t)))),this.shouldShowEntrybox=Ze(((e,t,n)=>[t.currentChat,n.messageField]),((e,t)=>Ca.shouldShowEntrybox(e,t.visible))),this.setEmojiReactionState=e=>{this.setState({emojiReactionState:{message:e,show:!0}})},this.addEmoji=async e=>{i.a.defined(this.state.emojiReactionState.message),this.props.controller.addEmojiReaction(this.state.conversation,this.state.emojiReactionState.message,e),this.closeEmojiPickerModal()},this.closeEmojiPickerModal=()=>{this.setState({emojiReactionState:{show:!1,message:null}})},this.getSearchBoxProps=Ze((e=>[e.controller]),(e=>({controller:e,onJumpToNextHighlight:this.onJumpToNextHighlight}))),this._showSearch=()=>{this.props.controller.nav.goLocation((e=>{e.patchLocalSettings({chatHeaderState:"search"})}))},this.state=Object.assign(Object.assign({},this.controllerView.initialState),{showDrop:!1,upload:void 0,uploadIsARecording:!1,uploadError:void 0,emojiReactionState:{message:null,show:!1}})}componentDidMount(){this.controllerView.listen()}componentWillUnmount(){this.controllerView.unlisten()}getStateFromStores(e,t,n,r,i,o){var s;const a=t.getMe(),u=t.getChats().size>0,c=n.isDesktopNotifyEnabled(),l=n.getHtmlPanelOptions(),h=n.isCustomer(),d=n.getFeatures(),f=n.getPermissions(),p=n.isOnline(),m=e.conversationId,g=t.getChat(m),E=i.getPresence(m),_=r.getMessages(m),v=r.getAllMessages(m),A=g?g.conversation:void 0,y=t.getLastReadTs(m),O=o.getNyms();let S=A?A.participantNyms(O):q.Map();(null===(s=this.state)||void 0===s?void 0:s.participants)&&q.is(this.state.participants,S)&&(S=this.state.participants);const b=n.getLocale().appLocale,D=!!g&&g.shouldTranslate(n.getTranslationOptions(),S,b),T=!!g&&g.shouldShowTranslationToggle(n.getTranslationOptions(),S,b);return{me:a,participants:S,allNyms:O,currentChat:g,conversation:A,isDesktopNotifyEnabled:c,isCustomer:h,features:d,messages:_,allMessages:v,haveChatHistory:u,presence:E,htmlPanelOptions:l,shouldTranslate:D,showTranslationToggle:T,permissions:f,lastReadTs:y,isOnline:p}}componentWillReceiveProps(e){e.conversationId!==this.props.conversationId&&this.controllerView.forceChange(e)}getReferencedMessageId(){return(this.context.nav.location.getLocalSettings().referencedMessagePerConversation||{})[this.props.conversationId]}static shouldShowEntrybox(e,t){if("boolean"==typeof t)return t;return 1===uo(t,[e],(e=>e.getFilterableConversation())).length}render(){if(!this.state.currentChat)return u.a.createElement(jo,null);const e=this.props.conversationId,t=this.getViewData(this.props,this.state,this.context),{allOthers:r,chatClosed:i,rights:o,allPanelOptions:s}=t,a=this.getMentionableNyms(this.state.messages,this.state.allNyms,this.state.participants,this.state.me.id),c=this.props.hasUnreadMessages&&u.a.createElement("span",{className:"dot"}),l=this.context.enableFileTransfers?this.enableDrop:void 0,h=this.state.features.includes("search_in_conv");return u.a.createElement(u.a.Fragment,null,u.a.createElement(la,{onSendFile:this.onSendFile,onDragLeave:this.disableDrop,enableDrop:this.context.enableFileTransfers},u.a.createElement("div",{className:"ChatBox",id:"chat-box",onDragEnter:l},!this.props.neverShowInboxLink&&this.state.haveChatHistory&&u.a.createElement(Vo.a,{href:this.context.nav.location.relativePath+"/chats",className:"left-button mobile-only",destination:"chats"},u.a.createElement(Yo,{className:"inbox-link-panel"},u.a.createElement("img",{src:n(375)})," ",this.context.t("INBOX"),c)),u.a.createElement(p.b.Consumer,null,(({tokenRefreshFailed:e})=>e&&u.a.createElement("div",{className:"TokenRefreshFailedOverlay"},u.a.createElement("p",{className:"errorTitle"},this.context.t("AUTH_EXPIRED_OVERLAY_TITLE")),u.a.createElement("p",{className:"errorDesc"},this.context.t("AUTH_EXPIRED_OVERLAY_DESCRIPTION"))))),u.a.createElement(p.b.Consumer,null,(({tokenRefreshFailed:n})=>u.a.createElement(Yo,{className:["message-panel",n&&"tokenRefreshFailed"]},u.a.createElement(p.b.Consumer,null,(({chatHeaderState:e})=>this.renderChatHeader(t,this.context.showChatHeader&&e))),!this.state.isCustomer&&u.a.createElement(va,null),!this.state.isOnline&&u.a.createElement(Aa,null),u.a.createElement(zo,{id:"chat-scrollable"},u.a.createElement(Uo,{controller:this.props.controller,conversation:this.state.conversation,translationEnabled:this.state.shouldTranslate,showTranslationToggle:this.state.showTranslationToggle}),u.a.createElement(p.b.Consumer,null,(({highlight:t,messageFilter:n,messageField:{autofocus:i}})=>u.a.createElement(_o,{key:e,ref:this.messageList,stores:this.props.stores,controller:this.props.controller,me:this.state.me,others:r,participants:this.state.participants,allNyms:this.state.allNyms,conversation:this.state.conversation,isDesktopNotifyEnabled:this.state.isDesktopNotifyEnabled,messages:this.state.messages,allMessages:this.state.allMessages,presence:this.state.presence,filter:n,highlight:h?t:void 0,translate:this.state.shouldTranslate,mobileDisplayMode:this.props.mobileDisplayMode,browserMode:this.props.browserMode,permissions:this.state.permissions,focusMessageFieldAfterEditing:i,setEmojiReactionState:this.setEmojiReactionState,lastReadTs:this.state.lastReadTs}))),u.a.createElement(Go,{delay:"2s"})),s.map((e=>{const t=R.h(e.url,this.context.sessionId,e.conversationId);return u.a.createElement(Lo,Object.assign({},e,{key:t,panelId:t}))})),u.a.createElement(p.b.Consumer,null,(({messageField:t,referencedMessagePerConversation:n})=>{var r,s;if(this.shouldShowEntrybox(this.props,this.state,{messageField:t})){let c,l;const h=this.getConversationTemplateData(this.state.me,this.state.conversation,this.state.participants);let d=n[this.props.conversationId];return d&&(c=this.getMessageById(this.state.messages,d),l=this.state.allNyms.get(null==c?void 0:c.senderId)),u.a.createElement(Vi,{ref:this.messageField,appId:this.props.controller._appId,conversationId:this.state.conversation.id,me:this.state.me,theme:this.context.theme,key:e,chatClosed:i,rights:o,mentionOptions:a,browserMode:this.props.browserMode,onSay:this.onSay,onTyping:this.onTyping,onAttach:this.onAttach,onShareLocation:this.onShareLocation,onPasteImage:this.context.enableFileTransfers?this.onSendFile:void 0,onSendRecording:this.onSendRecording,upload:this.state.uploadIsARecording?this.state.upload:void 0,onConfirmSendUpload:this.onConfirmSendUpload,onCancelUpload:this.onCancelUpload,uploadErrorMsg:this.state.uploadError,onEditLastMessage:null===(r=this.messageList.current)||void 0===r?void 0:r.editMyLastMessage,messageField:t,referencedMessage:c,referencedMessageSender:l,conversationTemplateData:h,shouldTranslateReferencedMessage:this.state.shouldTranslate,onClickReplyBar:null===(s=this.messageList.current)||void 0===s?void 0:s.scrollToMessage,onOpenReplyBar:this.focusMessageField,onCloseReplyBar:this.focusMessageField})}return null})),this.state.emojiReactionState.show&&u.a.createElement("div",{className:"picker-modal",onClick:this.closeEmojiPickerModal},u.a.createElement("div",{className:"reaction-picker",onClick:e=>e.stopPropagation()},u.a.createElement("div",{className:`title-bar ${document.documentElement.dataset.colorScheme}`},u.a.createElement("button",{className:"close-button",onClick:this.closeEmojiPickerModal},u.a.createElement(Ur.b,{alt:"close emoji picker",type:"close"}))),u.a.createElement(Vr,{show:!0,onSelect:this.addEmoji,onSkinToneChange:()=>{},onClose:this.closeEmojiPickerModal})))))),this.state.showDrop&&u.a.createElement(pa,null,u.a.createElement(ma,null)),this.state.upload&&!this.state.uploadIsARecording&&u.a.createElement(ga,{upload:this.state.upload,onConfirm:this.onConfirmSendUpload,onCancel:this.onCancelUpload,errorMsg:this.state.uploadError}),u.a.createElement("input",{type:"file",className:"test__fileupload-input",ref:this.attachFileInput,onChange:this.onSendFiles,style:{display:"none"}}))))}renderChatHeader(e,t){const{visibleOthers:n}=e,r=this.state.features.includes("search_in_conv")&&this.context.searchInConv,o="auto"===this.context.showCloseInHeader?this.context.isPopover:this.context.showCloseInHeader,s=this.getSearchBoxProps(this.props);return i.a.is(this.context.theme,f.a),t&&this.context.theme.hasComponent("ChatHeader")?u.a.createElement(Ta,{theme:this.context.theme,me:this.state.me,visibleOthers:n,conversation:this.state.currentChat.conversation,showCloseButton:o,onClose:this.props.controller.closePopover,showSearchButton:r,onSearch:this._showSearch,chatHeaderState:t,searchBoxProps:s,permissions:this.state.permissions,enablePresence:this.context.enablePresence,t:this.context.t}):"profile"===t?u.a.createElement(Co,{visibleOthers:n,me:this.state.me,chat:this.state.currentChat,controller:this.props.controller,presence:this.state.presence,canISearch:r,onShowSearch:this._showSearch}):"search"===t?u.a.createElement(ko,{controller:this.props.controller,onJumpToNextHighlight:this.onJumpToNextHighlight}):null}}Ca.propTypes={stores:s.a.instanceOf(ue).isRequired,controller:s.a.object.isRequired,conversationId:s.a.string,hubPage:s.a.bool,browserMode:s.a.object.isRequired,hasUnreadMessages:s.a.bool.isRequired,neverShowInboxLink:s.a.bool.isRequired,mobileDisplayMode:s.a.string.isRequired},Ca.contextType=p.a;var Ra=Ca,Ia=(n(376),n(85)),Na=n.n(Ia);n(377),n(378);class wa extends et.a.DivWithAClass{}wa.displayName="PinboardItem";var ka=wa,xa=n(116);n(379);class La extends et.a{render(){return u.a.createElement("div",{className:"UnreadConversationDot"})}}var Ma=n(51),Pa=n(95),Fa=n(49);const ja=[["","!"],["","(C)"],["","<<"],["","-"],["","(R)"],["","+/-"],["",">>"],[""," 1/4"],[""," 1/2"],[""," 3/4"],["","?"],["","A"],["","A"],["","A"],["","A"],["","A"],["","A"],["","AE"],["","C"],["","E"],["","E"],["","E"],["","E"],["","I"],["","I"],["","I"],["","I"],["","D"],["","N"],["","O"],["","O"],["","O"],["","O"],["","O"],["","*"],["","O"],["","U"],["","U"],["","U"],["","U"],["","Y"],["","TH"],["","ss"],["","a"],["","a"],["","a"],["","a"],["","a"],["","a"],["","ae"],["","c"],["","e"],["","e"],["","e"],["","e"],["","i"],["","i"],["","i"],["","i"],["","d"],["","n"],["","o"],["","o"],["","o"],["","o"],["","o"],["","/"],["","o"],["","u"],["","u"],["","u"],["","u"],["","y"],["","th"],["","y"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","C"],["","c"],["","C"],["","c"],["","C"],["","c"],["","C"],["","c"],["","D"],["","d"],["","D"],["","d"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","G"],["","g"],["","G"],["","g"],["","G"],["","g"],["","G"],["","g"],["","H"],["","h"],["","H"],["","h"],["","I"],["","i"],["","I"],["","i"],["","I"],["","i"],["","I"],["","i"],["","I"],["","i"],["","IJ"],["","ij"],["","J"],["","j"],["","K"],["","k"],["","q"],["","L"],["","l"],["","L"],["","l"],["","L"],["","l"],["","L"],["","l"],["","L"],["","l"],["","N"],["","n"],["","N"],["","n"],["","N"],["","n"],["","'n"],["","N"],["","n"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","OE"],["","oe"],["","R"],["","r"],["","R"],["","r"],["","R"],["","r"],["","S"],["","s"],["","S"],["","s"],["","S"],["","s"],["","S"],["","s"],["","T"],["","t"],["","T"],["","t"],["","T"],["","t"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","W"],["","w"],["","Y"],["","y"],["","Y"],["","Z"],["","z"],["","Z"],["","z"],["","Z"],["","z"],["","s"],["","b"],["","B"],["","B"],["","b"],["","C"],["","c"],["","D"],["","D"],["","D"],["","d"],["","E"],["","F"],["","f"],["","G"],["","hv"],["","I"],["","I"],["","K"],["","k"],["","l"],["","N"],["","n"],["","O"],["","o"],["","OI"],["","oi"],["","P"],["","p"],["","t"],["","T"],["","t"],["","T"],["","U"],["","u"],["","V"],["","Y"],["","y"],["","Z"],["","z"],["","DZ"],["","Dz"],["","dz"],["","LJ"],["","Lj"],["","lj"],["","NJ"],["","Nj"],["","nj"],["","A"],["","a"],["","I"],["","i"],["","O"],["","o"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","A"],["","a"],["","A"],["","a"],["","G"],["","g"],["","G"],["","g"],["","K"],["","k"],["","O"],["","o"],["","O"],["","o"],["","j"],["","DZ"],["","Dz"],["","dz"],["","G"],["","g"],["","N"],["","n"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","E"],["","e"],["","E"],["","e"],["","I"],["","i"],["","I"],["","i"],["","O"],["","o"],["","O"],["","o"],["","R"],["","r"],["","R"],["","r"],["","U"],["","u"],["","U"],["","u"],["","S"],["","s"],["","T"],["","t"],["","H"],["","h"],["","d"],["","Z"],["","z"],["","A"],["","a"],["","E"],["","e"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","Y"],["","y"],["","l"],["","n"],["","t"],["","j"],["","db"],["","qp"],["","A"],["","C"],["","c"],["","L"],["","T"],["","s"],["","z"],["","B"],["","U"],["","E"],["","e"],["","J"],["","j"],["","R"],["","r"],["","Y"],["","y"],["","b"],["","c"],["","d"],["","d"],["","e"],["","j"],["","g"],["","g"],["","G"],["","h"],["","h"],["","i"],["","I"],["","l"],["","l"],["","l"],["","m"],["","n"],["","n"],["","N"],["","OE"],["","r"],["","r"],["","r"],["","R"],["","s"],["","t"],["","u"],["","v"],["","Y"],["","z"],["","z"],["","B"],["","G"],["","H"],["","j"],["","L"],["","q"],["","dz"],["","dz"],["","ts"],["","ls"],["","lz"],["","'"],["",'"'],["","'"],["","'"],["","'"],["","<"],["",">"],["","^"],["","^"],["","'"],["","`"],["",":"],["","+"],["","-"],["","~"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","A"],["","AE"],["","B"],["","C"],["","D"],["","D"],["","E"],["","J"],["","K"],["","L"],["","M"],["","O"],["","P"],["","T"],["","U"],["","V"],["","W"],["","Z"],["","ue"],["","b"],["","d"],["","f"],["","m"],["","n"],["","p"],["","r"],["","r"],["","s"],["","t"],["","z"],["","th"],["","I"],["","p"],["","U"],["","b"],["","d"],["","f"],["","g"],["","k"],["","l"],["","m"],["","n"],["","p"],["","r"],["","s"],["","v"],["","x"],["","z"],["","a"],["","d"],["","e"],["","e"],["","i"],["","u"],["","A"],["","a"],["","B"],["","b"],["","B"],["","b"],["","B"],["","b"],["","C"],["","c"],["","D"],["","d"],["","D"],["","d"],["","D"],["","d"],["","D"],["","d"],["","D"],["","d"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","F"],["","f"],["","G"],["","g"],["","H"],["","h"],["","H"],["","h"],["","H"],["","h"],["","H"],["","h"],["","H"],["","h"],["","I"],["","i"],["","I"],["","i"],["","K"],["","k"],["","K"],["","k"],["","K"],["","k"],["","L"],["","l"],["","L"],["","l"],["","L"],["","l"],["","L"],["","l"],["","M"],["","m"],["","M"],["","m"],["","M"],["","m"],["","N"],["","n"],["","N"],["","n"],["","N"],["","n"],["","N"],["","n"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","P"],["","p"],["","P"],["","p"],["","R"],["","r"],["","R"],["","r"],["","R"],["","r"],["","R"],["","r"],["","S"],["","s"],["","S"],["","s"],["","S"],["","s"],["","S"],["","s"],["","S"],["","s"],["","T"],["","t"],["","T"],["","t"],["","T"],["","t"],["","T"],["","t"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","V"],["","v"],["","V"],["","v"],["","W"],["","w"],["","W"],["","w"],["","W"],["","w"],["","W"],["","w"],["","W"],["","w"],["","X"],["","x"],["","X"],["","x"],["","Y"],["","y"],["","Z"],["","z"],["","Z"],["","z"],["","Z"],["","z"],["","h"],["","t"],["","w"],["","y"],["","a"],["","s"],["","s"],["","SS"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","A"],["","a"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","E"],["","e"],["","I"],["","i"],["","I"],["","i"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","O"],["","o"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","U"],["","u"],["","Y"],["","y"],["","Y"],["","y"],["","Y"],["","y"],["","Y"],["","y"],["","LL"],["","ll"],["","V"],["","v"],["","Y"],["","y"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["","-"],["","-"],["","-"],["","-"],["","-"],["","-"],["","||"],["","'"],["","'"],["",","],["","'"],["",'"'],["",'"'],["",",,"],["",'"'],["","."],["",".."],["","..."],["","'"],["",'"'],["","<"],["",">"],["","!!"],["","/"],["","["],["","]"],["","??"],["","?!"],["","!?"],["","*"],["","CE"],["","Cr"],["","Fr."],["","L."],["","Pts"],["","Rs"],["","TL"],["","a/c"],["","a/s"],["","C"],["","C"],["","c/o"],["","c/u"],["","F"],["","g"],["","H"],["","x"],["","H"],["","h"],["","I"],["","I"],["","L"],["","l"],["","N"],["","No"],["","(P)"],["","P"],["","P"],["","Q"],["","R"],["","R"],["","R"],["","Rx"],["","TEL"],["","Z"],["","Z"],["","B"],["","C"],["","e"],["","E"],["","F"],["","M"],["","o"],["","i"],["","FAX"],["","D"],["","d"],["","e"],["","i"],["","j"],[""," 1/7"],[""," 1/9"],[""," 1/10"],[""," 1/3"],[""," 2/3"],[""," 1/5"],[""," 2/5"],[""," 3/5"],[""," 4/5"],[""," 1/6"],[""," 5/6"],[""," 1/8"],[""," 3/8"],[""," 5/8"],[""," 7/8"],[""," 1/"],["","I"],["","II"],["","III"],["","IV"],["","V"],["","VI"],["","VII"],["","VIII"],["","IX"],["","X"],["","XI"],["","XII"],["","L"],["","C"],["","D"],["","M"],["","i"],["","ii"],["","iii"],["","iv"],["","v"],["","vi"],["","vii"],["","viii"],["","ix"],["","x"],["","xi"],["","xii"],["","l"],["","c"],["","d"],["","m"],[""," 0/3"],["","-"],["","/"],["","\\"],["","|"],["","||"],["","<<"],["",">>"],["","(1)"],["","(2)"],["","(3)"],["","(4)"],["","(5)"],["","(6)"],["","(7)"],["","(8)"],["","(9)"],["","(10)"],["","(11)"],["","(12)"],["","(13)"],["","(14)"],["","(15)"],["","(16)"],["","(17)"],["","(18)"],["","(19)"],["","(20)"],["","1."],["","2."],["","3."],["","4."],["","5."],["","6."],["","7."],["","8."],["","9."],["","10."],["","11."],["","12."],["","13."],["","14."],["","15."],["","16."],["","17."],["","18."],["","19."],["","20."],["","(a)"],["","(b)"],["","(c)"],["","(d)"],["","(e)"],["","(f)"],["","(g)"],["","(h)"],["","(i)"],["","(j)"],["","(k)"],["","(l)"],["","(m)"],["","(n)"],["","(o)"],["","(p)"],["","(q)"],["","(r)"],["","(s)"],["","(t)"],["","(u)"],["","(v)"],["","(w)"],["","(x)"],["","(y)"],["","(z)"],["","(("],["","))"],["","::="],["","=="],["","==="],["","L"],["","l"],["","L"],["","P"],["","R"],["","a"],["","t"],["","H"],["","h"],["","K"],["","k"],["","Z"],["","z"],["","M"],["","v"],["","W"],["","w"],["","v"],["","e"],["","o"],["","S"],["","Z"],["",","],["","."],["","0"],["","<"],["",">"],["","<<"],["",">>"],["","["],["","]"],["","["],["","]"],["","["],["","]"],["",'"'],["",'"'],["","hPa"],["","da"],["","AU"],["","bar"],["","oV"],["","pc"],["","dm"],["","IU"],["","pA"],["","nA"],["","mA"],["","kA"],["","KB"],["","MB"],["","GB"],["","cal"],["","kcal"],["","pF"],["","nF"],["","mg"],["","kg"],["","Hz"],["","kHz"],["","MHz"],["","GHz"],["","THz"],["","fm"],["","nm"],["","mm"],["","cm"],["","km"],["","m/s"],["","Pa"],["","kPa"],["","MPa"],["","GPa"],["","rad"],["","rad/s"],["","ps"],["","ns"],["","ms"],["","pV"],["","nV"],["","mV"],["","kV"],["","MV"],["","pW"],["","nW"],["","mW"],["","kW"],["","MW"],["","a.m."],["","Bq"],["","cc"],["","cd"],["","C/kg"],["","Co."],["","dB"],["","Gy"],["","ha"],["","HP"],["","in"],["","KK"],["","KM"],["","kt"],["","lm"],["","ln"],["","log"],["","lx"],["","mb"],["","mil"],["","mol"],["","pH"],["","p.m."],["","PPM"],["","PR"],["","sr"],["","Sv"],["","Wb"],["","V/m"],["","A/m"],["","F"],["","S"],["","AA"],["","aa"],["","AO"],["","ao"],["","AU"],["","au"],["","AV"],["","av"],["","AV"],["","av"],["","AY"],["","ay"],["","K"],["","k"],["","K"],["","k"],["","K"],["","k"],["","L"],["","l"],["","L"],["","l"],["","O"],["","o"],["","O"],["","o"],["","OO"],["","oo"],["","P"],["","p"],["","P"],["","p"],["","P"],["","p"],["","Q"],["","q"],["","Q"],["","q"],["","V"],["","v"],["","VY"],["","vy"],["","TH"],["","th"],["","TH"],["","th"],["","d"],["","l"],["","m"],["","n"],["","r"],["","R"],["","t"],["","D"],["","d"],["","F"],["","f"],["","T"],["","t"],["","N"],["","n"],["","C"],["","c"],["","G"],["","g"],["","K"],["","k"],["","N"],["","n"],["","R"],["","r"],["","S"],["","s"],["","H"],["","ff"],["","fi"],["","fl"],["","ffi"],["","ffl"],["","st"],["","st"],["",","],["",","],["","."],["",":"],["",";"],["","!"],["","?"],["","..."],["",".."],["","-"],["","-"],["","("],["",")"],["","{"],["","}"],["","["],["","]"],["","<<"],["",">>"],["","<"],["",">"],["","["],["","]"],["",","],["",","],["","."],["",";"],["",":"],["","?"],["","!"],["","-"],["","("],["",")"],["","{"],["","}"],["","["],["","]"],["","#"],["","&"],["","*"],["","+"],["","-"],["","<"],["",">"],["","="],["","\\"],["","$"],["","%"],["","@"],["","!"],["",'"'],["","#"],["","$"],["","%"],["","&"],["","'"],["","("],["",")"],["","*"],["","+"],["",","],["","-"],["","."],["","/"],["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["",":"],["",";"],["","<"],["","="],["",">"],["","?"],["","@"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","["],["","\\"],["","]"],["","^"],["","_"],["","`"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","{"],["","|"],["","}"],["","~"],["","(("],["","))"],["","."],["",","],["","<-"],["","->"],["","0."],["","0,"],["","1,"],["","2,"],["","3,"],["","4,"],["","5,"],["","6,"],["","7,"],["","8,"],["","9,"],["","(A)"],["","(B)"],["","(C)"],["","(D)"],["","(E)"],["","(F)"],["","(G)"],["","(H)"],["","(I)"],["","(J)"],["","(K)"],["","(L)"],["","(M)"],["","(N)"],["","(O)"],["","(P)"],["","(Q)"],["","(R)"],["","(S)"],["","(T)"],["","(U)"],["","(V)"],["","(W)"],["","(X)"],["","(Y)"],["","(Z)"]].map((([e,t])=>[new RegExp(e,"g"),t]));function Ba(e){let t=e;for(const[e,n]of ja)t=t.replace(e,n);return t}function Ua(e,t){const n=Ba(e.normalize("NFKC")).toLowerCase().split(/\s+/),r=t.split(/\s+/).map(((e,t)=>{let r=Ba(e.normalize("NFKC")).toLowerCase(),i=null;for(const e of n)r.startsWith(e)&&(null===i||e.length>i.length)&&(i=e);return null===i?u.a.createElement("span",{key:t},`${e} `):u.a.createElement("span",{key:t},u.a.createElement("mark",null,e.slice(0,i.length)),`${e.slice(i.length)} `)}));return u.a.createElement("div",null,r)}const Ha=e=>{const{message:t,chat:n,nyms:r,me:i}=e,o=u.a.useContext(p.a),s=o.theme,a=q.Map(r),c=r[t.senderId],l=Object.assign(Object.assign({},Fe(n,i,a,c,!1,!c)),{isActive:!1}),h=Pe(i,t,void 0,l.conversation,c,void 0,void 0,!1,!1);l.lastMessage=h,l.message=h;const f=o.contentMasking.shouldSuppress({isContentBySender:t.senderId==i.id}),m=l.lastMessage.body;if("text"===m.type){const t=Object(Tt.f)(m.entityTree,{contactInfo:!("UserMessage"!==h.type||!f)&&"suppress",suppression:o.contentMasking}),n=Object(Fa.b)(t,{}),r="UserMessage"===l.lastMessage.type?`${l.lastMessage.sender.name}: ${n}`:n;m.formattedText=Ua(e.searchString,r)}l.conversation.rawSubject||(0==l.conversation.otherParticipants.length?l.conversation.rawSubject=l.conversation.me.name:l.conversation.rawSubject=[...l.conversation.otherParticipants,l.conversation.me].map((e=>e.name)).join(", "));const g=Object(Tt.e)(l.conversation.rawSubject),E=Object(Fa.b)(g,{});l.conversation.formattedSubject=Ua(e.searchString,E);return s.useComponent("MessageSearchResult",{ConversationLink:e=>u.a.createElement(Ma.b,Object.assign({},e,e.__jsContext.listItemProps)),GroupChatImage:({participants:e})=>u.a.createElement(Do,{participants:e})}).render(l,{listItemProps:{as:"a",role:"menuitem",roleDescription:"message",href:e.chat.getUrl()||"/",onSelect:async()=>{const t=e.chat,n=a.map((e=>Object.assign(Object.assign({},e.toJS()),{_type:"nym",role:e.configuration}))).toArray(),r={conversation:t.conversation.toJS(),participants:n,others:t.conversation.getOthers(a,t.meId).toIndexedSeq().toJS(),me:t.getMe(a).toJS(),externalNymIds:o.stores.nymStore.getExternalNymIds(t.conversation),messageId:e.message.externalId},i=await d.a.request("selectConversation",r);if(i&&i.stop)return!1},onAfterNav:async()=>{var t;null===(t=null===window||void 0===window?void 0:window.__chatBox)||void 0===t||t.jumpToMessage(e.message.id)},id:e.message.id,participants:n.conversation.getOthersOrMe(a,i).toMap()}})};function za(e){var t;const{me:n,participants:r,sender:i,chat:o,isActive:s,shouldTranslate:u,href:c,onClick:l,isSearchResult:h}=e,d=a.useContext(p.a),f=d.theme,m=Object.assign(Object.assign({},Fe(o,n,r,i,u,o.isLastMessageSystemMessage())),{isActive:s,isSearchResult:h}),g=d.contentMasking.shouldSuppress({isContentBySender:o.change.isByMe}),E=m.lastMessage.body;if("text"===E.type){const e=!(!g||"UserMessage"!==m.lastMessage.type)&&"suppress";E.formattedText=a.createElement(Ct.a,{entityTree:E.entityTree,contactInfo:e,suppression:d.contentMasking,t:d.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",markup:!0,useFallbackMentions:!0})}if(e.isSearchResult&&!m.conversation.rawSubject&&(0==m.conversation.otherParticipants.length?m.conversation.rawSubject=m.conversation.me.name:m.conversation.rawSubject=[...m.conversation.otherParticipants,m.conversation.me].map((e=>e.name)).join(", ")),m.conversation.rawSubject)if(e.isSearchResult){const n=Object(Tt.e)(m.conversation.rawSubject),r=Object(Fa.b)(n,{});m.conversation.formattedSubject=Ua(null!==(t=e.searchString)&&void 0!==t?t:"",r)}else m.conversation.formattedSubject=a.createElement(at.a,{t:d.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",contactInfo:!1,markup:!0,except:["Actions"]},m.conversation.rawSubject);const _=f.useComponent("ConversationListItem",{ConversationLink:e=>a.createElement(Ma.b,Object.assign({},e,e.__jsContext.listItemProps)),GroupChatImage:({participants:e})=>a.createElement(Do,{participants:e}),ActionButton:Li.b,ActionLink:Li.c});return a.createElement(Pa.a.Provider,{value:o.conversation},_.render(m,{listItemProps:{as:"a",role:"tab",roleDescription:"conversation",href:c,onSelect:l,id:o.conversation.id,participants:r}}))}class Va extends et.a{constructor(){super(...arguments),this.onClick=async()=>{const{chat:e,participants:t}=this.props,n=t.map((e=>Object.assign(Object.assign({},e.toJS()),{_type:"nym",role:e.configuration}))).toArray(),r=await d.a.request("selectConversation",{conversation:e.conversation.toJS(),participants:n,me:e.getMe(t).toJS(),externalNymIds:this.context.stores.nymStore.getExternalNymIds(e.conversation)});if(r&&r.stop)return!1}}renderAvatar(e){const t=e.conversation.getOthers(this.props.participants,e.meId,(e=>e.canRead)).toMap(),n=e.getMe(this.props.participants);return e.isGroupChat()&&!e.conversation.photoUrl?u.a.createElement(Do,{participants:t.map((e=>e.templateData)).toArray().concat(n.templateData)}):u.a.createElement(yo,{chat:e,me:n,others:t})}renderMessageContent(e){let t;switch(e.change.type){case"text":t=e.change.text;break;case"media":t="";break;case"location":t=this.context.t("LOCATION")}return this.props.shouldTranslate&&"text"===e.change.type&&(t=e.change.translatedText||e.change.text),e.isGroupChat()&&!e.isLastMessageSystemMessage()?(i.a.defined(this.props.sender),`${this.props.sender.getFirstName()}: ${t}`):t}renderNonUtfMessageIcon(e){if("location"===e.type)return u.a.createElement(Ur.b,{type:"location",alt:"Location"})}renderMessage(e){const t=this.context.contentMasking.shouldSuppress({isContentBySender:e.change.isByMe});let n;return n=e.isLastMessageSystemMessage()?u.a.createElement("i",null,u.a.createElement(at.a,{t:this.context.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",markup:!0,contactInfo:!1},this.renderMessageContent(e))):e.change.read?u.a.createElement(at.a,{t:this.context.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",markup:!0,contactInfo:t&&"suppress",suppression:this.context.contentMasking},this.renderMessageContent(e)):u.a.createElement("strong",null,u.a.createElement(at.a,{t:this.context.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",markup:!0,contactInfo:t&&"suppress",suppression:this.context.contentMasking},this.renderMessageContent(e))),u.a.createElement("div",{className:"message"},this.renderNonUtfMessageIcon(e.change),n)}renderChatName(e){const t=e.conversation.getOthersOrMe(this.props.participants,this.props.me,(e=>!0===e.canRead));if(e.isGroupChat()){return Ia.sortBy(Ia.compose(Ia.toLower,Ia.prop("name")))(t.toArray()).map((e=>e.getFirstName())).join(", ")}return t.first().name}render(){var e,t;const{chat:n}=this.props,r=this.props.isActive?"active":"",i=n.conversation.myRights.canRead,o=!n.change.read;let s,a;if("subject"===("auto"===this.context.feedConversationTitleMode?n.isGroupChat()?"subject":"participants":this.context.feedConversationTitleMode)&&n.conversation.subject)if(a=n.conversation.subject,this.props.isSearchResult){const t=Object(Tt.e)(a),n=Object(Fa.b)(t,{});s=Ua(null!==(e=this.props.searchString)&&void 0!==e?e:"",n)}else s=u.a.createElement(at.a,{t:this.context.t,enableEmojiImageFallback:!0,formattedLinks:"plaintext",contactInfo:!1,markup:!0,except:["Actions"]},n.conversation.subject);else{const e=this.renderChatName(n);if(a=this.props.isWithMe?`(${this.context.t("YOU_MARKER")})`:e,this.props.isSearchResult){const e=Object(Tt.e)(a),n=Object(Fa.b)(e,{});s=Ua(null!==(t=this.props.searchString)&&void 0!==t?t:"",n)}else{const t=this.props.isWithMe?u.a.createElement("span",{className:"you"}," (",this.context.t("YOU_MARKER"),")"):"";s=u.a.createElement("span",null,e,t)}}const c=this.context.theme;return"v2"===c.version&&c.hasComponent("ConversationListItem")?u.a.createElement(za,{isActive:this.props.isActive,me:this.props.me,participants:this.props.participants,sender:this.props.sender,chat:this.props.chat,href:this.props.href,onClick:this.onClick,shouldTranslate:this.props.shouldTranslate,isSearchResult:this.props.isSearchResult,searchString:this.props.searchString}):u.a.createElement(Ma.b,{as:"a",className:`HubChatItem ${r} ${i?"":"blocked"} ${o?"is-unread":"blocked"}`,href:this.props.href,onSelect:this.onClick,title:a,role:"tab",roleDescription:"conversation",id:n.conversation.id},u.a.createElement(ka,null,this.renderAvatar(n),u.a.createElement("div",{className:"inner"},u.a.createElement("div",{className:"header"},u.a.createElement("div",{className:"name"},s),u.a.createElement(xa.a,{className:"ts f-smaller",timestamp:n.change.ts})),u.a.createElement("div",{className:"body"},this.renderMessage(n),o&&u.a.createElement(La,null)))))}}Va.contextType=p.a;var Ga=Va;n(380);class $a extends et.a{constructor(){super(...arguments),this.onDesktopNotifyChange=e=>{this.props.controller.setDesktopNotify(e.target.checked)}}render(){return u.a.createElement("div",{className:"NotificationsBox"},u.a.createElement("div",{className:"box"},u.a.createElement("input",{id:"cmn-toggle-4",type:"checkbox",className:"cmn-toggle cmn-toggle-round-flat",checked:this.props.isDesktopNotifyEnabled,onChange:this.onDesktopNotifyChange}),u.a.createElement("label",{className:"test__notification-toggle",htmlFor:"cmn-toggle-4"}),u.a.createElement("span",{className:"test__notification-caption"},this.context.t("DESKTOP_NOTIFICATIONS"))))}}$a.propTypes={controller:s.a.instanceOf($).isRequired,isDesktopNotifyEnabled:s.a.bool.isRequired},$a.contextType=p.a;var Ya=$a;function Wa({theme:e,desktopNotificationEnabled:t,toggleDesktopNotificationEnabled:n}){return e.useComponent("ConversationListHeader",{DesktopNotificationToggle:Ka,ActionButton:Li.b,ActionLink:Li.c}).render({desktopNotificationEnabled:t},{desktopNotificationEnabled:t,toggleDesktopNotificationEnabled:n})}function Ka(e){const{toggleDesktopNotificationEnabled:t,desktopNotificationEnabled:n}=e.__jsContext;return a.createElement("button",{id:e.id,className:e.className,style:e.style,onClick:t,role:"switch","aria-checked":n},e.children)}const qa=e=>{const t=u.a.useContext(p.a),n=t.theme,r=Object(a.useRef)(null),[i,o]=Object(a.useState)(!1),[s,c]=Object(a.useState)(!1),l=Object(a.useRef)(null),h=Object(a.useRef)(0),d=()=>r.current.state.value.trim(),f=()=>{r.current.blur(),g()},m=async()=>{null!==l.current&&(clearTimeout(l.current),l.current=null),r.current.clear(),o(!1),c(!1),await Promise.all([e.setSidesSearchResults(null),e.setMessagesSearchResults(null)]);try{h.current+=1;const e=t.controller.cancelSearchSides(h.current),n=t.controller.cancelSearchMessages(h.current);await Promise.all([e,n])}catch(e){console.error(e)}},g=async()=>{null!==l.current&&(clearTimeout(l.current),l.current=null);const n=d();if(n&&(o(!0),c(!0),await Promise.all([e.setSidesSearchResults(null),e.setMessagesSearchResults(null)]),n.length>2?await Promise.all([e.setSidesSearchResults("searching"),e.setMessagesSearchResults("searching")]):await Promise.all([e.setSidesSearchResults("typeMore"),e.setMessagesSearchResults("typeMore")]),n.length>2))try{h.current+=1;const r=t.controller.searchSides(h.current,n,I.a.INITIALLY_VISIBLE_CHATS_SEARCH_RESULTS+1,null,e.filter),i=t.controller.searchMessages(h.current,n,I.a.INITIALLY_VISIBLE_MESSAGES_SEARCH_RESULTS+1,null,e.filter);await Promise.all([r,i])}catch(t){console.error(t),await Promise.all([e.setSidesSearchResults(null),e.setMessagesSearchResults(null)]),r.current.clear(),o(!1),c(!1)}},E=()=>{l.current=null;0==d().length?m():g()},_=async(t,n)=>{if(null===l.current){await Promise.all([e.setSidesSearchResults(null),e.setMessagesSearchResults(null)]);d().length>2?await Promise.all([e.setSidesSearchResults("searching"),e.setMessagesSearchResults("searching")]):await Promise.all([e.setSidesSearchResults("typeMore"),e.setMessagesSearchResults("typeMore")]),l.current=setTimeout(E,500)}else clearTimeout(l.current),l.current=setTimeout(E,500)};Object(a.useEffect)((()=>{const n=t.controller.registerSideResultsHandler((async t=>{(0===t.searchId&&t.searchString===d()||t.searchId===h.current)&&await e.setSidesSearchResults(t)})),r=t.controller.registerMessageResultsHandler((async t=>{(0===t.searchId&&t.searchString===d()||t.searchId===h.current)&&await e.setMessagesSearchResults(t)}));return()=>{t.controller.unregisterSideResultsHandler(n),t.controller.unregisterMessageResultsHandler(r)}}),[]);const v={hasSearchResults:i,isTyping:s},A=n.useComponent("ConversationListSearchBox",{SearchInput:e=>u.a.createElement(No,{ref:r,uniqueId:"hub-search-field",type:"search",placeholder:t.t("SEARCH_PLACEHOLDER_TEXT"),bg:"light",transparent:!0,borderBottom:!1,onChange:_,onSubmit:f,onCancel:m,autoComplete:"off",className:e.className,children:e.children}),CloseButton:e=>u.a.createElement(Oo,{"aria-label":t.t("ARIA_LEAVE_SEARCH_MODE"),lightweight:"very",fastClick:!0,onClick:m,id:"hub-search-close-button",className:e.className,style:e.style,children:e.children}),SearchButton:e=>u.a.createElement(Oo,{"aria-label":t.t("ARIA_SEARCH"),lightweight:"very",fastClick:!0,onClick:f,id:"hub-search-button",className:e.className,style:e.style,children:e.children})});return u.a.createElement("form",{className:"form HubSearchBox",action:".",onSubmit:e=>e.preventDefault()},A.render(v))},Xa=e=>{const{component:t,type:n,hasMoreResults:r,hasMoreThanInitialResults:i,isLoadingResults:o,needsMoreCharacters:s,onShowMore:a}=e,c={type:n,hasMoreResults:r,hasMoreThanInitialResults:i,isLoadingResults:o,needsMoreCharacters:s};return u.a.useContext(p.a).theme.useComponent(t,{ShowMoreButton:e=>u.a.createElement(tt,{onClick:a,className:e.className,children:e.children})}).render(c)};class Ja extends et.a{constructor(e){super(e),this.scrollableRef=u.a.createRef(),this.controllerView=new Je(this,ne.a,ee.a,te.a),this.showChatsResultsAmount=0,this.showMessagesResultsAmount=0,this.handleScroll=()=>{const{showingAll:e}=this.getVisibleChats(this.props,this.state);if(e)return;const t=this.scrollableRef.current;t.scrollHeight-t.clientHeight-t.scrollTop<15&&!this.state.isLoading&&this._onShowMore()},this.getVisibleChats=Ze(((e,t)=>[t.chats,t.showAmount,e.filter]),((e,t,n)=>{const r=(n?uo(n,e,(e=>e.getFilterableConversation())):e).filter((e=>e.hasMessages())),i=null===t?I.a.INITIALLY_VISIBLE_CHATS_IN_HUB:t;return{chats:r.take(i),showingAll:r.size<i+1}})),this.enrichChatItems=Ze(((e,t,n)=>[n,e.currentConversationId,t.translationOptions,t.nyms,t.appLocale]),((e,t,n,r,o)=>e.map((e=>{i.a.is(e,S.a);const s=e.getUrl(),a=e.isWithMe(),u=e.conversation.id===t,c=e.conversation.participantNyms(r),l=e.isLastMessageSystemMessage()?null:r.get(e.change.senderId),h=e.shouldTranslate(n,r,o);return{chat:e,isActive:u,href:s,isWithMe:a,participants:c,sender:l,shouldTranslate:h}})).toArray())),this._onShowMore=async e=>{const t=this.scrollableRef.current;let n=0;do{this.setState({isLoading:!0});const t=this.state.chats.filter((e=>e.hasMessages())).last();i.a.defined(t.change.ts);let r=I.a.LOAD_MORE_CHATS_STEP;e&&0===n?r=I.a.INITIALLY_VISIBLE_CHATS_IN_HUB:(await this.props.controller.monitorMoreChats(r,t.change.ts),d.a.request("showMoreChats",{amount:r,lastChatTs:t.change.ts}));const o=(null===this.state.showAmount?I.a.INITIALLY_VISIBLE_CHATS_IN_HUB:this.state.showAmount)+r;this.setState({showAmount:o,isLoading:!1}),n+=1}while(e&&t.scrollHeight===t.clientHeight&&n<2)},this.onShowMore=e=>{e.preventDefault(),this._onShowMore()},this.setSidesSearchResults=async e=>{switch(e){case null:this.showChatsResultsAmount=I.a.INITIALLY_VISIBLE_CHATS_SEARCH_RESULTS,this.setState({isSearchingSides:"notSearching",sidesSearchResults:null});break;case"searching":this.setState({isSearchingSides:"searching"});break;case"typeMore":this.setState({isSearchingSides:"waitingMoreCharacters"});break;default:const t=this.props.stores.getStore("NymStore"),n=new Set;for(const r of e.data)for(const e of Object.keys(r.participants))t.getNym(e)||n.add(e);if(n.size>0){const e=await this.props.controller.getMissingNyms(Array.from(n)),r=new je(this.state.me.id),i=Object.fromEntries(e.data.map((e=>[e.id,r.make(e)])));t.setNyms({nyms:i})}this.setState(((t,n)=>{const r=new be.a(t.me.id),i={searchString:e.searchString,chats:q.OrderedMap(e.data.map((e=>[e.id,r.make(e)])))},o=null===t.sidesSearchResults?i:{searchString:i.searchString,chats:t.sidesSearchResults.chats.merge(i.chats)};return{isSearchingSides:e.partial?"searching":"notSearching",sidesSearchResults:o}}))}},this.setMessagesSearchResults=async e=>{switch(e){case null:this.showMessagesResultsAmount=I.a.INITIALLY_VISIBLE_MESSAGES_SEARCH_RESULTS,this.setState({isSearchingMessages:"notSearching",messagesSearchResults:null});break;case"searching":this.setState({isSearchingMessages:"searching"});break;case"typeMore":this.setState({isSearchingMessages:"waitingMoreCharacters"});break;default:const t=this.props.stores.getStore("MeStore"),n=this.props.stores.getStore("NymStore"),r=new Set;for(const n of e.data)t.getChat(n.conversationId)||r.add(n.conversationId);if(r.size>0){const e=await this.props.controller.getMissingChats(Array.from(r)),n=new be.a(this.state.me.id),i=Object.fromEntries(e.data.map((e=>[e.id,n.make(e)])));t.setChats({chats:i})}const i=new Set;for(const r of e.data){const e=t.getChat(r.conversationId).conversation.participants.keySeq().toArray();for(const t of e)n.getNym(t)||i.add(t);"UserMessage"!==r.type||n.getNym(r.senderId)||i.add(r.senderId)}if(i.size>0){const e=await this.props.controller.getMissingNyms(Array.from(i)),t=new je(this.state.me.id),r=Object.fromEntries(e.data.map((e=>[e.id,t.make(e)])));n.setNyms({nyms:r})}this.setState(((r,i)=>{const o={searchString:e.searchString,messages:e.data.map((e=>{const r=t.getChat(e.conversationId),i=Object.fromEntries(r.conversation.participants.keySeq().toArray().map((e=>[e,n.getNym(e)])));return"UserMessage"!==e.type||Object.keys(i).includes(e.senderId)||(i[e.senderId]=n.getNym(e.senderId)),{message:Ce.make(e),chat:r,nyms:i}}))},s=null===r.messagesSearchResults?o:{searchString:o.searchString,messages:[...r.messagesSearchResults.messages,...o.messages]};return{isSearchingMessages:e.partial?"searching":"notSearching",messagesSearchResults:s}}))}},this.onShowMoreSidesResults=async()=>{var e,t;if(i.a.defined(this.state.sidesSearchResults),this.showChatsResultsAmount+=I.a.LOAD_MORE_CHATS_SEARCH_RESULTS_STEP,this.showChatsResultsAmount>=this.state.sidesSearchResults.chats.size)try{this.setSidesSearchResults("searching");const n=this.showChatsResultsAmount-this.state.sidesSearchResults.chats.size,r=null!==(e=this.state.sidesSearchResults.chats.last().toJS().change)&&void 0!==e?e:null;await this.props.controller.searchSides(0,this.state.sidesSearchResults.searchString,n+1,null!==(t=null==r?void 0:r.ts)&&void 0!==t?t:null,this.props.filter)}catch(e){console.error(e),this.setSidesSearchResults(null)}else this.forceUpdate()},this.onShowMoreMessagesResults=async()=>{var e,t;if(i.a.defined(this.state.messagesSearchResults),this.showMessagesResultsAmount+=I.a.LOAD_MORE_MESSAGES_SEARCH_RESULTS_STEP,this.showMessagesResultsAmount>=this.state.messagesSearchResults.messages.length)try{this.setMessagesSearchResults("searching");const n=this.showMessagesResultsAmount-this.state.messagesSearchResults.messages.length,r=null!==(e=this.state.messagesSearchResults.messages[this.state.messagesSearchResults.messages.length-1].message)&&void 0!==e?e:null;await this.props.controller.searchMessages(0,this.state.messagesSearchResults.searchString,n+1,null!==(t=null==r?void 0:r.createdAt)&&void 0!==t?t:null,this.props.filter)}catch(e){console.error(e),this.setMessagesSearchResults(null)}else this.forceUpdate()},this.state=Object.assign(Object.assign({},this.controllerView.initialState),{showAmount:null,showValidation:!1,isSearchingSides:"notSearching",isSearchingMessages:"notSearching",isWaitingMoreCharacters:!1,sidesSearchResults:null,messagesSearchResults:null})}getStateFromStores(e,t,n,r){const i=t.getMe();return{chats:t.getChats(),initialChatsHaveLoaded:t.chatsHaveLoaded(),me:i,nyms:n.getNyms(),translationOptions:r.getTranslationOptions(),appLocale:r.getLocale().appLocale,features:r.getFeatures()}}componentDidMount(){this.controllerView.listen(),this.translateVisibleChatSides();const e=this.scrollableRef.current;e.addEventListener("scroll",this.handleScroll);const{showingAll:t}=this.getVisibleChats(this.props,this.state);t||e.clientHeight!==e.scrollHeight||this._onShowMore(!0)}componentWillUnmount(){this.controllerView.unlisten(),this.scrollableRef.current.removeEventListener("scroll",this.handleScroll)}componentDidUpdate(e,t){t.translationOptions===this.state.translationOptions&&this.state.chats.equals(t.chats)||this.translateVisibleChatSides()}translateVisibleChatSides(){const e=this.getVisibleChats(this.props,this.state).chats.filter((e=>e.shouldTranslate(this.state.translationOptions,this.state.nyms,this.state.appLocale)));this.props.controller.ensureSidesTranslated(e)}render(){var e,t,n;const{chats:r,showingAll:i}=this.getVisibleChats(this.props,this.state),o=this.enrichChatItems(this.props,this.state,r),s=this.state.initialChatsHaveLoaded,a=o.find((({isActive:e})=>e)),c=a?a.chat.conversation.id:void 0,l=null!==this.state.sidesSearchResults?this.enrichChatItems(this.props,this.state,this.state.sidesSearchResults.chats):null,h=null!==this.state.sidesSearchResults&&this.showChatsResultsAmount<this.state.sidesSearchResults.chats.size,d=null!==this.state.messagesSearchResults&&this.showMessagesResultsAmount<this.state.messagesSearchResults.messages.length,f=Math.min(null!==(e=null==l?void 0:l.length)&&void 0!==e?e:0,this.showChatsResultsAmount),m=Math.min(null!==(n=null===(t=this.state.messagesSearchResults)||void 0===t?void 0:t.messages.length)&&void 0!==n?n:0,this.showMessagesResultsAmount),g=f>I.a.INITIALLY_VISIBLE_CHATS_SEARCH_RESULTS,E=m>I.a.INITIALLY_VISIBLE_MESSAGES_SEARCH_RESULTS,_=0==f&&0==m,v=f>0||m>0&&"searching"==this.state.isSearchingSides,A=m>0||f>0&&"searching"==this.state.isSearchingMessages,y=o.map((e=>e.chat.conversation.id)),O=null!==this.state.sidesSearchResults?Object.values(this.state.sidesSearchResults.chats.toJS()).map((e=>e.conversation.id)).slice(0,this.showChatsResultsAmount):[],S=null!==this.state.messagesSearchResults?this.state.messagesSearchResults.messages.map((e=>e.message.id)).slice(0,this.showMessagesResultsAmount):[];return u.a.createElement(Pa.a.Provider,{value:null},u.a.createElement("div",{className:"Hub",id:"hub"},u.a.createElement(p.b.Consumer,null,(({tokenRefreshFailed:e})=>{var t;return u.a.createElement(Yo,{className:["items-panel",e&&"tokenRefreshFailed"]},this.context.showFeedHeader&&(this.context.theme.hasComponent("ConversationListHeader")?u.a.createElement(u.a.Fragment,null,u.a.createElement(Wa,{theme:this.context.theme,desktopNotificationEnabled:this.props.isDesktopNotifyEnabled,toggleDesktopNotificationEnabled:()=>this.props.controller.setDesktopNotify(!this.props.isDesktopNotifyEnabled)}),this.state.features.includes("search_conv_and_messages")&&u.a.createElement(qa,{setSidesSearchResults:this.setSidesSearchResults,setMessagesSearchResults:this.setMessagesSearchResults,filter:this.props.filter})):u.a.createElement(Ya,{controller:this.props.controller,isDesktopNotifyEnabled:this.props.isDesktopNotifyEnabled})),u.a.createElement(zo,{id:"hub-scrollable",ref:this.scrollableRef},"notSearching"==this.state.isSearchingSides&&"notSearching"==this.state.isSearchingMessages&&null===this.state.sidesSearchResults&&null===this.state.messagesSearchResults?u.a.createElement(u.a.Fragment,null,!s&&u.a.createElement(ka,{key:0},this.context.t("LOADING")),s&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ma.a,{as:"nav",role:"tablist",label:"Conversation List",itemIds:y,selectable:!0,selectedItemId:c,resetFocusIndexOnBlur:!0},o.map((({chat:e,isActive:t,href:n,isWithMe:r,participants:i,sender:o,shouldTranslate:s})=>u.a.createElement(Ga,{key:e.conversation.id,me:this.state.me,chat:e,isActive:t,href:n,isWithMe:r,participants:i,sender:o,shouldTranslate:s,isSearchResult:!1})))),s&&Na.a.isEmpty(o)&&u.a.createElement(ka,{className:"lighter centered"},u.a.createElement("i",{style:{whiteSpace:"normal"}},this.context.t("HUB_EMPTY"))),!i&&!this.state.isLoading&&u.a.createElement(tt,{className:"HubChatItem test__load-more-chats",onClick:this.onShowMore,key:1},u.a.createElement(ka,{className:"lighter centered"},this.context.t("HUB_SHOW_EARLIER"))),this.state.isLoading&&u.a.createElement(ka,{className:"lighter",key:0},this.context.t("LOADING")))):u.a.createElement(u.a.Fragment,null,v&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Xa,{component:"SearchResultHeader",type:"conversations",hasMoreResults:h,hasMoreThanInitialResults:g,isLoadingResults:"searching"==this.state.isSearchingSides,needsMoreCharacters:"waitingMoreCharacters"==this.state.isSearchingSides,onShowMore:this.onShowMoreSidesResults}),u.a.createElement(Ma.a,{as:"nav",role:"tablist",label:"Conversation matching your search",itemIds:O,selectable:!0,selectedItemId:c,resetFocusIndexOnBlur:!0},null==l?void 0:l.slice(0,this.showChatsResultsAmount).map((({chat:e,isActive:t,href:n,isWithMe:r,participants:i,sender:o,shouldTranslate:s})=>u.a.createElement(Ga,{key:e.conversation.id,me:this.state.me,chat:e,isActive:t,href:n,isWithMe:r,participants:i,sender:o,shouldTranslate:s,isSearchResult:!0,searchString:this.state.sidesSearchResults.searchString})))),u.a.createElement(Xa,{component:"SearchResultFooter",type:"conversations",hasMoreResults:h,hasMoreThanInitialResults:g,isLoadingResults:"searching"==this.state.isSearchingSides,needsMoreCharacters:"waitingMoreCharacters"==this.state.isSearchingSides,onShowMore:this.onShowMoreSidesResults})),A&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Xa,{component:"SearchResultHeader",type:"messages",hasMoreResults:d,hasMoreThanInitialResults:E,isLoadingResults:"searching"==this.state.isSearchingMessages,needsMoreCharacters:"waitingMoreCharacters"==this.state.isSearchingMessages,onShowMore:this.onShowMoreMessagesResults}),u.a.createElement(Ma.a,{as:"nav",role:"menu",label:"Messages matching your search",itemIds:S,selectable:!1,resetFocusIndexOnBlur:!0},null===(t=this.state.messagesSearchResults)||void 0===t?void 0:t.messages.slice(0,this.showMessagesResultsAmount).map((({message:e,chat:t,nyms:n})=>u.a.createElement(Ha,{key:e.id,message:e,chat:t,nyms:n,me:this.state.me,searchString:this.state.messagesSearchResults.searchString})))),u.a.createElement(Xa,{component:"SearchResultFooter",type:"messages",hasMoreResults:d,hasMoreThanInitialResults:E,isLoadingResults:"searching"==this.state.isSearchingMessages,needsMoreCharacters:"waitingMoreCharacters"==this.state.isSearchingMessages,onShowMore:this.onShowMoreMessagesResults})),_&&this.context.theme.getComponent("NoSearchResults").render({isLoadingResults:"searching"==this.state.isSearchingSides||"searching"==this.state.isSearchingMessages,needsMoreCharacters:"waitingMoreCharacters"==this.state.isSearchingSides||"waitingMoreCharacters"==this.state.isSearchingMessages}))),u.a.createElement(Go,{delay:"2s"}))}))))}}Ja.propTypes={controller:s.a.object.isRequired,stores:s.a.instanceOf(ue).isRequired,currentConversationId:s.a.string,browserMode:s.a.object.isRequired,isDesktopNotifyEnabled:s.a.bool.isRequired,filter:s.a.object.isRequired},Ja.contextType=p.a;var Za=Ja;class Qa extends et.a{constructor(e){super(e),this.getFilteredChatCount=Ze(((e,t,n)=>[t.chats,n]),((e,t)=>{if(e=e.filter((e=>null!==e.change.ts)),m.e(t))return e.size;return uo(t,e.toArray(),(e=>e.getFilterableConversation())).length})),this.controllerView=new Je(this,ne.a,te.a),this.state=this.controllerView.initialState}componentDidMount(){this.controllerView.listen()}componentWillUnmount(){this.controllerView.unlisten()}getStateFromStores(e,t,n){return{me:t.getMe(),browserMode:n.getBrowserMode(),hasUnreadMessages:t.hasUnreadMessages(),isDesktopNotifyEnabled:n.isDesktopNotifyEnabled(),chats:t.getChats()}}preferHub(){return!0===this.props.forceHubPage}renderNoChatsYet(){const e=this.context.theme.hasComponent("NoChatsScreen")&&!this.context.legacyNoChatsPage?this.context.theme.getComponent("NoChatsScreen").render({}):u.a.createElement(Po,{id:"info-pinboard"},u.a.createElement("span",null,u.a.createElement("h1",null,this.context.t("INBOX_NO_CHATS_TITLE")),u.a.createElement("p",null,this.context.t("INBOX_NO_CHATS_BODY")),this.context.legacyNoChatsPage&&u.a.createElement("p",null,u.a.createElement("img",{id:"no-chats-image",src:n(381)}))));return u.a.createElement("div",{className:"Inbox"},u.a.createElement("div",{className:"empty-chat"+(this.context.legacyNoChatsPage?" legacy":"")},e))}render(){const e=this.props.hideHub?"chat-only":this.preferHub()?"mobile-prefer-hub":"mobile-prefer-chat";return u.a.createElement(p.b.Consumer,null,(({feedFilter:t})=>0===this.getFilteredChatCount(this.props,this.state,t)&&void 0===this.props.conversationId&&!1===this.props.hideHub?this.renderNoChatsYet():u.a.createElement("div",{className:"Inbox "+e},u.a.createElement("div",{className:"hub-underlay"},u.a.createElement("div",{className:"center-stage"},!this.props.hideHub&&u.a.createElement("div",{className:"hub-container"},u.a.createElement(Za,{currentConversationId:this.props.conversationId,browserMode:this.state.browserMode,controller:this.props.controller,stores:this.props.stores,isDesktopNotifyEnabled:!!this.state.isDesktopNotifyEnabled,filter:t})),u.a.createElement("div",{className:"chat-container"},""))),u.a.createElement("div",{className:"center-stage"},!this.props.hideHub&&u.a.createElement("div",{className:"hub-container"},""),u.a.createElement("div",{className:"chat-container"},!0!==this.props.hubOnly&&u.a.createElement(Ra,{stores:this.props.stores,controller:this.props.controller,conversationId:this.props.conversationId,browserMode:this.state.browserMode,hasUnreadMessages:this.state.hasUnreadMessages,neverShowInboxLink:this.props.hideHub||!this.context.showMobileBackButton,ref:e=>window.__chatBox=e,mobileDisplayMode:e}))))))}}Qa.defaultProps={hideHub:!1},Qa.propTypes={stores:s.a.instanceOf(ue).isRequired,controller:s.a.instanceOf($).isRequired,conversationId:s.a.string,forceHubPage:s.a.bool,hubOnly:s.a.bool,hideHub:s.a.bool},Qa.contextType=p.a;var eu=Qa;n(382);class tu extends et.a{constructor(e){super(e),this.controllerView=new Je(this,ne.a,Q,ee.a,te.a),this.state=this.controllerView.initialState}componentDidMount(){this.controllerView.listen()}componentWillUnmount(){this.controllerView.unlisten()}getStateFromStores(e,t,n,r,i){const o=t.getMe(),{conversation:s,others:a}=t.getConversationAndOthers(e.conversationId),u=r.getNyms();let c=s?s.participantNyms(u):q.Map();return{me:o,conversation:s,others:a,messages:n.getMessages(s.id),allMessages:n.getAllMessages(s.id),participants:c,allNyms:u,permissions:i._getTalkJSDefaults().permissions}}render(){return u.a.createElement(Yo,{className:"ReadonlyMessageList"},u.a.createElement(_o,{key:0,stores:this.props.stores,controller:this.props.controller,conversation:this.state.conversation,me:this.state.me,others:this.state.others,participants:this.state.participants,allNyms:this.state.allNyms,isDesktopNotifyEnabled:!0,messages:this.state.messages,allMessages:this.state.allMessages,showAll:!0,filter:{},mobileDisplayMode:"chat-only",permissions:this.state.permissions,browserMode:{},setEmojiReactionState:()=>{},lastReadTs:null}))}}tu.propTypes={meId:s.a.string.isRequired,stores:s.a.instanceOf(ue).isRequired,controller:s.a.instanceOf($).isRequired,conversationId:s.a.string.isRequired};var nu=tu;n(383);const ru=({isLive:e=!0}={})=>u.a.createElement("div",{className:"Ojee main-content",id:"info-pinboard",dir:"ltr"},u.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese"}),u.a.createElement("style",{dangerouslySetInnerHTML:{__html:'\n            .Ojee { \n                font-family: "Open Sans", "Helvetica", sans-serif; \n                line-height: 1.2;\n            }'}}),u.a.createElement(Po,null,u.a.createElement("span",null,u.a.createElement("h1",null,"Something went wrong."),e&&u.a.createElement("p",null,"We've been notified about it so hopefully we'll have it fixed soon."),u.a.createElement("p",null,"Please reload the page and try again."),e&&u.a.createElement("p",null,"If things keep not working, do not hesitate to get in touch with us."),!e&&u.a.createElement("p",{style:{fontStyle:"italic"}},"Developer note: check your browser's developer tools console for messages that may help solve the problem.",u.a.createElement("br",null),u.a.createElement("small",null,"This message only shows up in test mode.")))));ru.propTypes={isLive:s.a.bool};var iu=ru;async function ou(e,t){const{meId:n,conversationId:r,showAll:i}=t,o=i?I.a.ALL_MESSAGES:void 0;await uu(e,t),await e.monitorMessagesAndGetSingleConversation(n,r,o)}async function su(e,t){const{meId:n,conversationId:r}=t;await e.monitorMessagesAndGetSingleConversation(n,r)}async function au(e,t){const{meId:n,hubOnly:r}=t,i=await uu(e,t);let o=ge.a(i,(e=>e)).filter(R.s);const s=t.location.getLocalSettings(),a=s&&s.feedFilter;a&&!m.e(a)&&(o=uo(a,o,(e=>e.getFilterableConversation())));const u=[...o].filter((e=>null!==e.change.ts)).sort(((e,t)=>t.change.ts-e.change.ts));if(u.length>0){const i=u[0].change;if(await e.monitorMessagesAndGetSingleConversation(n,i.id),!r)return t.conversationId=i.id,new Ye((e=>{e.relativePath=e.relativePath.replace("/inbox","/inbox/"+i.id)}))}}function uu(e,t){i.a.is(t.meId,String);const n=t.location.getLocalSettings(),r=n&&n.feedFilter;return e.monitorChats(t.meId,I.a.INITIAL_CHATS_LOADED,r)}async function cu(e,{meId:t,location:n}){i.a.is(t,String);const r=await e.loadMe(t);if(!r)throw new le.a("Could not find nym "+t,"Could not find user.\n\n- If you're synchronizing user data via the REST API, this could be a bug in your code. Please verify that you've synchronized this user's data before loading a TalkJS UI.\n\n- If you're synchronizing user data via the TalkJS JavaScript SDK, then you might've hit a TalkJS bug - please get in touch with us!");const o=n.getLocalSettings();let s=o&&o.theme;"string"==typeof s&&(s={name:s});const a=s&&s.custom;let{config:u,features:c,appMetadata:l}=await e.loadAppSettingsAndConfig(r.configuration,r.locale,s&&s.name);const d=h(u.locale).meta.code;let f=["ar","he-IL","fa"].includes(d)?"rtl":"ltr";return o&&(f=o.dir||f,o.rawV1Theme&&(u=u.set("theme",{version:"v1",mode:S.b.ThemeMode.Custom,raw:o.rawV1Theme}))),new We(u,l,a,f,d,c)}function lu(e,{location:t}){const n=t.getLocalSettings();if(!n)return;let{desktopNotify:r,htmlPanelOptions:i,useBrowserHistory:o,translationOptions:s}=n;e._context.setDesktopNotify(Boolean(r)),e._context.setHtmlPanelOptions(i),e._context.setTranslationOptions(s),e.nav.setBrowserHistoryMode(o)}async function hu(e,{location:t,asGuest:n}){const r=t.searchParams.get("syncPlease");if(!r)return;const{me:i,others:o,conversation:s,externalConversationId:a}=function(e){let{me:t,others:n,conversation:r,externalConversationId:i}=R.d(e);return{me:t,others:n,conversation:r,externalConversationId:i}}(r);return await e.syncOrAwaitData({me:i,others:o,conversation:s,externalConversationId:a,asGuest:n}),function(e){const t=new Ye((e=>{e.searchParams.delete("syncPlease")}));return void e.nav.replaceLocation(t.mutateLocation)}(e)}var du=[new $e("oops",{view:iu,auxProps:{message:"unexpectedError"}}),new $e("oops/:message",{view:iu}),new $e("user/:meId/inbox",{view:eu,actions:[hu],data:[lu,au],once:[cu]}),new $e("user/:meId/inbox/chats",{view:eu,actions:[hu],data:[lu,au],once:[cu],auxProps:{forceHubPage:!0}}),new $e("user/:meId/chatbox/chats",{view:eu,actions:[hu],data:[lu,au],once:[cu],auxProps:{forceHubPage:!0,hideHub:!0}}),new $e("user/:meId/inbox/chats/hubOnly",{view:eu,actions:[hu],data:[lu,uu],once:[cu],auxProps:{forceHubPage:!0,hubOnly:!0,conversationId:null}}),new $e("user/:meId/inbox/:conversationId",{view:eu,actions:[hu],data:[lu,ou],once:[cu]}),new $e("user/:meId/chatbox/:conversationId",{view:eu,actions:[hu],data:[lu,su],once:[cu],auxProps:{hideHub:!0}}),new $e("user/:meId/chatbox/:conversationId/g",{view:eu,actions:[hu],data:[lu,su],once:[cu],auxProps:{asGuest:!0,hideHub:!0}}),new $e("user/:meId/inbox/:conversationId/chats",{view:eu,actions:[hu],data:[lu,ou],once:[cu],auxProps:{forceHubPage:!0}}),new $e("dashboard/:meId/messageList/:conversationId",{view:nu,data:[ou],once:[cu],auxProps:{showAll:!0,injectBaseTag:!0}})];function fu(e){return e instanceof We}function pu(e){return e instanceof Ye}var mu=class{constructor({nav:e,initialData:t,sessionId:n,serverTimeOffset:r}){this.isLoaded=!1;const o=e.location.appId;this.context=new ce,this.fetcher=new Ve(this.context,{initialData:t,appId:o,sessionId:n}),this.controller=new $(this.fetcher,this.context,e,r),this.router=new Xe(du,"oops/"),this.resetLoaded(),this.nav=e,this._sessionId=n,this._initialData=t,this.xdmServer=new d.a(this.controller,this.fetcher,this.context.stores),this.run=async()=>{i.a.defined(t.AUTH_TOKEN),this.fetcher.setAuthToken(t.AUTH_TOKEN);const n=e.location.searchParams.get("id");return this.fetcher.joinBackend(n,t.AUTH_TOKEN),this.locationChanged(e.location)},Object(Ee.a)((e=>{e.application=this,e.controller=this.controller,e.stores=this.context.stores.dispatcher.storeInstances}))}async authenticate(e){const t=this.router.getEntryPoint(e),{meId:n}=t.props,r=e.searchParams.get("id");if(i.a.defined(r),n){const e=Object(He.a)(r)+"_n";if(e!==n)throw new Error(`[TalkJS]: Path User ID ${n} isn't equal to hashed external id ${e} (for externalId = ${r}.`)}const o=e.searchParams.get("authToken"),s=e.searchParams.get("signature");return o&&!s?o:this.fetcher.makeBackendAuthToken(r,s)}resetLoaded(){this._loadedDeferred=Object(G.b)(),this.loadedPromise=this._loadedDeferred.promise.then((e=>(this.isLoaded=!0,e))),this.isLoaded=!1}getViewDescriptor(e){if(!this.currentEntryPoint)throw"Error!";return u.a.createElement(A,{parsedTheme:this._initialData.PARSED_THEME,nav:this.nav,controller:this.controller,stores:this.context.stores,initialEntryPoint:this.currentEntryPoint,sessionId:this._sessionId,timeOfFirstRender:e,isDashboardPreview:this._initialData.IS_DASHBOARD_PREVIEW})}static resetInitialData(e){e.MESSAGES=void 0,e.APP=null,e.SIDES=void 0,e.NYMS=void 0,e.SESSION_ID=null,e.AUTH_TOKEN=null,e.PARSED_THEME=null,e.POST_BUFFER={},e.FIRST_RENDER_TS=null}batchFluxUpdates(e){return this.context.batchFluxUpdates(e)}async locationChanged(e){const t=Boolean(this.currentEntryPoint);if(this.currentEntryPoint=this.router.getEntryPoint(e),this.context.locationMaybeChanged(this.currentEntryPoint),t){await this.currentEntryPoint.doActions(this.controller);const e=this.currentEntryPoint.fetchData(this.controller);return this.hackyDoWeHaveEnoughDataToRender()||await e,this._loadedDeferred.resolve(void 0),void this.context.locationMaybeChanged(this.currentEntryPoint)}const n=await this.currentEntryPoint.doActions(this.controller),r=[...await this.currentEntryPoint.fetchData(this.controller),...n],i=r.find(fu),o=r.filter(pu),s=Ye.getNewLocation(this.controller.nav.location,o);this.context.locationMaybeChanged(this.currentEntryPoint),this._loadedDeferred.resolve({newLocation:s,configToken:i})}hackyDoWeHaveEnoughDataToRender(){const e=this.currentEntryPoint.props.conversationId;if(void 0===e)return!1;if(e){const t=this.context.meStore.getChat(e);return!(!t&&null!==t)}return!0}cleanup(){Object(i.a)((()=>!1)),this.fetcher.leaveBackend()}},gu=n(119);const Eu=n(234).ExportedVars;var _u=n(128);const vu=globalThis.window;function Au(){vu.view=fr.a.render(u.a.createElement(iu,null),document.getElementById("hello"))}function yu(e){return(!vu.application||vu.application&&!vu.application.isLoaded)&&Au(),!0}vu.addEventListener("unhandledrejection",(function(e){var t,n;e.preventDefault();const r=null!==(n=null===(t=e.detail)||void 0===t?void 0:t.reason)&&void 0!==n?n:e.reason;z.a.error(r)})),vu.trackJs?vu.trackJs.configure({onError:yu,console:{error:!1}}):vu.onerror=yu,vu.browser={ie:-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0};let Ou=!0;function Su(){const e=document.createElement("div");Object.assign(e.style,{position:"absolute",left:"-400px",top:"0px",width:"100px",height:"100px",overflowX:"hidden",overflowY:"scroll"}),document.body.appendChild(e),Ou=e.scrollWidth<e.offsetWidth,document.body.removeChild(e)}function bu(e){document.documentElement.className=Ou?"has-visible-scrollbar":"scrollbar-never-visible";const t=function(){var e;const t=parseInt(Eu.minimumInboxWidth),{width:n,height:r}=Object(gu.a)();return{height:r,width:n,isNarrow:n<=t,isDesktop:(null===(e=window.initialData)||void 0===e?void 0:e.IS_DESKTOP)||!1}}();e.context.setBrowserMode(t)}!async function(){if(vu.__TALK_ERROR_STATE)return;if(vu.__talkjsError)return Au(),void console.error("[TalkJS]: You are trying to load TalkJS from a custom domain without being on a plan that supports it");const e=vu.initialData;for(let t in e.POST_BUFFER)_u.set(t,e.POST_BUFFER[t]);const t=await C.a.create(),r=vu.application=new mu({nav:t,initialData:e,sessionId:e.SESSION_ID,serverTimeOffset:vu.serverTimeOffset});Su(),bu(r);try{const{polyfillCountryFlagEmojis:e}=n(384);e()}catch(e){}function i(e){vu.view&&vu.view.onWindowVisibleChange&&vu.view.onWindowVisibleChange(e)}setTimeout((()=>{Su(),bu(r)}),100),vu.onresize=function(){bu(r)},vu.addEventListener("focus",(()=>i(!0))),vu.addEventListener("blur",(()=>i(!1))),vu.addEventListener("beforeunload",(function(e){if(!navigator.sendBeacon)return;const t=new URLSearchParams(location.search).get("bufferKey");if(!t)return;const n=_u.get(t);n&&navigator.sendBeacon(`/__buffer/${t}`,JSON.stringify({value:n}))}));try{await r.run()}catch(e){if(vu.__TALK_ERROR_STATE)return;return z.a.error(e),void Au()}try{t.listen((async()=>(await r.loadedPromise,r.batchFluxUpdates((async()=>{try{if(await r.locationChanged(t.location),vu.view)return vu.view.locationChanged(r.currentEntryPoint)}catch(e){console.error(e)}}))))),await r.loadedPromise,d.a.initialise();var o=r.getViewDescriptor(e.FIRST_RENDER_TS);vu.view=fr.a.hydrate(o,document.getElementById("hello"),(function(){this&&this.setState({serverTimeOffset:vu.serverTimeOffset,isFirstRender:!1})})),mu.resetInitialData(e),i(!1)}catch(e){if(vu.__TALK_ERROR_STATE)return;z.a.error(e)}}()},,,function(e,t,n){"use strict";n.r(t);var r=n(129),i=n(38),o=n(23),s=n(79);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="firebasestorage.googleapis.com";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class u extends o.c{constructor(e,t){super(c(e),`Firebase Storage: ${t} (${c(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}_codeEquals(e){return c(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function c(e){return"storage/"+e}function l(){return new u("unknown","An unknown error occurred, please check the error payload for server response.")}function h(){return new u("canceled","User canceled the upload/download.")}function d(){return new u("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(e){return new u("invalid-argument",e)}function p(){return new u("app-deleted","The Firebase app was deleted.")}function m(e){return new u("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function g(e,t){return new u("invalid-format","String does not match format '"+e+"': "+t)}function E(e){throw new u("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_.makeFromUrl(e,t)}catch(t){return new _(e,"")}if(""===n.path)return n;throw new u("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),c=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<c.length;t++){const r=c[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new _(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new u("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class v{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e){return"string"==typeof e||e instanceof String}function y(e){return O()&&e instanceof Blob}function O(){return"undefined"!=typeof Blob}function S(e,t,n,r){if(r<t)throw f(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw f(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function D(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(T||(T={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class C{constructor(e,t,n,r,i,o,s,a,u,c,l){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=l,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new R(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===T.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===T.ABORT;return void e(!1,new R(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new R(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){const e=l();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?p():h())}else{r(new u("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new R(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return 2===a}let c=!1;function l(...e){c||(c=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,u())}),t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(c)return void d();if(e)return d(),void l.call(null,e,...t);if(u()||s)return d(),void l.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class R{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function N(...e){const t=I();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(O())return new Blob(e);throw new u("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const w={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class k{constructor(e,t){this.data=e,this.contentType=t||null}}function x(e,t){switch(e){case w.RAW:return new k(L(t));case w.BASE64:case w.BASE64URL:return new k(M(e,t));case w.DATA_URL:return new k(function(e){const t=new P(e);return t.base64?M(w.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw g(w.DATA_URL,"Malformed data URL.")}return L(t)}(t.rest)}(t),new P(t).contentType)}throw l()}function L(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function M(e,t){switch(e){case w.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw g(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case w.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw g(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw g(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class P{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw g(w.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class F{constructor(e,t){let n=0,r="";y(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(y(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.data_,e,t);return null===n?null:new F(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new F(n,!0)}}static getBlob(...e){if(O()){const t=e.map((e=>e instanceof F?e.data_:e));return new F(N.apply(null,t))}{const t=e.map((e=>A(e)?x(w.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new F(r,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){let t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e,t){return t}class H{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||U}}let z=null;function V(){if(z)return z;const e=[];e.push(new H("bucket")),e.push(new H("generation")),e.push(new H("metageneration")),e.push(new H("name","fullPath",!0));const t=new H("name");t.xform=function(e,t){return function(e){return!A(e)||e.length<2?e:B(e)}(t)},e.push(t);const n=new H("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new H("timeCreated")),e.push(new H("updated")),e.push(new H("md5Hash",null,!0)),e.push(new H("cacheControl",null,!0)),e.push(new H("contentDisposition",null,!0)),e.push(new H("contentEncoding",null,!0)),e.push(new H("contentLanguage",null,!0)),e.push(new H("contentType",null,!0)),e.push(new H("metadata","customMetadata",!0)),z=e,z}function G(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new _(n,r);return t._makeStorageReference(i)}})}(r,e),r}function $(e,t,n){const r=j(t);if(null===r)return null;return G(e,r,n)}function Y(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t,n){const r=j(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new _(t,n));r.prefixes.push(o)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new _(t,i.name));r.items.push(n)}return r}(e,t,r)}class K{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e){if(!e)throw l()}function X(e,t){return function(n,r){const i=$(e,r,t);return q(null!==i),i}}function J(e,t){return function(n,r){const i=$(e,r,t);return q(null!==i),function(e,t,n,r){const i=j(t);if(null===i)return null;if(!A(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return b("/b/"+s(i)+"/o/"+s(o),n,r)+D({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Z(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new u("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new u("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new u("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new u("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Q(e){const t=Z(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new u("object-not-found","Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ee(e,t,n){const r=b(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new K(r,"GET",X(e,n),i);return o.errorHandler=Q(t),o}function te(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=b(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,u=new K(s,"GET",function(e,t){return function(n,r){const i=W(e,t,r);return q(null!==i),i}}(e,t.bucket),a);return u.urlParams=o,u.errorHandler=Z(t),u}function ne(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function re(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const u=ne(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Y(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=F.getBlob(c,r,l);if(null===h)throw d();const f={name:u.fullPath},p=b(o,e.host,e._protocol),m=e.maxUploadRetryTime,g=new K(p,"POST",X(e,n),m);return g.urlParams=f,g.headers=s,g.body=h.uploadData(),g.errorHandler=Z(t),g}class ie{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function oe(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){q(!1)}return q(!!n&&-1!==(t||["active"]).indexOf(n)),n}const se=262144;function ae(e,t,n,r,i,o,s,a){const c=new ie(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new u("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const f=c.current,p=f+h,m={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":`${c.current}`},g=r.slice(f,p);if(null===g)throw d();const E=t.maxUploadRetryTime,_=new K(n,"POST",(function(e,n){const i=oe(e,["active","final"]),s=c.current+h,a=r.size();let u;return u="final"===i?X(t,o)(e,n):null,new ie(s,a,"final"===i,u)}),E);return _.headers=m,_.body=g.uploadData(),_.progressCallback=a||null,_.errorHandler=Z(e),_}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={STATE_CHANGED:"state_changed"},ce={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function le(e){switch(e){case"running":case"pausing":case"canceling":return ce.RUNNING;case"paused":return ce.PAUSED;case"success":return ce.SUCCESS;case"canceled":return ce.CANCELED;case"error":default:return ce.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=T.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=T.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=T.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw E("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw E("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw E("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw E("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw E("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class pe extends fe{initXhr(){this.xhr_.responseType="text"}}function me(){return new pe}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ge{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=V(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=ne(t,r,i),a={name:s.fullPath},u=b(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Y(s,n),h=e.maxUploadRetryTime,d=new K(u,"POST",(function(e){let t;oe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){q(!1)}return q(A(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=l,d.errorHandler=Z(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,me,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new K(n,"POST",(function(e){const t=oe(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){q(!1)}n||q(!1);const i=Number(n);return q(!isNaN(i)),new ie(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Z(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,me,t,n);this._request=i,i.getPromise().then((e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=se*this._chunkMultiplier,t=new ie(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=ae(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const s=this._ref.storage._makeRequest(o,me,r,i);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){se*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=ee(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,me,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=re(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,me,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=h(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=le(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new he(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(le(this._state)){case ce.SUCCESS:de(this._resolve.bind(null,this.snapshot))();break;case ce.CANCELED:case ce.ERROR:de(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(le(this._state)){case ce.RUNNING:case ce.PAUSED:e.next&&de(e.next.bind(e,this.snapshot))();break;case ce.SUCCESS:e.complete&&de(e.complete.bind(e))();break;case ce.CANCELED:case ce.ERROR:e.error&&de(e.error.bind(e,this._error))();break;default:e.error&&de(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,t){this._service=e,this._location=t instanceof _?t:_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ee(e,t)}get root(){const e=new _(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _(this._location.bucket,e);return new Ee(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw m(e)}}function _e(e){const t={prefixes:[],items:[]};return ve(e,t).then((()=>t))}async function ve(e,t,n){const r={pageToken:n},i=await Ae(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await ve(e,t,i.nextPageToken)}function Ae(e,t){null!=t&&"number"==typeof t.maxResults&&S("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=te(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,me)}function ye(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=b(t.fullServerUrl(),e.host,e._protocol),o=Y(n,r),s=e.maxOperationRetryTime,a=new K(i,"PATCH",X(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Q(t),a}(e.storage,e._location,t,V());return e.storage.makeRequestWithTokens(n,me)}function Oe(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=b(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new K(r,"GET",J(e,n),i);return o.errorHandler=Q(t),o}(e.storage,e._location,V());return e.storage.makeRequestWithTokens(t,me).then((e=>{if(null===e)throw new u("no-download-url","The given file does not have any download URLs.");return e}))}function Se(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=b(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new K(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Q(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,me)}function be(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _(e._location.bucket,n);return new Ee(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(e,t){if(e instanceof Re){const n=e;if(null==n._bucket)throw new u("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new Ee(n,n._bucket);return null!=t?De(r,t):r}return void 0!==t?be(e,t):e}function Te(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Re)return new Ee(e,t);throw f("To use ref(service, url), the first argument must be a Storage instance.")}return De(e,t)}function Ce(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:_.makeFromBucketSpec(n,e)}class Re{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_.makeFromBucketSpec(r,this._host):Ce(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=_.makeFromBucketSpec(this._url,e):this._bucket=Ce(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ee(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new v(p());{const i=function(e,t,n,r,i,o){const s=D(e.urlParams),a=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new C(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ie="@firebase/storage",Ne="0.9.6",we="storage";function ke(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ge(e,new F(t),n)}(e=Object(o.j)(e),t,n)}function xe(e){return function(e){e._throwIfRoot("getMetadata");const t=ee(e.storage,e._location,V());return e.storage.makeRequestWithTokens(t,me)}(e=Object(o.j)(e))}function Le(e,t){return Te(e=Object(o.j)(e),t)}function Me(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:Object(o.f)(i,e.app.options.projectId))}(e,t,n,r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Re(n,r,o,t,i.SDK_VERSION)}Object(i._registerComponent)(new s.a(we,Pe,"PUBLIC").setMultipleInstances(!0)),Object(i.registerVersion)(Ie,Ne,""),Object(i.registerVersion)(Ie,Ne,"esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fe{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fe(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Fe(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"==typeof t?e=>t(new Fe(e,this,this._ref)):{next:t.next?e=>t.next(new Fe(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Be{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Ue(e,this._service)))}get items(){return this._delegate.items.map((e=>new Ue(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return be(e,t)}(this._delegate,e);return new Ue(t,this.storage)}get root(){return new Ue(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ue(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new je(ke(this._delegate,e,t),this)}putString(e,t=w.RAW,n){this._throwIfRoot("putString");const r=x(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new je(new ge(this._delegate,new F(r.data,!0),i),this)}listAll(){return(e=this._delegate,_e(e=Object(o.j)(e))).then((e=>new Be(e,this.storage)));var e}list(e){return function(e,t){return Ae(e=Object(o.j)(e),t)}(this._delegate,e||void 0).then((e=>new Be(e,this.storage)))}getMetadata(){return xe(this._delegate)}updateMetadata(e){return function(e,t){return ye(e=Object(o.j)(e),t)}(this._delegate,e)}getDownloadURL(){return e=this._delegate,Oe(e=Object(o.j)(e));var e}delete(){return this._throwIfRoot("delete"),e=this._delegate,Se(e=Object(o.j)(e));var e}_throwIfRoot(e){if(""===this._delegate._location.path)throw m(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(ze(e))throw f("ref() expected a child path but got a URL, use refFromURL instead.");return new Ue(Le(this._delegate,e),this)}refFromURL(e){if(!ze(e))throw f("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_.makeFromUrl(e,this._delegate.host)}catch(e){throw f("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ue(Le(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){Me(this._delegate,e,t,n)}}function ze(e){return/^[A-Za-z]+:\/\//.test(e)}function Ve(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new He(n,r)}!function(e){const t={TaskState:ce,TaskEvent:ue,StringFormat:w,Storage:He,Reference:Ue};e.INTERNAL.registerComponent(new s.a("storage-compat",Ve,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.14")}(r.a)},function(e,t,n){"use strict";n.r(t);n(239),n(279);var r=n(37);n.p=r.b+"//"+r.d+n.p}]);